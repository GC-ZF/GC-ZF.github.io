function insertAtCursor(e,t){if(document.selection)e.focus(),sel=document.selection.createRange(),sel.text=t,sel.select();else if(e.selectionStart||"0"==e.selectionStart){var n=e.selectionStart,o=e.selectionEnd,i=e.scrollTop;e.value=e.value.substring(0,n)+t+e.value.substring(o,e.value.length),i>0&&(e.scrollTop=i),e.focus(),e.selectionStart=n+t.length,e.selectionEnd=n+t.length}else e.value+=t,e.focus()}let rmf={};function popupMenu(){window.oncontextmenu=function(e){if(e.ctrlKey)return!0;console.log(e.keyCode),$(".rightMenu-group.hide").hide(),document.getSelection().toString()&&$("#menu-text").show(),(document.getElementById("post")||document.getElementById("page"))&&$("#menu-post").show();var t=window.document.body;t=e.target;/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\*\+,;=.]+$/.test(window.getSelection().toString())&&$("#menu-too").show(),"A"==t.tagName&&($("#menu-to").show(),rmf.open=function(){location.href=t.href},rmf.openWithNewTab=function(){window.open(t.href)},rmf.copyLink=function(){let e=t.href,n=document.createElement("textarea");n.value=e,document.body.appendChild(n),n.select(),document.execCommand("Copy"),document.body.removeChild(n)}),"IMG"==t.tagName?($("#menu-img").show(),rmf.openWithNewTab=function(){window.open(t.src)},rmf.click=function(){t.click()},rmf.copyLink=function(){let e=t.src,n=document.createElement("textarea");n.value=e,document.body.appendChild(n),n.select(),document.execCommand("Copy"),document.body.removeChild(n)}):"TEXTAREA"!=t.tagName&&"INPUT"!=t.tagName||($("#menu-paste").show(),rmf.paste=function(){navigator.permissions.query({name:"clipboard-read"}).then((e=>{"granted"==e.state||"prompt"==e.state?navigator.clipboard.readText().then((e=>{console.log(e),insertAtCursor(t,e)})):alert("è¯·å…è®¸è¯»å–å‰ªè´´æ¿ï¼")}))});let n=e.clientX+10,o=e.clientY,i=$("#rightMenu").width(),a=$("#rightMenu").height();return n+i>window.innerWidth&&(n-=i+10),o+a>window.innerHeight&&(o-=o+a-window.innerHeight),rmf.showRightMenu(!0,o,n),!1},window.addEventListener("click",(function(){rmf.showRightMenu(!1)}))}function addLongtabListener(e,t){let n=0;e.ontouchstart=()=>{n=0,n=setTimeout((()=>{t(),n=0}),380)},e.ontouchmove=()=>{clearTimeout(n),n=0},e.ontouchend=()=>{n&&clearTimeout(n)}}rmf.showRightMenu=function(e,t=0,n=0){let o=$("#rightMenu");o.css("top",t+"px").css("left",n+"px"),e?o.show():o.hide()},rmf.switchDarkMode=function(){"light"===("dark"===document.documentElement.getAttribute("data-theme")?"dark":"light")?(activateDarkMode(),saveToLocal.set("theme","dark",2),void 0!==GLOBAL_CONFIG.Snackbar&&btf.snackbarShow(GLOBAL_CONFIG.Snackbar.day_to_night)):(activateLightMode(),saveToLocal.set("theme","light",2),void 0!==GLOBAL_CONFIG.Snackbar&&btf.snackbarShow(GLOBAL_CONFIG.Snackbar.night_to_day)),"function"==typeof utterancesTheme&&utterancesTheme(),"object"==typeof FB&&window.loadFBComment(),window.DISQUS&&document.getElementById("disqus_thread").children.length&&setTimeout((()=>window.disqusReset()),200)},rmf.copyWordsLink=function(){let e=window.location.href,t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("Copy"),document.body.removeChild(t),Swal.fire("å¤åˆ¶æˆåŠŸï¼")},rmf.switchReadMode=function(){const e=document.body;e.classList.add("read-mode");const t=document.createElement("button");t.type="button",t.className="fas fa-sign-out-alt exit-readmode",e.appendChild(t),t.addEventListener("click",(function n(){e.classList.remove("read-mode"),t.remove(),t.removeEventListener("click",n)}))},rmf.copySelect=function(){document.execCommand("Copy",!1,null)},rmf.scrollToTop=function(){btf.scrollToDest(0,500)},rmf.translate=function(){document.getElementById("translateLink").click()},document.onkeydown=function(e){17!=(e=e||window.event).keyCode||console.log("ä½ çŸ¥é“çš„å¤ªå¤šäº†")},navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)||popupMenu();var zhsher={PublicSacrificeDay:()=>{var e=new Array("0404","0404","0405","0406","0414","0512","0707","0807","0814","0909","0918","0930","1025","1213"),t=new Date,n="",o=t.getMonth()+1;return t.getMonth()>9?n+=o:n+="0"+o,t.getDate()>9?n+=t.getDate():n+="0"+t.getDate(),e.indexOf(n)>-1?1:0},saveData:(e,t)=>{localStorage.setItem(e,JSON.stringify({time:Date.now(),data:t}))},loadData:(e,t)=>{let n=JSON.parse(localStorage.getItem(e));if(n){let e=Date.now()-n.time;if(-1<e&&e<6e4*t)return n.data}return 0},talkTimer:null,indexTalk:()=>{if(zhsher.talkTimer&&(clearInterval(zhsher.talkTimer),zhsher.talkTimer=null),!document.getElementById("bber-talk"))return;function e(e){let t="";e.forEach(((e,n)=>{t+=`<li class="item item-${n+1}">${e}</li>`}));let n=document.querySelector("#bber-talk .talk-list");n.innerHTML=t,zhsher.talkTimer=setInterval((()=>{n.appendChild(n.children[0])}),3e3)}let t=zhsher.loadData("talk",10);t?e(t):fetch("https://memos.nesxc.com/api/v1/memo?creatorId=2&tag=è¯´è¯´&limit=10").then((e=>e.json())).then((t=>{e(t=function(e){let t=[];return e.forEach((e=>{t.push(e.content.replace(/#(.*?)\s/g,"").replace(/\{(.*?)\}/g,"").replace(/\!\[(.*?)\]\((.*?)\)/g,'<i class="fa-solid fa-image"></i>').replace(/(?<!!)\[(.*?)\]\((.*?)\)/g,'<i class="fa-solid fa-link"></i>'))})),t}(t)),zhsher.saveData("talk",t)}))},percent:()=>{let e=document.documentElement.scrollTop||window.pageYOffset,t=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)-document.documentElement.clientHeight,n=Math.round(e/t*100);n<=99||(n=99),document.querySelector("#percent").innerHTML=n},now1:new Date,createtime1:()=>{var e=new Date("05/01/2022 00:00:00");zhsher.now1.setTime(zhsher.now1.getTime()+250);var t=(zhsher.now1-e)/1e3/60/60/24,n=["æ¬¢è¿æ¥åˆ°å¼ æ—¶è´°`Blog!","æ´åº­æ˜¥æºœæ»¡ï¼Œå¹³æ¹–é”¦å¸†å¼ ï¼Œç§°å°å¼ ã€‚åäºŒä¸ºä¸€å¹´äº¦åŠå¤©äº¦...å®¶äººã€æ‹äººã€æœ‹å‹...å®‰å¥½ã€çŸ¥å¿ƒã€å¿«ä¹...åäºŒç”»ï¼Œæ—¶é—´ã€äººã€æƒ…ç»ªï¼ŒåäºŒæ˜¯æˆ‘æœ€å–œæ¬¢çš„æ•°å­—ï¼Œæ•…ç§°å¼ æ—¶è´°ï¼","\n\n  â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—\n  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â•â•â•â•šâ•â•â–ˆâ–ˆâ•”â•â•â•\n  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—     â–ˆâ–ˆâ•‘   \n  â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â•     â–ˆâ–ˆâ•‘   \n   â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•‘   \n    â•šâ•â•â•â•  â•šâ•â• â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•â•   â•šâ•â•   \n                                              \n","å¼ æ—¶è´°`Blog å·²ä¸Šçº¿",Math.floor(t),"å¤©","Â©2022 By å¼ æ—¶è´°"];setTimeout(console.log.bind(console,`\n%c${n[0]} %c ${n[1]} %c ${n[2]} %c${n[3]}%c ${n[4]}%c ${n[5]}\n\n%c ${n[6]}\n`,"color:#425aef","","color:#425aef","color:#425aef","","color:#425aef",""))},createtime2:()=>{var e=["NCC2-036","è°ƒç”¨å‰ç½®æ‘„åƒå¤´æ‹ç…§æˆåŠŸï¼Œè¯†åˆ«ä¸ºã€å°ç¬¨è›‹ã€‘.","Photo captured: "," ğŸ¤ª "];setTimeout(console.log.bind(console,`%c ${e[0]} %c ${e[1]} %c \n${e[2]} %c\n${e[3]}\n`,"color:white; background-color:#4fd953","","",'background:url("https://q1.qlogo.cn/g?b=qq&nk=1310446718&s=5") no-repeat;font-size:450%')),setTimeout(console.log.bind(console,"%c WELCOME %c ä½ å¥½ï¼Œå°ç¬¨è›‹.","color:white; background-color:#4f90d9","")),setTimeout(console.warn.bind(console,"%c âš¡ Powered by å¼ æ—¶è´° %c ä½ æ­£åœ¨è®¿é—® å¼ æ—¶è´° çš„åšå®¢.","color:white; background-color:#f0ad4e","")),setTimeout(console.log.bind(console,"%c W23-12 %c ä½ å·²æ‰“å¼€æ§åˆ¶å°.","color:white; background-color:#4f90d9","")),setTimeout(console.warn.bind(console,"%c S013-782 %c ä½ ç°åœ¨æ­£å¤„äºç›‘æ§ä¸­.","color:white; background-color:#d9534f",""))},getTimeState:function(){var e=(new Date).getHours(),t="";return 0<=e&&e<=5?t="æ™šå®‰ğŸ˜´":5<e&&e<=10?t="æ—©ä¸Šå¥½ğŸ‘‹":10<e&&e<=14?t="ä¸­åˆå¥½ğŸ‘‹":14<e&&e<=18?t="ä¸‹åˆå¥½ğŸ‘‹":18<e&&e<=24&&(t="æ™šä¸Šå¥½ğŸ‘‹"),t},sayhi:function(){var e=document.getElementById("author-info__sayhi");e&&(e.innerHTML=zhsher.getTimeState()+"ï¼æˆ‘æ˜¯")},title_404:()=>{var e,t=document.title;document.addEventListener("visibilitychange",(function(){document.hidden?(document.title="404 Not Found",clearTimeout(e)):(document.title="ãƒ¾(â‰§â–½â‰¦*)oä¸Šå½“äº†å§å˜¿å˜¿",e=setTimeout((function(){document.title=t}),3e3))}))},dark:()=>{window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;var e,t,n,o,i=.05,a=document.getElementById("universe"),c=!0,r="226,225,224",s=[];function d(){e=window.innerWidth,t=window.innerHeight,n=.216*e,a.setAttribute("width",e),a.setAttribute("height",t)}function l(){o.clearRect(0,0,e,t);for(var n=s.length,i=0;i<n;i++){var a=s[i];a.move(),a.fadeIn(),a.fadeOut(),a.draw()}}function h(){this.reset=function(){this.giant=u(3),this.comet=!this.giant&&!c&&u(10),this.x=m(0,e-10),this.y=m(0,t),this.r=m(1.1,2.6),this.dx=m(i,6*i)+(this.comet+1-1)*i*m(50,120)+.1,this.dy=-m(i,6*i)-(this.comet+1-1)*i*m(50,120),this.fadingOut=null,this.fadingIn=!0,this.opacity=0,this.opacityTresh=m(.2,1-.4*(this.comet+1-1)),this.do=m(5e-4,.002)+.001*(this.comet+1-1)},this.fadeIn=function(){this.fadingIn&&(this.fadingIn=!(this.opacity>this.opacityTresh),this.opacity+=this.do)},this.fadeOut=function(){this.fadingOut&&(this.fadingOut=!(this.opacity<0),this.opacity-=this.do/2,(this.x>e||this.y<0)&&(this.fadingOut=!1,this.reset()))},this.draw=function(){if(o.beginPath(),this.giant)o.fillStyle="rgba(180,184,240,"+this.opacity+")",o.arc(this.x,this.y,2,0,2*Math.PI,!1);else if(this.comet){o.fillStyle="rgba("+r+","+this.opacity+")",o.arc(this.x,this.y,1.5,0,2*Math.PI,!1);for(var e=0;e<30;e++)o.fillStyle="rgba("+r+","+(this.opacity-this.opacity/20*e)+")",o.rect(this.x-this.dx/4*e,this.y-this.dy/4*e-2,2,2),o.fill()}else o.fillStyle="rgba(226,225,142,"+this.opacity+")",o.rect(this.x,this.y,this.r,this.r);o.closePath(),o.fill()},this.move=function(){this.x+=this.dx,this.y+=this.dy,!1===this.fadingOut&&this.reset(),(this.x>e-e/4||this.y<0)&&(this.fadingOut=!0)},setTimeout((function(){c=!1}),50)}function u(e){return Math.floor(1e3*Math.random())+1<10*e}function m(e,t){return Math.random()*(t-e)+e}d(),window.addEventListener("resize",d,!1),function(){o=a.getContext("2d");for(var e=0;e<n;e++)s[e]=new h,s[e].reset();l()}(),function e(){"dark"==document.getElementsByTagName("html")[0].getAttribute("data-theme")&&l(),window.requestAnimationFrame(e)}()},showLoading:()=>{document.querySelector("#loading-box").classList.remove("loaded")},hideLoading:()=>{document.querySelector("#loading-box").classList.add("loaded")}};function whenDOMReady(){zhsher.hideLoading(),zhsher.PublicSacrificeDay()&&document.getElementsByTagName("html")[0].setAttribute("style","filter:gray !important;filter:grayscale(100%);-webkit-filter:grayscale(100%);-moz-filter:grayscale(100%);-ms-filter:grayscale(100%);-o-filter:grayscale(100%);"),zhsher.indexTalk(),document.getElementById("page-name").innerText=document.title.split(" | å¼ æ—¶è´°")[0],zhsher.sayhi()}document.addEventListener("pjax:send",(function(){zhsher.showLoading()})),whenDOMReady(),document.addEventListener("pjax:complete",whenDOMReady),window.onscroll=zhsher.percent;const box=document.documentElement;addLongtabListener(box,popupMenu),zhsher.createtime1(),zhsher.createtime2(),zhsher.title_404(),zhsher.dark();