<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>Hexo博客搭建 | 张时贰</title><meta name="author" content="张时贰"><meta name="copyright" content="张时贰"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="手摸手教你搭建Hexo博客"><meta property="og:type" content="article"><meta property="og:title" content="Hexo博客搭建"><meta property="og:url" content="https://zhsher.cn/posts/41646/index.html"><meta property="og:site_name" content="张时贰"><meta property="og:description" content="手摸手教你搭建Hexo博客"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://zhsher.cn/Hexo_img/top_img/hexo.webp"><meta property="article:published_time" content="2022-05-01T12:26:39.000Z"><meta property="article:modified_time" content="2023-02-09T14:26:39.000Z"><meta property="article:author" content="张时贰"><meta property="article:tag" content="Hexo"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://zhsher.cn/Hexo_img/top_img/hexo.webp"><link rel="shortcut icon" href="/Hexo_img/config/favicon.jpg"><link rel="canonical" href="https://zhsher.cn/posts/41646/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//hm.baidu.com"><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="baidu-site-verification" content="codeva-VDDJwC4an5"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/6.0.0/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/node-snackbar/0.1.16/snackbar.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://jsd.onmicrosoft.cn/npm/@fancyapps/ui@latest/dist/fancybox/fancybox.min.css" media="print" onload='this.media="all"'><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?fadb05107bedd9dd8c74c73410a00e4f";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script>const GLOBAL_CONFIG={root:"/",algolia:{appId:"RNPIZK1M8E",apiKey:"8ee7fe3d8cad0c9c3a5a45a96e8dbc26",indexName:"Hexo_Blog",hits:{per_page:6},languages:{input_placeholder:"搜索文章",hits_empty:"找不到您查询的内容：${query}",hits_stats:"找到 ${hits} 条结果，用时 ${time} 毫秒"}},localSearch:void 0,translate:{defaultEncoding:2,translateDelay:0,msgToTraditionalChinese:"繁",msgToSimplifiedChinese:"簡"},noticeOutdate:void 0,highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:200},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"天",dateSuffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:{limitCount:50,languages:{author:"作者: 张时贰",link:"链接: ",source:"来源: 张时贰",info:"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},lightbox:"fancybox",Snackbar:{chs_to_cht:"你已切换为繁体",cht_to_chs:"你已切换为简体",day_to_night:"你已切换为深色模式",night_to_day:"你已切换为浅色模式",bgLight:"#49b1f5",bgDark:"#1f1f1f",position:"top-right"},source:{justifiedGallery:{js:"https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js",css:"https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/justifiedGallery/3.8.1/css/justifiedGallery.min.css"}},isPhotoFigcaption:!1,islazyload:!0,isAnchor:!1,percent:{toc:!0,rightside:!0},autoDarkmode:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"Hexo博客搭建",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2023-02-09 22:26:39"}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,o){if(0===o)return;const n=864e5*o,a={value:t,expiry:(new Date).getTime()+n};localStorage.setItem(e,JSON.stringify(a))},get:function(e){const t=localStorage.getItem(e);if(!t)return;const o=JSON.parse(t);if(!((new Date).getTime()>o.expiry))return o.value;localStorage.removeItem(e)}},e.getScript=e=>new Promise(((t,o)=>{const n=document.createElement("script");n.src=e,n.async=!0,n.onerror=o,n.onload=n.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,t())},document.head.appendChild(n)})),e.getCSS=(e,t=!1)=>new Promise(((o,n)=>{const a=document.createElement("link");a.rel="stylesheet",a.href=e,t&&(a.id=t),a.onerror=n,a.onload=a.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,o())},document.head.appendChild(a)})),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};const t=saveToLocal.get("theme"),o=(new Date).getHours();void 0===t?o<=6||o>=18?activateDarkMode():activateLightMode():"light"===t?activateLightMode():activateDarkMode();const n=saveToLocal.get("aside-status");void 0!==n&&("hide"===n?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script><script>LA.init({id:"K1zxRlE4Z6fapyHY",ck:"K1zxRlE4Z6fapyHY"})</script><script src="https://sdk.51.la/perf/js-sdk-perf.min.js" crossorigin="anonymous"></script><script>(new LingQue.Monitor).init({id:"K1zxj4cOs0HoFDZr"})</script><link rel="stylesheet" href="https://jsd.onmicrosoft.cn/npm/zhsher-static@1.0.14/blog/css/zhsher.min.css" media="defer" onload='this.media="all"'><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css" media="print" onload='this.media="screen"'><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/feed.xml" title="张时贰" type="application/rss+xml"></head><body><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><div class="loading-img"></div><div class="loading-image-dot"></div></div></div><script>(()=>{const e=document.getElementById("loading-box"),d=document.body,o=()=>{d.style.overflow="",e.classList.add("loaded")},t=()=>{d.style.overflow="hidden",e.classList.remove("loaded")};t(),window.addEventListener("load",(()=>{o()})),document.addEventListener("pjax:send",(()=>{t()})),document.addEventListener("pjax:complete",(()=>{o()}))})()</script><script>window.paceOptions={restartOnPushState:!1},document.addEventListener("pjax:send",(()=>{Pace.restart()}))</script><link rel="stylesheet" href="/css/AAprogress_bar.css"><script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/pace/1.2.4/pace.min.js"></script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://q1.qlogo.cn/g?b=qq&amp;nk=1310446718&amp;s=5" onerror='onerror=null,src="/Hexo_img/config/friend_404.gif"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">112</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">36</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">14</div></a></div><hr class="custom-hr"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>主页</span></a></div><div class="menus_item"><a class="site-page" href="/hot-article/"><i class="fa-fw fa-solid fa-book-open"></i> <span>阅读排行</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa-solid fa-pencil"></i> <span>文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>时间轴</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-list"></i> <span>友链</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i> <span>友人帐</span></a></li><li><a class="site-page child" href="/fcircle/"><i class="fa-fw fa-solid fa-user-group"></i> <span>朋友圈</span></a></li><li><a class="site-page child" href="javascript:travelling()" rel="external nofollow noreferrer"><i class="fa-fw fa-fw fas fa-bus"></i> <span>宝藏博主</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa-solid fa-circle-user"></i> <span>我的</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i> <span>关于&amp;留言</span></a></li><li><a class="site-page child" href="/zone/"><i class="fa-fw fa-fw fa-solid fa-cloud-rain"></i> <span>动态</span></a></li><li><a class="site-page child" href="/talk/"><i class="fa-fw fa-solid fa-comment"></i> <span>备忘录</span></a></li><li><a class="site-page child" href="/history/"><i class="fa-fw fa-regular fa-clock"></i> <span>建站史</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:toforeverblog()" rel="external nofollow noreferrer"><i class="fa-fw fa-solid fa-paper-plane"></i> <span>虫洞</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url('/Hexo_img/top_img/hexo.webp')"><nav id="nav"><span id="blog-info"><div class="back-home-button" tabindex="-1"><i class="back-home-button-icon fas fa-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" href="/" title="前往博客主页" target="_blank" one-link-mark="yes"><img class="back-menu-item-icon" src="https://q1.qlogo.cn/g?b=qq&amp;nk=1310446718&amp;s=5"><span class="back-menu-item-text">博客</span></a><a class="back-menu-item" href="https://status.zhsher.cn/status/friend" rel="external nofollow" title="前往友链监控" target="_blank" one-link-mark="yes"><img class="back-menu-item-icon" src="https://zhsher.cn/Hexo_img/config/nav_uptime.webp"><span class="back-menu-item-text">友链监控</span></a><a class="back-menu-item" href="https://rv.zhsher.cn/Game_box/game/" rel="external nofollow" title="前往游戏盒" target="_blank" one-link-mark="yes"><img class="back-menu-item-icon" src="https://zhsher.cn/Hexo_img/config/nav_box.webp"><span class="back-menu-item-text">游戏盒</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" href="https://github.com/GC-ZF/hexo-hot-article" title="前往阅读统计" target="_blank" rel="noopener nofollow" one-link-mark="yes"><img class="back-menu-item-icon" src="https://zhsher.cn/Hexo_img/config/nav_article.webp"><span class="back-menu-item-text">占位</span></a></div></div></div></div><a id="site-name" href="/"><div class="title">张时贰</div><i class="fa-solid fa-house"></i></a></span><div class="mask-name-container"><center id="name-container"><a id="page-name" href="javascript:rmf.scrollToTop()" rel="external nofollow noreferrer">PAGE_NAME</a></center></div><div id="menus"><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fas fa-search fa-fw"></i> <span>搜索</span></a></div><div class="nav-button" id="darkmode_navswitch"><a class="darkmode_switchbutton" type="button" title="浅色和深色模式转换" onclick="rmf.switchDarkMode()"><i class="fas fa-adjust"></i></a></div><div class="nav-button" id="nav-totop"><a class="totopbtn"><i class="fas fa-arrow-up"></i><span id="percent" onclick="btf.scrollToDest(0,500)">0</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>主页</span></a></div><div class="menus_item"><a class="site-page" href="/hot-article/"><i class="fa-fw fa-solid fa-book-open"></i> <span>阅读排行</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa-solid fa-pencil"></i> <span>文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>时间轴</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-list"></i> <span>友链</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i> <span>友人帐</span></a></li><li><a class="site-page child" href="/fcircle/"><i class="fa-fw fa-solid fa-user-group"></i> <span>朋友圈</span></a></li><li><a class="site-page child" href="javascript:travelling()" rel="external nofollow noreferrer"><i class="fa-fw fa-fw fas fa-bus"></i> <span>宝藏博主</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa-solid fa-circle-user"></i> <span>我的</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i> <span>关于&amp;留言</span></a></li><li><a class="site-page child" href="/zone/"><i class="fa-fw fa-fw fa-solid fa-cloud-rain"></i> <span>动态</span></a></li><li><a class="site-page child" href="/talk/"><i class="fa-fw fa-solid fa-comment"></i> <span>备忘录</span></a></li><li><a class="site-page child" href="/history/"><i class="fa-fw fa-regular fa-clock"></i> <span>建站史</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:toforeverblog()" rel="external nofollow noreferrer"><i class="fa-fw fa-solid fa-paper-plane"></i> <span>虫洞</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Hexo博客搭建</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-05-01T12:26:39.000Z" title="发表于 2022-05-01 20:26:39">2022-05-01</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-02-09T14:26:39.000Z" title="更新于 2023-02-09 22:26:39">2023-02-09</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Hexo/">Hexo</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">46.6k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>222分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title="Hexo博客搭建"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><blockquote><p>Hexo+Github 博客 butterfly 主题 搭建过程【整理】</p><p>仅是记录一下搭建过程，方便自己后期维护与主题升级。一定要写一点功能就跑一边代码，我后面找不见报错真的令人头大！最好用webstorm这类可以历史回滚的编译器</p><p>本篇搭建记录基于<code>2023年06月06日发布的butterfly 4.9.0</code>，教程可能会滞后，以最新版本为准</p></blockquote><h2 id="一、前期准备"><a href="#一、前期准备" class="headerlink" title="一、前期准备"></a>一、前期准备</h2><blockquote><ol><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://nodejs.org/zh-cn/download/">Node.js 官网</a>：让JAVAscript成为与PHP、Python、Perl、Ruby等服务器语言平起平坐的脚本语言</li><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://git-scm.com/download/win">Git 官网</a>：开源分布式版本控制系统，可以有效、高速地处理从很小到非常大的项目版本管理</li><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.csdn.net/qq_41798899/article/details/120133809?ops_request_misc=%7B%22request_id%22:%22165113887216782425143025%22,%22scm%22:%2220140713.130102334.pc_all.%22%7D&request_id=165113887216782425143025&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~times_rank-2-120133809.142%5Ev9%5Epc_search_result_cache,157%5Ev4%5Econtrol&utm_term=github%E6%B3%A8%E5%86%8C&spm=1018.2226.3001.4187">注册一个GitHub账号</a>，专门找了一篇含报错及解决办法的，注册名、密码、邮箱记好</li></ol></blockquote><p>这个时候可能有小伙伴要说了，这都是啥呢怎么都是汉字组在一起又看不懂了？我没学过JAVAscript，我电脑貌似装过但是不记得了…没关系！本篇从小白讲起！</p><p>两个软件安装完之后或不记得有没有，<kbd>win</kbd>+<kbd>R</kbd>输入cmd打开命令行窗口，依次输入三条命令</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">node -v</span><br><span class="line">npm -v</span><br><span class="line">git --version</span><br></pre></td></tr></table></figure><p>如果和我的一样显示出来版本号，那就是之前安装过，如果没有安装过，去官网下载安装包傻瓜式安装即可(C盘小的同学记得换盘符！)</p><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line">C:\Users\<span class="number">86158</span>&gt;node <span class="literal">-v</span></span><br><span class="line">v14.<span class="number">15.1</span></span><br><span class="line"></span><br><span class="line">C:\Users\<span class="number">86158</span>&gt;npm <span class="literal">-v</span></span><br><span class="line"><span class="number">6.14</span>.<span class="number">8</span></span><br><span class="line"></span><br><span class="line">C:\Users\<span class="number">86158</span>&gt;git <span class="literal">--version</span></span><br><span class="line">git version <span class="number">2.34</span>.<span class="number">1</span>.windows.<span class="number">1</span></span><br></pre></td></tr></table></figure><p>接着在命令行中安装Hexo(警告<code>WARN</code>不影响)</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br></pre></td></tr></table></figure><p>同样检查一下安装成功了没有，运行命令会弹出来好多版本号就是成功了</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">hexo</span> <span class="string">-v</span></span><br></pre></td></tr></table></figure><p>第一次下载git需要配置，任意一个地方<code>右击→Git Brush Here</code></p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git config --global user.name GC-ZF  #名称</span><br><span class="line">git config --global user.email 1310446718@qq.com   #邮箱</span><br></pre></td></tr></table></figure><h2 id="二、配置仓库"><a href="#二、配置仓库" class="headerlink" title="二、配置仓库"></a>二、配置仓库</h2><h3 id="2-1-新建仓库"><a href="#2-1-新建仓库" class="headerlink" title="2.1 新建仓库"></a>2.1 新建仓库</h3><blockquote><p>为什么要注册一个GitHub，建一个仓库？我们要利用Github作为服务器去存储我们的内容，以便别人去访问</p></blockquote><p>新建一个仓库，注意为了让别人可以访问到仓库的名字一定一定是<code>注册名.github.io</code></p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.zhsher.cn/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA01.png" alt="Hexo博客搭建01"></p><h3 id="2-2-关联仓库"><a href="#2-2-关联仓库" class="headerlink" title="2.2 关联仓库"></a>2.2 关联仓库</h3><p>接下来将Github与电脑进行绑定。每次把文件上传到仓库需要登录，十分麻烦，所以利用ssh就起到一个记住密码的作用，一劳永逸</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.zhsher.cn/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA02.png" alt="Hexo博客搭建02"></p><p>在任意文件夹<code>右击鼠标→Git Bash Here</code>，输完命令连续按三次回车</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;用户名&quot;</span> -f <span class="string">&quot;id_rsa_github&quot;</span></span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.zhsher.cn/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA03.png" alt="Hexo博客搭建03"></p><p>执行完命令后 <code>C:\Users\用户名\.ssh</code> 下多了俩文件，生成的<code>id_rsa_github.pub</code>以记事本打开，<kbd>ctrl</kbd>+<kbd>A</kbd>全选并<kbd>ctrl</kbd>+<kbd>C</kbd>复制文本内容，将公钥添加到github中，Title自定义</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.zhsher.cn/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA04.png" alt="Hexo博客搭建04"></p><p>检查是否绑定成功，注意区分大小写！输入<code>yes</code>弹出<code>Hi 用户名！</code>才算成功</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.zhsher.cn/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA05.png" alt="Hexo博客搭建05"></p><h2 id="三、本地博客"><a href="#三、本地博客" class="headerlink" title="三、本地博客"></a>三、本地博客</h2><p>现在就要开始制作我们的博客啦！既然博客要放在我们的电脑本地，自己选一个合适的地方新建文件夹，我新建一个Blog，在Blog文件夹中<code>右击鼠标→Git Bash Here</code>，输入(Hexo帮咱们搭好的框架，拿着直接用就行了，关于美化第四点有)</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo init	<span class="comment">#初始化hexo博客</span></span><br></pre></td></tr></table></figure><p>文件夹说明</p><ul><li>node_modules: 依赖包</li><li>public：存放生成的页面(由<code>hexo g</code>生成)</li><li>scaffolds：生成文章的一些模板</li><li>source：用来存放你的文章</li><li>themes：主题</li><li>_config.yml: 博客的配置文件</li></ul><p>之后启动服务器，并在浏览器网址输入<code>localhost:4000</code></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo s		<span class="comment">#启动服务</span></span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.zhsher.cn/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA06.png" alt="Hexo博客搭建06"></p><p><code>localhost:4000</code>是本地网络，互联网并访问不到，这里我们只是测试一下，<kbd>ctrl</kbd>+<kbd>C</kbd>关闭本地服务器</p><h2 id="四、发布博客到互联网"><a href="#四、发布博客到互联网" class="headerlink" title="四、发布博客到互联网"></a>四、发布博客到互联网</h2><h3 id="配置Github仓库"><a href="#配置Github仓库" class="headerlink" title="配置Github仓库"></a>配置Github仓库</h3><p><code>博客根目录\_config.yml</code>(配置文件)，打开方式随便一个编译器都可以，最下面修改deploy，<strong>注意一定是英文冒号，并且冒号后跟一个空格</strong>，repository地址在GitHub中</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.zhsher.cn/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA07.png" alt="Hexo博客搭建07"></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/one-command-deployment</span></span><br><span class="line">deploy:</span><br><span class="line">  <span class="built_in">type</span>: git</span><br><span class="line">  repository: https://github.com/GC-ZF/GC-ZF.github.io.git</span><br><span class="line">  branch: main</span><br></pre></td></tr></table></figure><p>这个时候需要先安装<code>deploy-git</code> ，也就是部署的命令，这样你才能用命令部署到GitHub</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p>生成网站静态文件到 public 文件夹</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">hexo</span> <span class="string">g</span>		<span class="comment"># 生成页面，hexo generate的缩写</span></span><br></pre></td></tr></table></figure><p>上传本地文件到仓库，如果出现<code>FATAL</code>是网络问题，开个梯子之类</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.zhsher.cn/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA08.png" alt="Hexo博客搭建08"></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo d		<span class="comment"># 上传本地文件到仓库，hexo deploy的缩写</span></span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.zhsher.cn/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA09.png" alt="Hexo博客搭建09"></p><p>现在我们就可以在任意网络下在浏览器访问<code>用户名.github.io</code>了</p><h3 id="发布文章"><a href="#发布文章" class="headerlink" title="发布文章"></a>发布文章</h3><p>首先使用命令新建<code>.md</code>的文件，两个命令二选一(不支持手动新建)</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">hexo</span> <span class="string">n</span> <span class="string">&quot;文件名字&quot;</span>	<span class="comment"># hexo new &quot;文件名字&quot;</span></span><br></pre></td></tr></table></figure><p><code>博客根目录\source\_posts</code>下找到新建的文件，发现他已经帮我们写入了一些东西，默认模板修改<code>博客根目录\source\scaffolds\post</code>)</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 我的模板</span></span><br><span class="line"><span class="attr">title:</span> &#123;&#123; <span class="string">title</span> &#125;&#125;</span><br><span class="line"><span class="attr">date:</span> &#123;&#123; <span class="string">date</span> &#125;&#125;</span><br><span class="line"><span class="attr">top_img:</span> <span class="string">&#x27;https://picsum.photos/seed/picsum/1920/942&#x27;</span>	<span class="comment">#文章封面 随机占位图,挺好用的,使用方法picsum.photos官网</span></span><br><span class="line"><span class="attr">cover:</span> <span class="string">&#x27;https://picsum.photos/seed/picsum/470/315&#x27;</span>		<span class="comment">#文章顶部图</span></span><br><span class="line"><span class="attr">tags:</span> 			<span class="comment">#标签</span></span><br><span class="line"><span class="attr">categories:</span> 	<span class="comment">#分类</span></span><br><span class="line"><span class="attr">toc_number:</span> 	<span class="comment">#是否显示目录</span></span><br><span class="line"><span class="attr">updated:</span> 		<span class="comment">#最近更新日期</span></span><br><span class="line"><span class="attr">keywords:</span> 		<span class="comment">#关键字</span></span><br><span class="line"><span class="attr">description:</span> 	<span class="comment"># 文章描述</span></span><br><span class="line"><span class="attr">sticky:</span> 		<span class="comment"># 置顶 值越大优先权越高</span></span><br></pre></td></tr></table></figure><p>写好之后，依次执行</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">hexo</span> <span class="string">g</span>		<span class="comment">#生成页面</span></span><br><span class="line"><span class="string">hexo</span> <span class="string">d</span>		<span class="comment">#上传本地文件到仓库</span></span><br></pre></td></tr></table></figure><p>这里小补充一下，因为大部分同学既然有搭博客的想法那应该都知道markdown，没有markdown编辑器的同学，推荐<a target="_blank" rel="noopener external nofollow noreferrer" href="https://typoraio.cn/">Typora 官方中文站</a>，关于<a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.csdn.net/qq_49488584/article/details/121513406">markdown语法</a>网上也大把大把</p><h2 id="五、安装并配置Butterfly-主题"><a href="#五、安装并配置Butterfly-主题" class="headerlink" title="五、安装并配置Butterfly 主题"></a>五、安装并配置Butterfly 主题</h2><blockquote><p>第五步可以直接看<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.bilibili.com/video/BV1aV411p7Bc/?spm_id_from=333.788">卷二兔的视频教程 哔哩哔哩</a>，已经足够详细，有些小白可能在读Butterfly的文档时有很多疑惑，以下是我自己CV文档+整理的配置流程</p></blockquote><blockquote><p>上面一二三四步，终于来到了美化！hexo给咱们写好了一堆框架，给咱们了好多衣服裤子，怎么穿的好看就看咱们怎么搭配了，这里以<code>hexo-theme-butterfly</code>为模板为例子，以下三个链接是官方文档、仓库，咱们直接跟着文档走(至于为什么用这个取决于<a target="_blank" rel="noopener external nofollow noreferrer" href="https://yangchaoyi.vip/posts/520520/">@超逸学长</a>，我就是看了他的博客才有了搭博客的想法，而且他有一些的魔改步骤，如果没学过html基础，一定要仔仔细细跟着他的魔改走)</p></blockquote><ul><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://butterfly.js.org/posts/21cfbf15/">Butterfly 安裝文檔(一) 快速開始 | Butterfly</a></li><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly/tree/master">jerryc127&#x2F;hexo-theme-butterfly at master</a></li><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://gitee.com/immyw/hexo-theme-butterfly">hexo-theme-butterfly: 🦋 A Hexo Theme: Butterfly</a></li></ul><h3 id="更换主题"><a href="#更换主题" class="headerlink" title="更换主题"></a>更换主题</h3><p>在Hexo(我之前建的Blog)目录下，<code>右击→Git Brash Here</code></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly</span><br></pre></td></tr></table></figure><p>修改 <code>博客根目录\_config.yml</code></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">theme: butterfly</span><br></pre></td></tr></table></figure><p>安装依赖</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-renderer-pug hexo-renderer-stylus --save</span><br></pre></td></tr></table></figure><p>依次执行，<code>hexo clean hexo g hexo s</code>三件套部署本地，每次改完<code>yml</code>配置文件都需要重新运行</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo clean  <span class="comment"># 清空public文件夹</span></span><br><span class="line">hexo g		<span class="comment"># 生成页面</span></span><br><span class="line">hexo s		<span class="comment"># 打开本地看下设置是否成功</span></span><br></pre></td></tr></table></figure><h3 id="升级建议"><a href="#升级建议" class="headerlink" title="升级建议"></a>升级建议</h3><p>主题升级会覆盖<code>博客根目录\them\butterfly\_config.yml</code>，为了減少升级主题带来的不便，把<code>博客根目录theme\butterfly\_config.yml</code> 复制到 <code>博客根目录</code> 下，重命名为<code>_config.butterfly.yml</code></p><h3 id="设置个人资料"><a href="#设置个人资料" class="headerlink" title="设置个人资料"></a>设置个人资料</h3><p><code>博客根目录\_config.yml</code></p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Site</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">张时贰</span>        		 <span class="comment"># 标题</span></span><br><span class="line"><span class="attr">subtitle:</span> <span class="string">&#x27;小张同学&#x27;</span>       	<span class="comment"># 副标题</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">&#x27;环转码，热爱敲代码的小张！&#x27;</span>     		<span class="comment"># 个签</span></span><br><span class="line"><span class="attr">keywords:</span> <span class="string">博客,张时贰</span> 		<span class="comment"># 浏览器搜索关键词</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">张时贰</span>       <span class="comment"># 作者</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">zh-CN</span>     <span class="comment"># 语言en/zh-CN/zh-TW</span></span><br><span class="line"><span class="attr">timezone:</span> <span class="string">&#x27;Asia/Shanghai&#x27;</span>	<span class="comment"># 时区</span></span><br></pre></td></tr></table></figure><h3 id="标签页"><a href="#标签页" class="headerlink" title="标签页"></a>标签页</h3><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.zhsher.cn/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA10.png" alt="Hexo博客搭建10"></p><p>为我们的博客文章添加标签页(导航栏的标签按钮)</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="string">hexo</span> <span class="string">new</span> <span class="string">page</span> <span class="string">tags</span> 				<span class="comment"># 新建标签页</span></span><br></pre></td></tr></table></figure><p>生成<code>source/tags/index.md</code>，title自定义。访问<code>http://localhost:4000/tags/</code>即可看到效果</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">标签页</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2022-04-29 18:08:39</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">&quot;tags&quot;</span></span><br><span class="line"><span class="attr">top_img:</span> <span class="string">&#x27;https://picsum.photos/1920/942&#x27;</span>	<span class="comment"># 顶部图</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><h3 id="分类页"><a href="#分类页" class="headerlink" title="分类页"></a>分类页</h3><p>为我们的博客文章添加分类页(导航栏的分类&#x2F;归档按钮)</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">hexo</span> <span class="string">new</span> <span class="string">page</span> <span class="string">categories</span></span><br></pre></td></tr></table></figure><p>生成<code>source/categories/index.md</code>，title自定义。访问<code>http://localhost:4000/categories/</code>即可看到效果</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">categories</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2022-04-29 18:16:23</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">&quot;categories&quot;</span></span><br><span class="line"><span class="attr">top_img:</span> <span class="string">&#x27;https://picsum.photos/1920/942&#x27;</span>	<span class="comment">#封面</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><h3 id="友情连接"><a href="#友情连接" class="headerlink" title="友情连接"></a>友情连接</h3><p>添加友情链接</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo new page link</span><br></pre></td></tr></table></figure><p>生成<code>source/link/index.md</code>，title自定义，访问<code>http://localhost:4000/link/</code>即可看到效果</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">link</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2022-04-29 18:22:47</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">&quot;link&quot;</span></span><br><span class="line"><span class="attr">top_img:</span> <span class="string">&#x27;https://picsum.photos/1920/942&#x27;</span>	<span class="comment">#封面</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><p>在Hexo博客目录中的<code>source/_data</code>（如果没有 _data 文件夹，请自行创建），创建一个文件<code>link.yml</code>，或者直接写到<code>source/link/index.md</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">class_name:</span> <span class="string">友情链接</span></span><br><span class="line">  <span class="attr">class_desc:</span> <span class="string">那些人，那些事</span></span><br><span class="line">  <span class="attr">link_list:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Hexo</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://hexo.io/zh-tw/</span></span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">快速、简单且强大的网誌框架</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> <span class="attr">class_name:</span> <span class="string">网站</span></span><br><span class="line">  <span class="attr">class_desc:</span> <span class="string">值得推荐的网站</span></span><br><span class="line">  <span class="attr">link_list:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Youtube</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://www.youtube.com/</span></span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">https://i.loli.net/2020/05/14/9ZkGg8v3azHJfM1.png</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">视频网站</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Weibo</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://www.weibo.com/</span></span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">https://i.loli.net/2020/05/14/TLJBum386vcnI1P.png</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">中国最大社交分享平台</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Twitter</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://twitter.com/</span></span><br><span class="line">      <span class="attr">avatar:</span> <span class="string">https://i.loli.net/2020/05/14/5VyHPQqR6LWF39a.png</span></span><br><span class="line">      <span class="attr">descr:</span> <span class="string">社交分享平台</span></span><br></pre></td></tr></table></figure><p>主题支持友情链接随机排序，只需要在顶部 <code>front-matter</code> 添加 <code>random: true</code></p><h3 id="404"><a href="#404" class="headerlink" title="404"></a>404</h3><p>修改主题配置文件<code>_config.butterfly.yml</code>，开启404界面，同样访问<code>http://localhost:4000/404</code></p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># A simple 404 page</span></span><br><span class="line"><span class="attr">error_404:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">subtitle:</span> <span class="string">&#x27;小张的页面丢啦&#x27;</span>	<span class="comment"># 提示文字</span></span><br><span class="line">  <span class="attr">background:</span> </span><br></pre></td></tr></table></figure><p>替换文章中无法显示的图片</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Replace Broken Images (替換無法顯示的圖片)</span></span><br><span class="line"><span class="attr">error_img:</span></span><br><span class="line">  <span class="attr">flink:</span> <span class="string">/Hexo_img/friend_404.gif</span>	<span class="comment"># 友链头像</span></span><br><span class="line">  <span class="attr">post_page:</span> <span class="string">/Hexo_img/404.jpg</span>		<span class="comment"># 文章页图片</span></span><br></pre></td></tr></table></figure><hr><blockquote><p>以下是<a target="_blank" rel="noopener external nofollow noreferrer" href="https://butterfly.js.org/posts/4aa8abbe/">Butterfly 安裝文檔(三) 主題配置-1 | Butterfly</a></p></blockquote><h3 id="导航菜单"><a href="#导航菜单" class="headerlink" title="导航菜单"></a>导航菜单</h3><p>修改主题配置文件<code>_config.butterfly.yml</code>，先后顺序、中文命名自由设置</p><p>格式：<code>/路径/ || 图标</code>，图标可留空</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line"> <span class="string">主页:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-home</span></span><br><span class="line"> <span class="string">阅读排行:</span> <span class="string">/hot-article/</span> <span class="string">||</span> <span class="string">fa-solid</span> <span class="string">fa-book-bookmark</span></span><br><span class="line"> <span class="string">文章||fa-solid</span> <span class="attr">fa-pencil:</span></span><br><span class="line">  <span class="string">时间轴:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-archive</span></span><br><span class="line">  <span class="string">标签:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-tags</span></span><br><span class="line">  <span class="string">分类:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-folder-open</span></span><br><span class="line"> <span class="string">友链||fas</span> <span class="attr">fa-list:</span></span><br><span class="line">   <span class="string">友人帐:</span> <span class="string">/link/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-link</span></span><br><span class="line">   <span class="string">朋友圈:</span> <span class="string">/fcircle/</span> <span class="string">||</span> <span class="string">fa-solid</span> <span class="string">fa-user-group</span></span><br><span class="line"> <span class="string">我的||fa-solid</span> <span class="attr">fa-circle-user:</span></span><br><span class="line">  <span class="string">关于&amp;留言:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-heart</span></span><br><span class="line">  <span class="string">备忘录:</span> <span class="string">/talk/</span> <span class="string">||</span> <span class="string">fa-solid</span> <span class="string">fa-walkie-talkie</span></span><br><span class="line">  <span class="string">建站史:</span> <span class="string">/history/</span> <span class="string">||</span> <span class="string">fa-regular</span> <span class="string">fa-clock</span></span><br><span class="line">  <span class="string">摸鱼:</span> <span class="string">https://rv.zhsher.cn/Game_box/game/</span> <span class="string">||</span> <span class="string">fa-solid</span> <span class="string">fa-fish-fins</span></span><br><span class="line">  <span class="string">云盘:</span> <span class="string">https://icloud.zhsher.cn</span> <span class="string">||</span> <span class="string">fa-solid</span> <span class="string">fa-cloud</span></span><br><span class="line">  <span class="string">站点监控:</span> <span class="string">https://status.zhsher.cn/status/friend</span> <span class="string">||</span> <span class="string">fa-fw</span> <span class="string">fa</span> <span class="string">fa-heartbeat</span></span><br><span class="line">  <span class="comment"># 工具: /navigate/ || fa-solid fa-toolbox</span></span><br><span class="line"> <span class="string">虫洞:</span> <span class="string">https://www.foreverblog.cn/go.html</span> <span class="string">||fa-solid</span> <span class="string">fa-paper-plane</span></span><br></pre></td></tr></table></figure><p>额外页面，以建站史为例，使用命令<code>hexo new page history</code> ，编写<code>source/history/index.md</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">title:</span> <span class="string">history</span>	<span class="comment"># 必填</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2022-05-01 15:56:57</span>	<span class="comment"># 必填</span></span><br><span class="line"><span class="attr">toc:</span> <span class="literal">true</span>		<span class="comment"># 选填，显示一下目录</span></span><br><span class="line"><span class="attr">top_img:</span> <span class="string">&#x27;https://picsum.photos/1920/942&#x27;</span>	<span class="comment"># 选填，顶部图片</span></span><br></pre></td></tr></table></figure><p>默认子目录是展开的，如果你想要隐藏，在子目录里添加 <code>hide</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">List||fas</span> <span class="string">fa-list||hide:</span></span><br><span class="line">  <span class="attr">Music:</span> <span class="string">/music/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-music</span></span><br><span class="line">  <span class="attr">Movie:</span> <span class="string">/movies/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-video</span></span><br></pre></td></tr></table></figure><h3 id="导航栏设置"><a href="#导航栏设置" class="headerlink" title="导航栏设置"></a>导航栏设置</h3><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">nav:</span></span><br><span class="line">  <span class="attr">logo:</span> <span class="comment">#image 网站logo</span></span><br><span class="line">  <span class="attr">display_title:</span> <span class="literal">true</span> <span class="comment"># 是否显示网站标题</span></span><br><span class="line">  <span class="attr">fixed:</span> <span class="literal">false</span> <span class="comment"># fixed navigation bar 导航栏是否常驻</span></span><br></pre></td></tr></table></figure><h3 id="代码框样式"><a href="#代码框样式" class="headerlink" title="代码框样式"></a>代码框样式</h3><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Code Blocks (代碼相關)</span></span><br><span class="line"><span class="comment"># --------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="attr">highlight_theme:</span> <span class="string">mac</span> <span class="string">light</span> <span class="comment">#  darker / pale night / light / ocean / mac / mac light / false</span></span><br><span class="line"><span class="attr">highlight_copy:</span> <span class="literal">true</span> <span class="comment"># copy button 代码复制按钮</span></span><br><span class="line"><span class="attr">highlight_lang:</span> <span class="literal">true</span> <span class="comment"># show the code language 展示代码语言</span></span><br><span class="line"><span class="attr">highlight_shrink:</span> <span class="literal">false</span> <span class="comment"># 代码展开设置  true: 不展开需要点击 &gt; / false: 展开过长时需要点击&gt; | none: 不显示&gt;</span></span><br><span class="line"><span class="attr">highlight_height_limit:</span> <span class="number">200</span> <span class="comment"># unit: px 代码框高度 false时展开全部</span></span><br><span class="line"><span class="attr">code_word_wrap:</span> <span class="literal">true</span> <span class="comment"># 代码自动换行，false时不换行，代码块下方会有滚动条</span></span><br></pre></td></tr></table></figure><p><code>code_word_wrap: true</code>时需要额外配置</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 如果使用 highlight 渲染，在_config.yml中line_number改成false</span></span><br><span class="line"><span class="attr">highlight:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">line_number:</span> <span class="literal">false</span> <span class="comment"># &lt;- 改这里</span></span><br><span class="line">  <span class="attr">auto_detect:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">tab_replace:</span></span><br><span class="line">  </span><br><span class="line"><span class="comment"># 如果使用 prismjs  渲染，在_config.yml中line_number改成false</span></span><br><span class="line"><span class="attr">prismjs:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">preprocess:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">line_number:</span> <span class="literal">false</span> <span class="comment"># &lt;- 改这里</span></span><br><span class="line">  <span class="attr">tab_replace:</span> <span class="string">&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="社交图标"><a href="#社交图标" class="headerlink" title="社交图标"></a>社交图标</h3><p>修改主题配置文件<code>_config.butterfly.yml</code>，图标查找<a target="_blank" rel="noopener external nofollow noreferrer" href="https://fontawesome.com/icons?from=io">矢量图标 Icons | Font Awesome</a>，QQ移动端无法跳转，需要在<a target="_blank" rel="noopener external nofollow noreferrer" href="https://shang.qq.com/v3/index.html">官方</a>开通服务</p><p>格式：<code>图标名：url || 描述性文字 || color</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># social settings (社交圖標設置)</span></span><br><span class="line"><span class="comment"># formal:</span></span><br><span class="line"><span class="comment">#   icon: link || the description</span></span><br><span class="line"><span class="attr">social:</span></span><br><span class="line"> <span class="attr">fab fa-github:</span> <span class="string">https://github.com/GC-ZF</span> <span class="string">||</span> <span class="string">Github</span></span><br><span class="line"> <span class="attr">fa-solid fa-c:</span> <span class="string">https://blog.csdn.net/qq_49488584</span> <span class="string">||</span> <span class="string">CSDN</span></span><br><span class="line"> <span class="attr">fab fa-qq:</span> <span class="string">http://wpa.qq.com/msgrd?v=3&amp;uin=1310446718&amp;site=qq&amp;menu=yes</span> <span class="string">||</span> <span class="string">QQ</span></span><br><span class="line"> <span class="attr">fas fa-envelope-open-text:</span> <span class="string">mailto:1310446718@qq.com</span> <span class="string">||</span> <span class="string">Email</span></span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://testingcf.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-social-icon-pc.png"></p><h3 id="主页文章节选-自动节选和文章页description"><a href="#主页文章节选-自动节选和文章页description" class="headerlink" title="主页文章节选(自动节选和文章页description)"></a>主页文章节选(自动节选和文章页description)</h3><p>description在<code>front-matter</code>(即自动生成时MD时前面的内容)</p><ul><li>description： 只显示description</li><li>both： 优先选择description，如果没有配置description，则显示自动节选的内容</li><li>auto_excerpt：只显示自动节选</li><li>false： 不显示文章内容</li></ul><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">index_post_content:</span></span><br><span class="line">  <span class="attr">method:</span> <span class="number">2</span>		<span class="comment"># 模式2both</span></span><br><span class="line">  <span class="attr">length:</span> <span class="number">500</span> 	<span class="comment"># 节选长度</span></span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://testingcf.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-description.png" alt="img"></p><h3 id="顶部图"><a href="#顶部图" class="headerlink" title="顶部图"></a>顶部图</h3><blockquote><p>如果不要显示顶部图，可直接配置 <code>disable_top_img: true</code></p><p>图片存放位置<code>博客根目录/source/Hexo_img</code>，修改主题配置文件<code>_config.butterfly.yml</code></p></blockquote><p>主页封面图片</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># The banner image of home page</span></span><br><span class="line"><span class="attr">index_img:</span> <span class="string">/Hexo_img/background.png</span></span><br></pre></td></tr></table></figure><p>文章详情页顶部图片，当没有在<code>front-matter</code>设置<code>top_img</code>和<code>cover</code>的情况下会显示该图</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># If the banner of page not setting, it will show the top_img</span></span><br><span class="line"><span class="attr">default_top_img:</span> <span class="string">/Hexo_img/default_top_img.jpeg</span></span><br></pre></td></tr></table></figure><p>归档页顶部图片</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># The banner image of archive page</span></span><br><span class="line"><span class="attr">archive_img:</span> <span class="string">https://picsum.photos/1920/942</span></span><br></pre></td></tr></table></figure><p>tag页顶部图</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># If the banner of tag page not setting, it will show the top_img</span></span><br><span class="line"><span class="comment"># <span class="doctag">note:</span> tag page, not tags page (子標签頁面的 top_img)</span></span><br><span class="line"><span class="attr">tag_img:</span> <span class="string">https://picsum.photos/470/315</span></span><br></pre></td></tr></table></figure><p>category页顶部图</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment">#category页</span></span><br><span class="line"><span class="comment"># If the banner of category page not setting, it will show the top_img</span></span><br><span class="line"><span class="comment"># <span class="doctag">note:</span> category page, not categories page (子分類頁面的 top_img)</span></span><br><span class="line"><span class="attr">category_img:</span> <span class="string">https://picsum.photos/470/315</span></span><br></pre></td></tr></table></figure><p><code>tag_per_img</code> 和 <code>category_per_img</code> 是 3.2.0 新增的内容，可对 tag 和 category 进行单独的配置</p><p>并不推荐为每个 tag 和每个 category 都配置不同的顶部图，因为配置太多会拖慢生成速度</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">tag_per_img：</span></span><br><span class="line">  <span class="attr">aplayer:</span> <span class="string">https://xxxxxx.png</span></span><br><span class="line">  <span class="attr">android:</span> <span class="string">ddddddd.png</span></span><br><span class="line">  </span><br><span class="line"><span class="string">category_per_img：</span></span><br><span class="line">  <span class="string">随想:</span> <span class="string">hdhdh.png</span></span><br><span class="line">  <span class="string">推荐:</span> <span class="string">ddjdjdjd.png</span></span><br></pre></td></tr></table></figure><h3 id="文章封面"><a href="#文章封面" class="headerlink" title="文章封面"></a>文章封面</h3><p>文章的markdown文档上，在<code>Front-matter</code>添加<code>cover</code>，并填上要显示的图片地址</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://testingcf.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-cover.png"></p><p>如果不配置cover，可以设置显示默认的cover</p><p>如果不想在首页显示cover，可以设置为false，修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">cover:</span></span><br><span class="line">  <span class="comment"># 是否显示文章封面</span></span><br><span class="line">  <span class="attr">index_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">aside_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">archives_enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># 封面显示的位置</span></span><br><span class="line">  <span class="comment"># 三个值可配置 left , right , both</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">both</span></span><br><span class="line">  <span class="comment"># 当没有设置cover时，默认的封面显示</span></span><br><span class="line"><span class="comment">#多个默认封面，随机显示一个 可配置图片链接/顔色/渐变色</span></span><br><span class="line">  <span class="attr">default_cover:</span></span><br><span class="line">   <span class="bullet">-</span> <span class="string">https://picsum.photos/id/1018/470/315</span></span><br><span class="line">   <span class="bullet">-</span> <span class="string">https://picsum.photos/id/1044/470/315</span></span><br><span class="line">   <span class="bullet">-</span> <span class="string">https://picsum.photos/id/1056/470/315</span></span><br></pre></td></tr></table></figure><h3 id="文章页相关配置"><a href="#文章页相关配置" class="headerlink" title="文章页相关配置"></a>文章页相关配置</h3><h4 id="文章meta显示"><a href="#文章meta显示" class="headerlink" title="文章meta显示"></a>文章meta显示</h4><p>修改主题配置文件<code>_config.butterfly.yml</code>，这个选项是用来显示文章的相关信息的</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">post_meta:</span></span><br><span class="line">  <span class="attr">page:</span></span><br><span class="line">    <span class="attr">date_type:</span> <span class="string">both</span> <span class="comment"># created or updated or both 主页文章日期是创建日或者更新日或都显示</span></span><br><span class="line">    <span class="attr">date_format:</span> <span class="string">data</span> <span class="comment"># date/relative 显示日期还是相对日期</span></span><br><span class="line">    <span class="attr">categories:</span> <span class="literal">true</span> <span class="comment"># true or false 主页是否显示分类</span></span><br><span class="line">    <span class="attr">tags:</span> <span class="literal">false</span> <span class="comment"># true or false 主页是否显示标签</span></span><br><span class="line">    <span class="attr">label:</span> <span class="literal">true</span> <span class="comment"># true or false 显示描述性文字</span></span><br><span class="line">  <span class="attr">post:</span></span><br><span class="line">    <span class="attr">date_type:</span> <span class="string">both</span> <span class="comment"># created or updated or both 文章页日期是创建日或者更新日或都显示</span></span><br><span class="line">    <span class="attr">date_format:</span> <span class="string">date</span> <span class="comment"># date/relative 显示日期还是相对日期</span></span><br><span class="line">    <span class="attr">categories:</span> <span class="literal">true</span> <span class="comment"># true or false 文章页是否显示分类</span></span><br><span class="line">    <span class="attr">tags:</span> <span class="literal">true</span> <span class="comment"># true or false 文章页是否显示标签</span></span><br><span class="line">    <span class="attr">label:</span> <span class="literal">true</span> <span class="comment"># true or false 显示描述性文字</span></span><br></pre></td></tr></table></figure><h4 id="文章版权"><a href="#文章版权" class="headerlink" title="文章版权"></a>文章版权</h4><p>修改主题配置文件<code>_config.butterfly.yml</code>，博客文章底部展示文章版权和许可协议</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">post_copyright:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">decode:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">license:</span> <span class="string">CC</span> <span class="string">BY-NC-SA</span> <span class="number">4.0</span></span><br><span class="line">  <span class="attr">license_url:</span> <span class="string">https://creativecommons.org/licenses/by-nc-sa/4.0/</span></span><br></pre></td></tr></table></figure><p>从3.0.0开始，支持对单独文章设置版权信息，可以在文章<code>Front-matter</code>单独设置</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">copyright_author:</span> <span class="string">xxxx</span></span><br><span class="line"><span class="attr">copyright_author_href:</span> <span class="string">https://xxxxxx.com</span></span><br><span class="line"><span class="attr">copyright_url:</span> <span class="string">https://xxxxxx.com</span></span><br><span class="line"><span class="attr">copyright_info:</span> <span class="string">此文章版权归xxxxx所有，如有转载，请註明来自原作者</span></span><br></pre></td></tr></table></figure><h4 id="文章打赏"><a href="#文章打赏" class="headerlink" title="文章打赏"></a>文章打赏</h4><p>修改主题配置文件<code>_config.butterfly.yml</code>，给文章结尾设置打赏按钮</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Sponsor/reward</span></span><br><span class="line"><span class="attr">reward:</span></span><br><span class="line"> <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line"> <span class="attr">QR_code:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">img:</span> <span class="string">/Hexo_img/wechat.png</span></span><br><span class="line">    <span class="attr">link:</span></span><br><span class="line">    <span class="attr">text:</span> <span class="string">微信</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">img:</span> <span class="string">/Hexo_img/alipay.jpg</span></span><br><span class="line">    <span class="attr">link:</span></span><br><span class="line">    <span class="attr">text:</span> <span class="string">支付宝</span></span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://testingcf.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-donate.png"></p><h4 id="TOC目录"><a href="#TOC目录" class="headerlink" title="TOC目录"></a>TOC目录</h4><p>修改主题配置文件<code>_config.butterfly.yml</code>，在文章页会有一个目录，用于显示TOC</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">toc:</span></span><br><span class="line">  <span class="attr">post:</span> <span class="literal">true</span>		<span class="comment"># 文章是否显示TOC</span></span><br><span class="line">  <span class="attr">page:</span> <span class="literal">false</span>		<span class="comment"># 普通页面是否显示TOC(自己新建的&quot;友链&quot;&quot;建站史&quot;都算普通页面，只有文章才显示目录)</span></span><br><span class="line">  <span class="attr">number:</span> <span class="literal">true</span>		<span class="comment"># 是否显示章节数</span></span><br><span class="line">  <span class="attr">expand:</span> <span class="literal">false</span>		<span class="comment"># 是否展开TOC</span></span><br><span class="line">  <span class="attr">style_simple:</span> <span class="literal">false</span> <span class="comment"># for post ，true文章页仅展示目录</span></span><br><span class="line">  <span class="attr">scroll_percent:</span> <span class="literal">true</span> <span class="comment"># 是否显示滚动进度百分比</span></span><br></pre></td></tr></table></figure><h4 id="为特定文章配置"><a href="#为特定文章配置" class="headerlink" title="为特定文章配置"></a>为特定文章配置</h4><p>在文章md文件的头部，加入<code>toc_number</code>是否显示章节数和<code>toc</code>是否显示目录，并配置true或者false即可。</p><p>主题会优先判断文章Markdown的<code>Front-matter</code>是否有配置，如有，则以<code>Front-matter</code>的配置为准。否则，以主题配置文件中的配置为准</p><h4 id="相关文章"><a href="#相关文章" class="headerlink" title="相关文章"></a>相关文章</h4><p>修改主题配置文件<code>_config.butterfly.yml</code>，相关文章推荐的原理是根据文章tags的比重来推荐</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">related_post:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">6</span> <span class="comment"># 显示推荐文章数目</span></span><br><span class="line">  <span class="attr">date_type:</span> <span class="string">created</span> <span class="comment"># or created or updated 文章日期显示创建日或者更新日</span></span><br></pre></td></tr></table></figure><h4 id="文章锚点"><a href="#文章锚点" class="headerlink" title="文章锚点"></a>文章锚点</h4><blockquote><p>开启文章锚点后，当你在文章页进行滚动时，浏览器链接会根据标题ID进行替换<br>(注意: 每替换一次，会留下一个历史记录。所以如果一篇文章有很多锚点的话，网页的历史记录会很多)</p></blockquote><p>修改主题配置文件<code>_config.butterfly.yml</code>，默认false</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># anchor</span></span><br><span class="line"><span class="attr">anchor:</span></span><br><span class="line">  <span class="attr">button:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">always_show:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">icon:</span> <span class="comment"># the unicode value of Font Awesome icon, such as &#x27;\3423&#x27;</span></span><br><span class="line">  <span class="attr">auto_update:</span> <span class="literal">false</span> <span class="comment"># when you scroll in post, the URL will update according to header id.</span></span><br></pre></td></tr></table></figure><h4 id="文章过期提醒"><a href="#文章过期提醒" class="headerlink" title="文章过期提醒"></a>文章过期提醒</h4><blockquote><p>可设置是否显示文章过期提醒，以更新时间为基准</p><ul><li>limit_day： 距离更新时间多少天才显示文章过期提醒</li><li>message_prev ： 天数之前的文字</li><li>message_next：天数之后的文字</li></ul></blockquote><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Displays outdated notice for a post (文章过期提醒)</span></span><br><span class="line"><span class="attr">noticeOutdate:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span>		<span class="comment"># true开</span></span><br><span class="line">  <span class="attr">style:</span> <span class="string">flat</span> <span class="comment"># style: simple/flat</span></span><br><span class="line">  <span class="attr">limit_day:</span> <span class="number">365</span> <span class="comment"># When will it be shown	#限制天数</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">top</span> <span class="comment"># position: top/bottom		#文章顶部/底部</span></span><br><span class="line">  <span class="attr">message_prev:</span> <span class="string">It</span> <span class="string">has</span> <span class="string">been</span></span><br><span class="line">  <span class="attr">message_next:</span> <span class="string">days</span> <span class="string">since</span> <span class="string">the</span> <span class="string">last</span> <span class="string">update,</span> <span class="string">the</span> <span class="string">content</span> <span class="string">of</span> <span class="string">the</span> <span class="string">article</span> <span class="string">may</span> <span class="string">be</span> <span class="string">outdated.</span></span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://testingcf.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butteffly-docs-outdate-flat.png"></p><h4 id="文章编辑按钮"><a href="#文章编辑按钮" class="headerlink" title="文章编辑按钮"></a>文章编辑按钮</h4><p>修改主题配置文件<code>_config.butterfly.yml</code>，在文章标题旁边显示一个编辑按钮，点击会跳转到对应的链接去</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Post edit</span></span><br><span class="line"><span class="comment"># Easily browse and edit blog source code online.</span></span><br><span class="line"><span class="attr">post_edit:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># url: https://github.com/user-name/repo-name/edit/branch-name/subdirectory-name/</span></span><br><span class="line">  <span class="comment"># For example: https://github.com/GC-ZF/Blog/edit/main/source/</span></span><br><span class="line">  <span class="attr">url:</span></span><br></pre></td></tr></table></figure><h4 id="文章分页按钮"><a href="#文章分页按钮" class="headerlink" title="文章分页按钮"></a>文章分页按钮</h4><p>修改主题配置文件<code>_config.butterfly.yml</code>，设置分页的逻辑<code>false</code>时不显示分页</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># post_pagination (分页)</span></span><br><span class="line"><span class="comment"># value: 1 || 2 || false</span></span><br><span class="line"><span class="comment"># 1: The &#x27;next post&#x27; will link to old post</span></span><br><span class="line"><span class="comment"># 2: The &#x27;next post&#x27; will link to new post</span></span><br><span class="line"><span class="comment"># false: disable pagination</span></span><br><span class="line"><span class="attr">post_pagination:</span> <span class="number">1</span> <span class="comment"># 下一篇是旧文</span></span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://testingcf.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-post-pagination.png"></p><h3 id="头像"><a href="#头像" class="headerlink" title="头像"></a>头像</h3><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">avatar:</span></span><br><span class="line">  <span class="attr">img:</span> <span class="string">https://q1.qlogo.cn/g?b=qq&amp;nk=1310446718&amp;s=5</span> <span class="comment"># 图片路径</span></span><br><span class="line">  <span class="attr">effect:</span> <span class="literal">false</span> <span class="comment"># ture头像会一直转圈，false鼠标移上去会转  </span></span><br></pre></td></tr></table></figure><h3 id="图片描述"><a href="#图片描述" class="headerlink" title="图片描述"></a>图片描述</h3><p>可开启图片Figcaption描述文字显示，优先显示图片的 title 属性，然后是 alt 属性</p><p>修改主题配置文件<code>_config.butterfly.yml</code>，默认关闭</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">photofigcaption:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://testingcf.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-photo-figcaption.png"></p><h3 id="复制相关配置"><a href="#复制相关配置" class="headerlink" title="复制相关配置"></a>复制相关配置</h3><p>可配置网站是否可以复制、复制的内容是否添加版权信息</p><ul><li>enable：是否开启网站复制权限</li><li>copyright：复制的内容后面加上版权信息</li><li>enable：是否开启复制版权信息添加</li><li>limit_count：字数限制，当复制文字大于这个字数限制时，将在复制的内容后面加上版权信息</li></ul><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># copy settings</span></span><br><span class="line"><span class="comment"># copyright: Add the copyright information after copied content (複制的內容後面加上版權信息)</span></span><br><span class="line"><span class="attr">copy:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">copyright:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">limit_count:</span> <span class="number">50</span></span><br></pre></td></tr></table></figure><h3 id="Footer设置"><a href="#Footer设置" class="headerlink" title="Footer设置"></a>Footer设置</h3><h4 id="博客年份"><a href="#博客年份" class="headerlink" title="博客年份"></a>博客年份</h4><p>since是一个来展示你站点起始时间的选项。它位于页面的最底部</p><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Footer Settings</span></span><br><span class="line"><span class="comment"># --------------------------------------</span></span><br><span class="line"><span class="attr">footer:</span></span><br><span class="line">  <span class="attr">owner:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">since:</span> <span class="number">2022</span></span><br><span class="line">  <span class="attr">custom_text:</span> <span class="string">&lt;div&gt;满地都是六便士</span> <span class="string">我想抬头看月亮&lt;/div&gt;&lt;div&gt;&lt;a</span> <span class="string">onclick=&quot;window.open(&#x27;url&#x27;)&quot;</span> <span class="string">class=&quot;footer-a&quot;&gt;备:没服务器...&lt;/a&gt;&lt;/div&gt;</span></span><br><span class="line">  <span class="attr">copyright:</span> <span class="literal">true</span> <span class="comment"># Copyright of theme and framework</span></span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://testingcf.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-since.png"></p><h4 id="页脚自定义脚本-备案信息"><a href="#页脚自定义脚本-备案信息" class="headerlink" title="页脚自定义脚本(备案信息)"></a>页脚自定义脚本(备案信息)</h4><blockquote><p><code>custom_text</code>是一个给你用来在页脚自定义文本的选项。通常你可以在这里写声明文本等。支持 HTML。</p></blockquote><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">custom_text:</span> <span class="string">Hi,</span> <span class="string">welcome</span> <span class="string">to</span> <span class="string">my</span> <span class="string">&lt;a</span> <span class="string">href=&quot;https://butterfly.js.org/&quot;&gt;blog&lt;/a&gt;!</span></span><br></pre></td></tr></table></figure><p>对于部分人需要写 ICP 的，也可以写在 <code>custom_text</code> 里</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">custom_text:</span> <span class="string">&lt;a</span> <span class="string">href=&quot;icp链接&quot;&gt;&lt;img</span> <span class="string">class=&quot;icp-icon&quot;</span> <span class="string">src=&quot;icp图片&quot;&gt;&lt;span&gt;备案号：xxxxxx&lt;/span&gt;&lt;/a&gt;</span></span><br></pre></td></tr></table></figure><h3 id="右下角按钮"><a href="#右下角按钮" class="headerlink" title="右下角按钮"></a>右下角按钮</h3><h4 id="简繁转换"><a href="#简繁转换" class="headerlink" title="简繁转换"></a>简繁转换</h4><p>简体繁体互换，右下角会有简繁转换按钮</p><p>修改主题配置文件<code>_config.butterfly.yml</code>，默认关闭</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">translate:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># 默认按钮显示文字(网站是简体，应设置为&#x27;default: 繁&#x27;)</span></span><br><span class="line">  <span class="attr">default:</span> <span class="string">简</span></span><br><span class="line">  <span class="comment">#网站默认语言，1: 繁体中文, 2: 简体中文</span></span><br><span class="line">  <span class="attr">defaultEncoding:</span> <span class="number">1</span></span><br><span class="line">  <span class="comment">#延迟时间,若不在前, 要设定延迟翻译时间, 如100表示100ms,默认为0</span></span><br><span class="line">  <span class="attr">translateDelay:</span> <span class="number">0</span></span><br><span class="line">  <span class="comment">#当文字是简体时，按钮显示的文字</span></span><br><span class="line">  <span class="attr">msgToTraditionalChinese:</span> <span class="string">&quot;繁&quot;</span></span><br><span class="line">  <span class="comment">#当文字是繁体时，按钮显示的文字</span></span><br><span class="line">  <span class="attr">msgToSimplifiedChinese:</span> <span class="string">&quot;简&quot;</span></span><br></pre></td></tr></table></figure><h4 id="夜间模式"><a href="#夜间模式" class="headerlink" title="夜间模式"></a>夜间模式</h4><p>右下角会有夜间模式按钮</p><p>修改主题配置文件<code>_config.butterfly.yml</code>，默认开启</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># dark mode</span></span><br><span class="line"><span class="attr">darkmode:</span></span><br><span class="line"> <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line"> <span class="comment"># Toggle Button to switch dark/light mode</span></span><br><span class="line"> <span class="attr">button:</span> <span class="literal">true</span></span><br><span class="line"> <span class="comment"># Switch dark/light mode automatically (自動切換 dark mode和 light mode)</span></span><br><span class="line"> <span class="comment"># autoChangeMode: 1  Following System Settings, if the system doesn&#x27;t support dark mode, it will switch dark mode between 6 pm to 6 am</span></span><br><span class="line"> <span class="comment"># autoChangeMode: 2  Switch dark mode between 6 pm to 6 am</span></span><br><span class="line"> <span class="comment"># autoChangeMode: false</span></span><br><span class="line"> <span class="attr">autoChangeMode:</span> <span class="number">2</span></span><br><span class="line"> <span class="comment"># Set the light mode time. The value is between 0 and 24. If not set, the default value is 6 and 18</span></span><br><span class="line"> <span class="attr">start:</span> <span class="comment"># 8</span></span><br><span class="line"> <span class="attr">end:</span> <span class="comment"># 22</span></span><br></pre></td></tr></table></figure><blockquote><p>V2.0.0 开始增加一个选项，可开启自动切换light mode 和 dark mode</p><ul><li><p>autoChangeMode: 1 跟随系统而变化，不支持的浏览器&#x2F;系统将按照时间晚上6点到早上6点之间切换为 dark mode</p></li><li><p>autoChangeMode: 2 只按照时间 晚上6点到早上6点之间切换为 dark mode,其余时间为light mode</p></li><li><p>autoChangeMode: false 取消自动切换</p></li></ul></blockquote><h4 id="阅读模式"><a href="#阅读模式" class="headerlink" title="阅读模式"></a>阅读模式</h4><p>阅读模式下会去掉除文章外的内容，避免干扰阅读。只会出现在文章页面，右下角会有阅读模式按钮</p><p>修改主题配置文件<code>_config.butterfly.yml</code>，默认开启</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">readmode:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h4 id="滚动状态百分比"><a href="#滚动状态百分比" class="headerlink" title="滚动状态百分比"></a>滚动状态百分比</h4><p>修改主题配置文件<code>_config.butterfly.yml</code>，默认开启</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># show scroll percent in scroll-to-top button</span></span><br><span class="line"><span class="attr">rightside_scroll_percent:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://testingcf.jsdelivr.net/gh/jerryc127/CDN@m2/img/hexo-butterfly-docs-scroll-percent-right-btn.gif" alt="rightside_scroll_percent"></p><h4 id="按钮排序"><a href="#按钮排序" class="headerlink" title="按钮排序"></a>按钮排序</h4><p>修改主题配置文件<code>_config.butterfly.yml</code>，默认即可</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Don&#x27;t modify the following settings unless you know how they work (非必要请不要修改 )</span></span><br><span class="line"><span class="comment"># Choose: readmode,translate,darkmode,hideAside,toc,chat,comment</span></span><br><span class="line"><span class="comment"># Don&#x27;t repeat 不要重复</span></span><br><span class="line"><span class="attr">rightside_item_order:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">hide:</span> <span class="comment"># readmode,translate,darkmode,hideAside</span></span><br><span class="line">  <span class="attr">show:</span> <span class="comment"># toc,chat,comment</span></span><br></pre></td></tr></table></figure><h3 id="侧边栏设置"><a href="#侧边栏设置" class="headerlink" title="侧边栏设置"></a>侧边栏设置</h3><h4 id="侧边排版"><a href="#侧边排版" class="headerlink" title="侧边排版"></a>侧边排版</h4><p>可自行决定哪个项目需要显示，可决定位置，也可以设置不显示侧边栏</p><ul><li><code>left</code>侧边栏靠左边</li><li><code>right</code>侧边栏靠右边</li><li><code>hide</code>隐藏所有</li><li><code>display</code>单独设置显示哪个</li></ul><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">aside:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">hide:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">button:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">true</span> <span class="comment"># display on mobile</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">right</span> <span class="comment"># left or right</span></span><br><span class="line">  <span class="attr">display:</span>	<span class="comment"># 单独设置</span></span><br><span class="line">    <span class="attr">archive:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">tag:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">category:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">card_author:</span>	<span class="comment"># 作者信息栏</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">description:</span></span><br><span class="line">    <span class="attr">button:</span></span><br><span class="line">      <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">fab</span> <span class="string">fa-github</span></span><br><span class="line">      <span class="attr">text:</span> <span class="string">Follow</span> <span class="string">Me</span></span><br><span class="line">      <span class="attr">link:</span> <span class="string">https://github.com/GC-ZF</span></span><br><span class="line">  <span class="attr">card_announcement:</span> <span class="comment"># 公告栏</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">content:</span> <span class="string">在没有经济独立的前提下，一切自由都是诱拐，一切个性都是欺骗</span></span><br><span class="line">  <span class="attr">card_recent_post:</span>	<span class="comment"># 最近文章栏</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">5</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">    <span class="attr">sort:</span> <span class="string">date</span> <span class="comment"># date or updated</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="number">4</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">card_categories:</span>	<span class="comment"># 文章分类栏</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">8</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">    <span class="attr">expand:</span> <span class="string">none</span> <span class="comment"># none/true/false</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="number">5</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">card_tags:</span>	<span class="comment"># 文章标签栏</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">40</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">    <span class="attr">color:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">orderby:</span> <span class="string">random</span> <span class="comment"># Order of tags, random/name/length</span></span><br><span class="line">    <span class="attr">order:</span> <span class="number">1</span> <span class="comment"># Sort of order. 1, asc for ascending; -1, desc for descending</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="number">6</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">card_archives:</span> <span class="comment"># 文章归档栏</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">monthly</span> <span class="comment"># yearly or monthly</span></span><br><span class="line">    <span class="attr">format:</span> <span class="string">MMMM</span> <span class="string">YYYY</span> <span class="comment"># eg: YYYY年MM月</span></span><br><span class="line">    <span class="attr">order:</span> <span class="number">-1</span> <span class="comment"># Sort of order. 1, asc for ascending; -1, desc for descending</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">8</span> <span class="comment"># if set 0 will show all</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="number">7</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">card_webinfo:</span>	<span class="comment"># 站点信息栏</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">post_count:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">last_push_date:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">sort_order:</span> <span class="number">8</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://testingcf.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-aside-right.png"></p><h4 id="访问人数统计"><a href="#访问人数统计" class="headerlink" title="访问人数统计"></a>访问人数统计</h4><p>修改主题配置文件<code>_config.butterfly.yml</code>，默认全开。使用<a target="_blank" rel="noopener external nofollow noreferrer" href="http://busuanzi.ibruce.info/">不蒜子统计</a></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">busuanzi:</span></span><br><span class="line">  <span class="attr">site_uv:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">site_pv:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">page_pv:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://testingcf.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-busuanzi-site-pv.png"></p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://testingcf.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-pv.png"></p><h4 id="运行时间"><a href="#运行时间" class="headerlink" title="运行时间"></a>运行时间</h4><p>网页已运行时间</p><p>修改主题配置文件<code>_config.butterfly.yml</code>，默认false</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">runtimeshow:</span></span><br><span class="line"> <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line"> <span class="attr">publish_date:</span> <span class="number">5</span><span class="string">/1/2022</span> <span class="number">00</span><span class="string">:00:00</span> </span><br><span class="line">  <span class="comment">##网页开通时间</span></span><br><span class="line">  <span class="comment">#格式: 月/日/年 时间</span></span><br><span class="line">  <span class="comment">#也可以写成 年/月/日 时间</span></span><br></pre></td></tr></table></figure><h4 id="最新评论"><a href="#最新评论" class="headerlink" title="最新评论"></a>最新评论</h4><blockquote><p>最新评论只会在刷新时才会去读取，并不会实时变化</p><p>由于 API 有 访问次数限制，为了避免调用太多，主题默认存取期限为 10 分钟。也就是说，调用后资料会存在 localStorage 里，10分钟内刷新网站只会去 localStorage 读取资料。 10 分钟期限一过，刷新页面时才会去调取 API 读取新的数据。（ 3.6.0 新增了 storage 配置，可自行配置缓存时间）</p></blockquote><p>在侧边栏显示最新评论板块</p><p>修改主题配置文件<code>_config.butterfly.yml</code>，默认关闭</p><ul><li>limit：显示数量</li><li>storage：设置缓存时间</li><li>avatar：是否显示头像</li></ul><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Aside widget - Newest Comments</span></span><br><span class="line"><span class="attr">newest_comments:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">sort_order:</span> <span class="number">3</span> <span class="comment"># Don&#x27;t modify the setting unless you know how it works</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">6</span></span><br><span class="line">  <span class="attr">storage:</span> <span class="number">10</span> <span class="comment"># unit: mins, save data to localStorage</span></span><br><span class="line">  <span class="attr">avatar:</span> <span class="literal">false</span> <span class="comment"># 头像</span></span><br></pre></td></tr></table></figure><h4 id="自定义添加栏目"><a href="#自定义添加栏目" class="headerlink" title="自定义添加栏目"></a>自定义添加栏目</h4><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://butterfly.js.org/posts/ea33ab97/#%E4%BE%8B%E5%AD%90">自定义侧边栏 | Butterfly</a>：在后续魔改中会用到，例如访客统计侧边栏</p><h3 id="标签外挂"><a href="#标签外挂" class="headerlink" title="标签外挂"></a>标签外挂</h3><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://butterfly.js.org/posts/4aa8abbe/#%E6%A8%99%E7%B1%A4%E5%A4%96%E6%8E%9B%EF%BC%88Tag-Plugins%EF%BC%89">详见官方文档</a></p><hr><blockquote><p>以下来自<a target="_blank" rel="noopener external nofollow noreferrer" href="https://butterfly.js.org/posts/ceeb73f/">Butterfly 安裝文檔(四) 主題配置-2 | Butterfly</a></p></blockquote><h3 id="评论"><a href="#评论" class="headerlink" title="评论"></a>评论</h3><p>Valine一部分功能(表情库、邮件提醒等等)需要借助其它第三方。Valine配置Leancloud有个小坑，如果认证支付宝显示当前设备不支持刷脸，支付宝退出重登就好</p><ul><li><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.csdn.net/aeneag/article/details/121330002?ops_request_misc=%7B%22request_id%22:%22165138422116782425199399%22,%22scm%22:%2220140713.130102334.pc_all.%22%7D&request_id=165138422116782425199399&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~times_rank-3-121330002.142%5Ev9%5Epc_search_result_cache,157%5Ev4%5Econtrol&utm_term=Valine&spm=1018.2226.3001.4187">Valine评论+配置开启邮箱提醒_艾恩凝的博客-CSDN博客</a></p></li><li><p>第三方<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/zhaojun1998/Valine-Admin">Github Valine 的拓展应用 增强 Valine 的邮件通知</a></p></li></ul><p>改为livere(韩国)配置很快，大概五分钟就好，支持表情、图片，但是不能自定义评论框的样式，必须登录QQ等才能发表评论</p><p>2022.5.1 最后的倔强，还是喜欢免登录，更改评论为tiwkoo</p><ul><li><p>支持QQ号自动识别，支持最新评论发送邮件提醒(包括博主、游客)，邮件内容自定义模板，支持图片、表情包…</p></li><li><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.bilibili.com/video/BV1Fh411e7ZH">Twikoo Vercel 部署教程_哔哩哔哩_bilibili</a></p></li><li><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.csdn.net/weixin_58068682/article/details/122770936?spm=1001.2014.3001.5502">部署Twikoo评论系统及其邮件推送_Amnesia_Fu的博客-CSDN博客</a></p></li><li><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://twikoo.js.org/#%E7%89%B9%E8%89%B2">Twikoo 中文文档</a></p></li></ul><blockquote><p>小坑：MongoDB数据库配置时，连接字符串密码,<code>mongodb+srv://xxxxxx:&lt;password&gt;@cluster0.i7omd.mongodb.net/myFirstDatabase?retryWrites=true&amp;w=majority</code>，替换密码时尖括号<code>&lt; &gt;</code>需要去掉</p></blockquote><h4 id="数据导出"><a href="#数据导出" class="headerlink" title="数据导出"></a>数据导出</h4><p>2022.8.5 墙裂推荐twikoo。作者是95后小哥哥，人巨好，随时回复网友的各种疑难杂症<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/imaegoo/twikoo/issues/422">Issues · imaegoo&#x2F;twikoo</a>。另外，熟读中文文档后，官网已有详细的特色简介，着重点名几个深得我心的功能！</p><ul><li>支持Valine、Disqus、Artalk、Twikoo数据迁移</li><li>评论人工审核</li><li>支持私有部署</li><li>支持自建的<a href="https://zhsher.cn/posts/10482/">兰空图床</a>（本来是没有的，小哥专门加的）</li><li>可以修改评论信息（参考下文）</li></ul><p>关于数据迁移，我之前是部署在MongoDB，但是如果有自己服务器的话，评论延迟会快一点，参考作者教程<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.imaegoo.com/2022/twikoo-data-export/">评论数据导出教程 - iMaeGoo’s Blog</a>，有一点点踩坑的地方，总结一下</p><p>根据作者说明，利用 MongoDB 数据库工具运行导出命令</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">mongoexport</span> <span class="string">--uri</span> <span class="string">这里换成刚才复制的地址</span> <span class="string">--collection</span> <span class="string">comment</span> <span class="string">--type</span> <span class="string">json</span> <span class="string">--out</span> <span class="string">twikoo-comments.json</span></span><br></pre></td></tr></table></figure><p>可能出现的错误（耗费三小时与<a target="_blank" rel="noopener external nofollow noreferrer" href="https://thiscute.world/">@二花</a>，bing、谷歌、stack overflow、csdn，win、Mac、Ubuntu，轮番战斗！)</p><ul><li><p>win无解，有的电脑可以有的不可以，可能是微软版本bug吧？（实在想用微软参考下文）</p></li><li><p>Mac正常运行</p></li><li><p>Ubuntu如果报错，参考<a target="_blank" rel="noopener external nofollow noreferrer" href="https://stackoverflow.com/questions/11255630/how-to-export-all-collections-in-mongodb/70681761#70681761">How to export all collections in MongoDB? - Stack Overflow</a>，添加<code>--forceTableScan</code></p></li></ul><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">mongoexport</span> <span class="string">--uri</span> <span class="string">这里换成刚才复制的地址</span> <span class="string">--collection</span> <span class="string">comment</span> <span class="string">--forceTableScan</span> <span class="string">--type</span> <span class="string">json</span> <span class="string">--out</span> <span class="string">twikoo-comments.json</span></span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.zhsher.cn/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA28.png" alt="Hexo博客搭建28"></p><p><strong>微软解决办法</strong></p><p>连接有三种方法，用最下面有一个GUI工具</p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.zhsher.cn/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA29.png" alt="Hexo博客搭建29" style="zoom:50%"><p>没有工具可以先选择<code>I do don have MongoDB Compass</code>，或者官网找<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.mongodb.com/try/download/database-tools">MongoDB Compass</a>安装。打开软件连接数据库，<strong>uri</strong>默认<strong>1.12 or later</strong>，如果出现<code>queryTxt ETIMEOUT</code>超时，参考官网<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.mongodb.com/community/forums/t/error-querytxt-etimeout-error-while-connecting-with-atlas/5863">Error: queryTxt ETIMEOUT - MongoDB Developer Community Forums</a>，换用<strong>1.11 or later</strong></p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.zhsher.cn/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA30.png" alt="Hexo博客搭建30"></p><p>连接数据库后，可以通过工具对评论修改、数据导出导入，如果忘记密码删除<strong>config</strong>中<code>ADMIN_PASS:&quot;xxxx&quot;</code>，私有部署在文件夹<strong>db.json.1</strong>内删除<code>ADMIN_PASS:&quot;xxxx&quot;</code>，之后重新打开博客设置。Vercel部署+Mongo Compass辅助或私有部署，四舍五入，也有了类似Typecho后台评论管理了嘿嘿</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.zhsher.cn/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA31.png" alt="Hexo博客搭建31"></p><h4 id="数据备份"><a href="#数据备份" class="headerlink" title="数据备份"></a>数据备份</h4><blockquote><p>小tips：网站数据备份相当重要，宝塔可以直接对站点备份，但评论备份无法实现，服务器自带python环境，所以我做了一个python代码，利用<code>crontab -e</code>或宝塔面板中的计划任务定时备份，在目录下<code>backuplog.txt</code>会记录每一次备份日志</p><p>2022.09.27 新增无服务器备份方案：<a href="https://zhsher.cn/posts/33638/">Twikoo评论定时备份方案 | 张时贰</a></p></blockquote><p>Vercel部署，将代码存放在MongoDB 数据库工具同级路径下，按需修改30行（清理备份）、35行（MONGODB_URI）</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">@Author:张时贰</span></span><br><span class="line"><span class="string">@Date:2022年08月08日</span></span><br><span class="line"><span class="string">@CSDN:张时贰</span></span><br><span class="line"><span class="string">@Blog:zhsher.cn</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Logger</span> ( <span class="title class_ inherited__">object</span> ):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, fileN=<span class="string">&quot;Default.log&quot;</span></span>):</span><br><span class="line">        self.terminal = sys.stdout</span><br><span class="line">        self.log = <span class="built_in">open</span> ( fileN, <span class="string">&quot;a&quot;</span> )</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">write</span>(<span class="params">self, message</span>):</span><br><span class="line">        self.terminal.write ( message )</span><br><span class="line">        self.log.write ( message )</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">flush</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sys.stdout = Logger ( <span class="string">&quot;backuplog.txt&quot;</span> )  <span class="comment"># 输出日志</span></span><br><span class="line"><span class="built_in">print</span> ( <span class="string">&quot;--------------------------------------------------------------\n&quot;</span> )</span><br><span class="line">now_time = datetime.now ()  <span class="comment"># 当前时间</span></span><br><span class="line">now_time_day = now_time.day  <span class="comment"># 日</span></span><br><span class="line">data = <span class="string">f&quot;<span class="subst">&#123;now_time.year&#125;</span>年<span class="subst">&#123;now_time.month&#125;</span>月<span class="subst">&#123;now_time.day&#125;</span>日&quot;</span></span><br><span class="line">delete_day = [ <span class="number">15</span>, <span class="number">30</span> ]  <span class="comment"># 每月15、30号清空备份</span></span><br><span class="line"><span class="keyword">if</span> now_time_day <span class="keyword">in</span> delete_day:</span><br><span class="line">    os.system ( <span class="string">&#x27;rm *.json -f&#x27;</span> )  <span class="comment"># 删除所有json</span></span><br><span class="line">    <span class="built_in">print</span> ( data + <span class="string">&quot; 清空备份文件&quot;</span> )</span><br><span class="line">    <span class="comment"># os.system ( &#x27;rm backuplog.txt.txt -f&#x27; )     # 删除日志</span></span><br><span class="line">MONGODB_URI = <span class="string">&#x27;mongodb+srv://xxx:xxx@xxxxxxx/myFirstDatabase&#x27;</span></span><br><span class="line">commond = <span class="string">&#x27;mongoexport --uri &#x27;</span> + <span class="string">f&#x27;<span class="subst">&#123;MONGODB_URI&#125;</span>&#x27;</span> + <span class="string">&#x27; --collection comment --forceTableScan --type json --out &#x27;</span> + <span class="string">f&quot;<span class="subst">&#123;now_time.year&#125;</span>年<span class="subst">&#123;now_time.month&#125;</span>月<span class="subst">&#123;now_time.day&#125;</span>日.json&quot;</span></span><br><span class="line">code = os.system ( commond )</span><br><span class="line"><span class="keyword">if</span> code == <span class="number">0</span>:</span><br><span class="line">    <span class="built_in">print</span> ( data + <span class="string">&quot; 备份成功&quot;</span> )</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span> ( data + <span class="string">&quot; 备份失败，请检查python文件中MONGODB_URI值是否正确&quot;</span> )</span><br><span class="line"><span class="built_in">print</span> ()</span><br></pre></td></tr></table></figure><p>私有部署，代码存放位置任意，修改35行（原始路径）、36行（备份路径）,都用绝对路径，但不要与私有部署在相同路径下，因为定时清理会清掉所有json文件</p><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">@Author:张时贰</span></span><br><span class="line"><span class="string">@Date:2022年08月08日</span></span><br><span class="line"><span class="string">@CSDN:张时贰</span></span><br><span class="line"><span class="string">@Blog:zhsher.cn</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Logger</span> ( <span class="title class_ inherited__">object</span> ):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, fileN=<span class="string">&quot;Default.log&quot;</span></span>):</span><br><span class="line">        self.terminal = sys.stdout</span><br><span class="line">        self.log = <span class="built_in">open</span> ( fileN, <span class="string">&quot;a&quot;</span> )</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">write</span>(<span class="params">self, message</span>):</span><br><span class="line">        self.terminal.write ( message )</span><br><span class="line">        self.log.write ( message )</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">flush</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sys.stdout = Logger ( <span class="string">&quot;backuplog.txt&quot;</span> )  <span class="comment"># 输出日志</span></span><br><span class="line"><span class="built_in">print</span> ( <span class="string">&quot;--------------------------------------------------------------\n&quot;</span> )</span><br><span class="line">now_time = datetime.now ()  <span class="comment"># 当前时间</span></span><br><span class="line">now_time_day = now_time.day  <span class="comment"># 日</span></span><br><span class="line">data = <span class="string">f&quot;<span class="subst">&#123;now_time.year&#125;</span>年<span class="subst">&#123;now_time.month&#125;</span>月<span class="subst">&#123;now_time.day&#125;</span>日&quot;</span></span><br><span class="line">delete_day = [ <span class="number">15</span>, <span class="number">30</span> ]  <span class="comment"># 每月15、30号清空备份</span></span><br><span class="line"><span class="keyword">if</span> now_time_day <span class="keyword">in</span> delete_day:</span><br><span class="line">    os.system ( <span class="string">&#x27;rm *.json -f&#x27;</span> )  <span class="comment"># 删除所有json</span></span><br><span class="line">    <span class="built_in">print</span> ( data + <span class="string">&quot; 清空备份文件&quot;</span> )</span><br><span class="line">    <span class="comment"># os.system ( &#x27;rm backuplog.txt.txt -f&#x27; )     # 删除日志</span></span><br><span class="line">init_path=<span class="string">&#x27;/xxxxx/bin/db.json.1&#x27;</span></span><br><span class="line">backup_path=<span class="string">&#x27;/xxxxx/bin/backup/&#x27;</span></span><br><span class="line">init_path=<span class="string">&#x27;&quot;&#x27;</span>+init_path+<span class="string">&#x27;&quot;&#x27;</span></span><br><span class="line">backup_path=<span class="string">&#x27;&quot;&#x27;</span>+backup_path+<span class="string">f&quot;/<span class="subst">&#123;now_time.year&#125;</span>年<span class="subst">&#123;now_time.month&#125;</span>月<span class="subst">&#123;now_time.day&#125;</span>日.json&quot;</span>+<span class="string">&#x27;&quot;&#x27;</span></span><br><span class="line">commond = <span class="string">&#x27;cp &#x27;</span>+init_path+<span class="string">&quot; &quot;</span>+backup_path</span><br><span class="line">code = os.system ( commond )</span><br><span class="line"><span class="keyword">if</span> code == <span class="number">0</span>:</span><br><span class="line">    <span class="built_in">print</span> ( data + <span class="string">&quot; 备份成功&quot;</span> )</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span> ( data + <span class="string">&quot; 备份失败，请检查python文件中init_path和backup_path是否正确或备份路径是否有读写权限&quot;</span> )</span><br><span class="line"><span class="built_in">print</span> ()</span><br></pre></td></tr></table></figure><h3 id="在线聊天"><a href="#在线聊天" class="headerlink" title="在线聊天"></a>在线聊天</h3><p>感觉也用不到…，想弄看文档吧<a target="_blank" rel="noopener external nofollow noreferrer" href="https://butterfly.js.org/posts/ceeb73f/#%E5%9C%A8%E7%B6%AB%E8%81%8A%E5%A4%A9">Butterfly 安裝文檔(四) 主題配置-2 | Butterfly</a></p><h3 id="分享"><a href="#分享" class="headerlink" title="分享"></a>分享</h3><p>官方提供三种格式，本博客使用的默认服务商sharejs</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">sharejs:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">sites:</span> <span class="string">facebook,twitter,wechat,weibo,qq</span>  <span class="comment">#想要显示的内容</span></span><br></pre></td></tr></table></figure><h3 id="本地搜索"><a href="#本地搜索" class="headerlink" title="本地搜索"></a>本地搜索</h3><p>安装依赖</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install hexo-generator-search --save</span><br></pre></td></tr></table></figure><p>修改主题配置文件<code>_config.butterfly.yml</code>，默认关闭，preload代表预加载</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Local search</span></span><br><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">preload:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">CDN:</span></span><br></pre></td></tr></table></figure><h3 id="广告"><a href="#广告" class="headerlink" title="广告"></a>广告</h3><p>影响阅读体验，不加！</p><h3 id="数学"><a href="#数学" class="headerlink" title="数学"></a>数学</h3><p>主题自带足矣，第三方插件：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://butterfly.js.org/posts/ceeb73f/#Math-%E6%95%B8%E5%AD%B8">Butterfly 安裝文檔(四) 主題配置-2 | Butterfly</a></p><h3 id="美化"><a href="#美化" class="headerlink" title="美化"></a>美化</h3><h4 id="自定义主题色"><a href="#自定义主题色" class="headerlink" title="自定义主题色"></a>自定义主题色</h4><blockquote><p>可以修改大部分UI颜色，默认全注释不修改，我使用的默认</p></blockquote><p>修改主题配置文件<code>_config.butterfly.yml</code>，<strong>颜色值必须被双引号包裹，就像”#000”而不是#000。否则将会在构建的时候报错！</strong></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">theme_color:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">main:</span> <span class="string">&quot;#49B1F5&quot;</span></span><br><span class="line">  <span class="attr">paginator:</span> <span class="string">&quot;#00c4b6&quot;</span></span><br><span class="line">  <span class="attr">button_hover:</span> <span class="string">&quot;#FF7242&quot;</span></span><br><span class="line">  <span class="attr">text_selection:</span> <span class="string">&quot;#00c4b6&quot;</span></span><br><span class="line">  <span class="attr">link_color:</span> <span class="string">&quot;#99a9bf&quot;</span></span><br><span class="line">  <span class="attr">meta_color:</span> <span class="string">&quot;#858585&quot;</span></span><br><span class="line">  <span class="attr">hr_color:</span> <span class="string">&quot;#A4D8FA&quot;</span></span><br><span class="line">  <span class="attr">code_foreground:</span> <span class="string">&quot;#F47466&quot;</span></span><br><span class="line">  <span class="attr">code_background:</span> <span class="string">&quot;rgba(27, 31, 35, .05)&quot;</span></span><br><span class="line">  <span class="attr">toc_color:</span> <span class="string">&quot;#00c4b6&quot;</span></span><br><span class="line">  <span class="attr">blockquote_padding_color:</span> <span class="string">&quot;#49b1f5&quot;</span></span><br><span class="line">  <span class="attr">blockquote_background_color:</span> <span class="string">&quot;#49b1f5&quot;</span></span><br><span class="line">  <span class="attr">scrollbar_color:</span> <span class="string">&quot;#49b1f5&quot;</span></span><br></pre></td></tr></table></figure><h4 id="网站背景"><a href="#网站背景" class="headerlink" title="网站背景"></a>网站背景</h4><p>默认显示白色，可设置图片或者颜色，修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 图片格式 url(http://xxxxxx.com/xxx.jpg)</span></span><br><span class="line"><span class="comment"># 颜色（HEX值/RGB值/颜色单词/渐变色)</span></span><br><span class="line"><span class="comment"># 留空 不显示背景</span></span><br><span class="line"><span class="attr">background:</span> <span class="string">url(/Hexo_img/config/background.png)</span></span><br></pre></td></tr></table></figure><blockquote><p>background:’#49B202’</p></blockquote><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://testingcf.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-set-body-background-color.png"></p><h4 id="footer背景"><a href="#footer背景" class="headerlink" title="footer背景"></a>footer背景</h4><p>修改主题配置文件<code>_config.butterfly.yml</code></p><ul><li>留空&#x2F;false: 显示默认的颜色</li><li>img链接:图片的链接，显示所配置的图片<br>颜色(HEX值 - #0000FF,RGB值 - rgb(0,0,255),颜色单词 - orange,渐变色 - linear-gradient( 135deg, #E2B0FF 10%, #9F44D3 100%)）</li><li>true:显示跟 top_img 一样</li></ul><p>小tip，用<code>rgba(255,255,255,0)</code>使页脚透明</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># footer是否显示图片背景(与top_img一致)</span></span><br><span class="line"><span class="attr">footer_bg:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h4 id="打字效果"><a href="#打字效果" class="headerlink" title="打字效果"></a>打字效果</h4><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Typewriter Effect (打字效果)</span></span><br><span class="line"><span class="comment"># https://github.com/disjukr/activate-power-mode</span></span><br><span class="line"><span class="attr">activate_power_mode:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">colorful:</span> <span class="literal">true</span> <span class="comment"># open particle animation (冒光特效)</span></span><br><span class="line">  <span class="attr">shake:</span> <span class="literal">true</span> <span class="comment">#  open shake (抖动特效)</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://testingcf.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-type-animation.gif"></p><h4 id="背景特效"><a href="#背景特效" class="headerlink" title="背景特效"></a>背景特效</h4><p>修改主题配置文件<code>_config.butterfly.yml</code>，三选一</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Background effects (背景特效)</span></span><br><span class="line"><span class="comment"># --------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># canvas_ribbon (静止彩带)</span></span><br><span class="line"><span class="comment"># See: https://github.com/hustcc/ribbon.js</span></span><br><span class="line"><span class="attr">canvas_ribbon:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span>	<span class="comment"># PC端</span></span><br><span class="line">  <span class="attr">size:</span> <span class="number">150</span></span><br><span class="line">  <span class="attr">alpha:</span> <span class="number">0.6</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="number">-1</span></span><br><span class="line">  <span class="attr">click_to_change:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span>  <span class="comment"># 移动端</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Fluttering Ribbon (动态彩带)</span></span><br><span class="line"><span class="attr">canvas_fluttering_ribbon:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span> 	<span class="comment"># PC端</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span>     <span class="comment"># 移动端</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#星空特效</span></span><br><span class="line"><span class="comment"># canvas_nest</span></span><br><span class="line"><span class="comment"># https://github.com/hustcc/canvas-nest.js</span></span><br><span class="line"><span class="attr">canvas_nest:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span>		<span class="comment"># PC端</span></span><br><span class="line">  <span class="attr">color:</span> <span class="string">&#x27;0,0,255&#x27;</span> <span class="comment">#color of lines, default: &#x27;0,0,0&#x27;; RGB values: (R,G,B).(<span class="doctag">note:</span> use &#x27;,&#x27; to separate.)</span></span><br><span class="line">  <span class="attr">opacity:</span> <span class="number">0.7</span> <span class="comment"># the opacity of line (0~1), default: 0.5.</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="number">-1</span> <span class="comment"># z-index property of the background, default: -1.</span></span><br><span class="line">  <span class="attr">count:</span> <span class="number">99</span> <span class="comment"># the number of lines, default: 99.</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span>     <span class="comment"># 移动端</span></span><br></pre></td></tr></table></figure><h4 id="鼠标点击效果"><a href="#鼠标点击效果" class="headerlink" title="鼠标点击效果"></a>鼠标点击效果</h4><p>修改主题配置文件<code>_config.butterfly.yml</code>，三选一</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Mouse click effects: fireworks (鼠標點擊效果: 煙火特效)</span></span><br><span class="line"><span class="attr">fireworks:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span>	<span class="comment"># PC端</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="number">9999</span> <span class="comment"># -1 or 9999</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span>  <span class="comment"># 移动端</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Mouse click effects: Heart symbol (鼠標點擊效果: 愛心)</span></span><br><span class="line"><span class="attr">click_heart:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span>	<span class="comment"># PC端</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span>  <span class="comment"># 移动端</span></span><br><span class="line">  </span><br><span class="line"><span class="comment"># Mouse click effects: words (鼠標點擊效果: 文字)</span></span><br><span class="line"><span class="attr">ClickShowText:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span>	<span class="comment"># PC端</span></span><br><span class="line">  <span class="attr">text:</span></span><br><span class="line">   <span class="bullet">-</span> <span class="string">鬼</span></span><br><span class="line">   <span class="bullet">-</span> <span class="string">才</span></span><br><span class="line">   <span class="bullet">-</span> <span class="string">小</span></span><br><span class="line">   <span class="bullet">-</span> <span class="string">张</span></span><br><span class="line">   <span class="bullet">-</span> <span class="string">同</span></span><br><span class="line">   <span class="bullet">-</span> <span class="string">学</span></span><br><span class="line">  <span class="attr">fontSize:</span> <span class="string">15px</span></span><br><span class="line">  <span class="attr">random:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span>  <span class="comment"># 移动端</span></span><br></pre></td></tr></table></figure><h4 id="页面美化"><a href="#页面美化" class="headerlink" title="页面美化"></a>页面美化</h4><p>会改变ol、ul、h1-h5的样式</p><p>field配置生效的区域</p><ul><li>post 只在文章页生效</li><li>site 在全站生效</li></ul><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 美化页面显示</span></span><br><span class="line"><span class="attr">beautify:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">site</span> <span class="comment"># site/post</span></span><br><span class="line">  <span class="attr">title-prefix-icon:</span> <span class="string">&#x27;\f0c1&#x27;</span></span><br><span class="line">  <span class="attr">title-prefix-icon-color:</span> <span class="string">&quot;#F47466&quot;</span></span><br></pre></td></tr></table></figure><blockquote><p>title-prefix-icon填写的是<a target="_blank" rel="noopener external nofollow noreferrer" href="http://www.fontawesome.com.cn/get-started/">开始使用 – Font Awesome 中文网</a>的icon的Unicode数</p></blockquote><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://testingcf.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-fontwesome-unicode.png"></p><blockquote><p>未开启美化</p></blockquote><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://testingcf.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-beautify.png"></p><blockquote><p>开启美化</p></blockquote><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://testingcf.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-post-beautif.png"></p><h4 id="自定义字体和字体大小-未设置"><a href="#自定义字体和字体大小-未设置" class="headerlink" title="自定义字体和字体大小(未设置)"></a>自定义字体和字体大小(未设置)</h4><h5 id="全局字体"><a href="#全局字体" class="headerlink" title="全局字体"></a>全局字体</h5><p>可自行设置字体的font-family，如不需要配置，请留空</p><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Global font settings</span></span><br><span class="line"><span class="comment"># Don&#x27;t modify the following settings unless you know how they work (非必要不要修改)</span></span><br><span class="line"><span class="attr">font:</span></span><br><span class="line">  <span class="attr">global-font-size:</span></span><br><span class="line">  <span class="attr">code-font-size:</span></span><br><span class="line">  <span class="attr">font-family:</span> <span class="string">-apple-system,</span> <span class="string">BlinkMacSystemFont,</span> <span class="string">&quot;Segoe UI&quot;</span><span class="string">,</span> <span class="string">&quot;Helvetica Neue&quot;</span><span class="string">,</span> <span class="string">Lato,</span> <span class="string">Roboto,</span> <span class="string">&quot;PingFang SC&quot;</span><span class="string">,</span> <span class="string">&quot;Microsoft JhengHei&quot;</span><span class="string">,</span> <span class="string">&quot;Microsoft YaHei&quot;</span><span class="string">,</span> <span class="string">sans-serif</span></span><br><span class="line">  <span class="attr">code-font-family:</span> <span class="string">consolas,</span> <span class="string">Menlo,</span> <span class="string">&quot;PingFang SC&quot;</span><span class="string">,</span> <span class="string">&quot;Microsoft JhengHei&quot;</span><span class="string">,</span> <span class="string">&quot;Microsoft YaHei&quot;</span><span class="string">,</span> <span class="string">sans-serif</span></span><br></pre></td></tr></table></figure><h5 id="blog标题字体"><a href="#blog标题字体" class="headerlink" title="blog标题字体"></a>blog标题字体</h5><p>可自行设置字体的font-family，如不需要配置，请留空。如不需要使用网络字体，只需要把font_link留空就行</p><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Font settings for the site title and site subtitle</span></span><br><span class="line"><span class="comment"># 左上角网站名字 主页居中网站名字</span></span><br><span class="line"><span class="attr">blog_title_font:</span></span><br><span class="line">  <span class="attr">font_link:</span> <span class="string">https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap</span></span><br><span class="line">  <span class="attr">font-family:</span> <span class="string">Titillium</span> <span class="string">Web,</span> <span class="string">&#x27;PingFang SC&#x27;</span><span class="string">,</span> <span class="string">&#x27;Hiragino Sans GB&#x27;</span><span class="string">,</span> <span class="string">&#x27;Microsoft JhengHei&#x27;</span><span class="string">,</span> <span class="string">&#x27;Microsoft YaHei&#x27;</span><span class="string">,</span> <span class="string">sans-serif</span></span><br></pre></td></tr></table></figure><h4 id="网站副标题"><a href="#网站副标题" class="headerlink" title="网站副标题"></a>网站副标题</h4><p>修改主题配置文件<code>_config.butterfly.yml</code>，可设置主页中显示的网站副标题或者喜欢的座右铭，将enable设置为true开启，默认关闭</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># the subtitle on homepage (主頁subtitle)</span></span><br><span class="line"><span class="attr">subtitle:</span></span><br><span class="line"> <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line"> <span class="comment"># Typewriter Effect (打字效果)</span></span><br><span class="line"> <span class="attr">effect:</span> <span class="literal">true</span></span><br><span class="line"> <span class="comment"># Customize typed.js (配置typed.js)</span></span><br><span class="line"> <span class="comment"># https://github.com/mattboldt/typed.js/#customization</span></span><br><span class="line"> <span class="attr">typed_option:</span></span><br><span class="line"> <span class="comment"># source 調用第三方服務</span></span><br><span class="line"> <span class="comment"># source: false 關閉調用</span></span><br><span class="line"> <span class="comment"># source: 1  調用一言網的一句話（簡體） https://hitokoto.cn/</span></span><br><span class="line"> <span class="comment"># source: 2  調用一句網（簡體） https://yijuzhan.com/</span></span><br><span class="line"> <span class="comment"># source: 3  調用今日詩詞（簡體） https://www.jinrishici.com/</span></span><br><span class="line"> <span class="comment"># subtitle 會先顯示 source , 再顯示 sub 的內容</span></span><br><span class="line"> <span class="attr">source:</span> <span class="literal">false</span></span><br><span class="line"> <span class="comment"># 如果關閉打字效果，subtitle 只會顯示 sub 的第一行文字</span></span><br><span class="line"> <span class="attr">sub:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">劝君莫惜金缕衣，劝君惜取少年时</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">花开堪折直须折，莫待无花空折枝</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">出自金缕衣</span></span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://testingcf.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-index-subtitle.gif"></p><p>修改副标题字体样式，位置<code>\themes\butterfly\source\css\_layout\head.styl</code>，43行</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#site-subtitle</span><br><span class="line">    color: var(--white)   //此处修改为白色</span><br><span class="line">    font-size: 1.05em     // 字体大小</span><br><span class="line">    +minWidth768()</span><br><span class="line">    font-size: 1.40em   // 字体大小</span><br></pre></td></tr></table></figure><h4 id="主页top-img大小"><a href="#主页top-img大小" class="headerlink" title="主页top_img大小"></a>主页top_img大小</h4><p>默认的显示为全屏。site-info的区域会居中显示</p><p>注意：index_top_img_height的值不能使用百分比，2个都不填的话，会使用默认值</p><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 主页设置</span></span><br><span class="line"><span class="comment"># 默认top_img全屏，site_info在中间</span></span><br><span class="line"><span class="comment"># 使用默认, 都无需填写（建议默认）</span></span><br><span class="line"><span class="attr">index_site_info_top:</span> <span class="comment"># 主页标题距离顶部距离  例如 300px/300em/300rem/10%</span></span><br><span class="line"><span class="attr">index_top_img_height:</span>  <span class="comment">#主页top_img高度 例如 300px/300em/300rem  不能使用百分比</span></span><br></pre></td></tr></table></figure><h4 id="页面加载动画preloader"><a href="#页面加载动画preloader" class="headerlink" title="页面加载动画preloader"></a>页面加载动画preloader</h4><p>当进入网页时，因为加载速度的问题，可能会导致top_img图片出现断层显示，或者网页加载不全而出现等待时间，开启preloader后，会显示加载动画，等页面加载完，加载动画会消失</p><p>自定义动画参考学长<a target="_blank" rel="noopener external nofollow noreferrer" href="https://yangchaoyi.vip/posts/35726/">Hexo 添加加载动画 | 超逸の博客</a></p><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 加载动画 Loading Animation</span></span><br><span class="line"><span class="attr">preloader:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># source</span></span><br><span class="line">  <span class="comment"># 1. fullpage-loading</span></span><br><span class="line">  <span class="comment"># 2. pace (progress bar)</span></span><br><span class="line">  <span class="attr">source:</span> <span class="number">1</span></span><br><span class="line">  <span class="comment"># pace theme (see https://codebyzach.github.io/pace/)</span></span><br><span class="line">  <span class="attr">pace_css_url:</span></span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://testingcf.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-preloader.gif"></p><h3 id="PWA-未配置"><a href="#PWA-未配置" class="headerlink" title="PWA(未配置)"></a>PWA(未配置)</h3><p>渐进式增强 Web 应用，访客在安装插件<code>Lighthouse</code>后可离线缓存博客内容，用处不大</p><h3 id="字数统计"><a href="#字数统计" class="headerlink" title="字数统计"></a>字数统计</h3><p>安装</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">npm</span> <span class="string">install</span> <span class="string">hexo-wordcount</span> <span class="string">--save</span></span><br></pre></td></tr></table></figure><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># wordcount (字數統計)</span></span><br><span class="line"><span class="attr">wordcount:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">post_wordcount:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">min2read:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">total_wordcount:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://testingcf.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-doc-word-count.png"></p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://testingcf.jsdelivr.net/gh/jerryc127/CDN/img/hexo-theme-butterfly-docs-wordcount-totalcount.png"></p><h3 id="图片大图查看"><a href="#图片大图查看" class="headerlink" title="图片大图查看"></a>图片大图查看</h3><p>修改主题配置文件<code>_config.butterfly.yml</code>，二选一，默认第二个</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Lightbox (圖片大圖查看模式)</span></span><br><span class="line"><span class="comment"># --------------------------------------</span></span><br><span class="line"><span class="comment"># You can only choose one, or neither (只能選擇一個 或者 兩個都不選)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># medium-zoom</span></span><br><span class="line"><span class="comment"># https://github.com/francoischalifour/medium-zoom</span></span><br><span class="line"><span class="attr">medium_zoom:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># fancybox</span></span><br><span class="line"><span class="comment"># http://fancyapps.com/fancybox/3/</span></span><br><span class="line"><span class="attr">fancybox:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h3 id="Snackbar弹窗"><a href="#Snackbar弹窗" class="headerlink" title="Snackbar弹窗"></a>Snackbar弹窗</h3><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Snackbar (Toast Notification 彈窗)</span></span><br><span class="line"><span class="comment"># https://github.com/polonel/SnackBar</span></span><br><span class="line"><span class="comment"># position 彈窗位置</span></span><br><span class="line"><span class="comment"># 可選 top-left / top-center / top-right / bottom-left / bottom-center / bottom-right</span></span><br><span class="line"><span class="attr">snackbar:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">position:</span> <span class="string">top-right</span></span><br><span class="line">  <span class="attr">bg_light:</span> <span class="string">&#x27;#49b1f5&#x27;</span> <span class="comment"># The background color of Toast Notification in light mode</span></span><br><span class="line">  <span class="attr">bg_dark:</span> <span class="string">&#x27;#1f1f1f&#x27;</span> <span class="comment"># The background color of Toast Notification in dark mode</span></span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://testingcf.jsdelivr.net/gh/jerryc127/CDN/img/snackbar_true.gif"></p><h3 id="其它配置"><a href="#其它配置" class="headerlink" title="其它配置"></a>其它配置</h3><h4 id="CSS前缀"><a href="#CSS前缀" class="headerlink" title="CSS前缀"></a>CSS前缀</h4><p>弊端大，跳过</p><h4 id="Open-Graph"><a href="#Open-Graph" class="headerlink" title="Open Graph"></a>Open Graph</h4><p>在 head 里增加一些 meta 资料，例如缩略图、标题、时间等等。当你分享网页到一些平台时，平台会读取 Open Graph 的内容，展示缩略图，标题等等信息</p><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Open graph meta tags</span></span><br><span class="line"><span class="comment"># https://developers.facebook.com/docs/sharing/webmasters/</span></span><br><span class="line"><span class="attr">Open_Graph_meta:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">option:</span></span><br><span class="line">    <span class="comment"># twitter_card:</span></span><br><span class="line">    <span class="comment"># twitter_image:</span></span><br><span class="line">    <span class="comment"># twitter_id:</span></span><br><span class="line">    <span class="comment"># twitter_site:</span></span><br><span class="line">    <span class="comment"># google_plus:</span></span><br><span class="line">    <span class="comment"># fb_admins:</span></span><br><span class="line">    <span class="comment"># fb_app_id:</span></span><br></pre></td></tr></table></figure><h4 id="Instantpage"><a href="#Instantpage" class="headerlink" title="Instantpage"></a>Instantpage</h4><p>鼠标悬停到链接上超过 65 毫秒时，Instantpage 会对该链接进行预加载，可以提升访问速度，默认关闭</p><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># https://instant.page/</span></span><br><span class="line"><span class="comment"># prefetch (预加载)</span></span><br><span class="line"><span class="attr">instantpage:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h4 id="Pangu"><a href="#Pangu" class="headerlink" title="Pangu"></a>Pangu</h4><p>自动在网页中所有的中文字和半形的英文、数字、符号之间插入空白。</p><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># https://github.com/vinta/pangu.js</span></span><br><span class="line"><span class="comment"># Insert a space between Chinese character and English character (中英文之間添加空格)</span></span><br><span class="line"><span class="attr">pangu:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">site</span> <span class="comment"># site/post</span></span><br></pre></td></tr></table></figure><h3 id="Pjax"><a href="#Pjax" class="headerlink" title="Pjax"></a>Pjax</h3><p>当用户点击链接，通过ajax更新页面需要变化的部分，然后使用HTML5的pushState修改浏览器的URL地址，这样可以不用重复加载相同的资源（css&#x2F;js）， 从而提升网页的加载速度</p><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Pjax [Beta]</span></span><br><span class="line"><span class="comment"># It may contain bugs and unstable, give feedback when you find the bugs.</span></span><br><span class="line"><span class="comment"># https://github.com/MoOx/pjax</span></span><br><span class="line"><span class="attr">pjax:</span> </span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">exclude:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">/music/</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">/no-pjax/</span></span><br></pre></td></tr></table></figure><blockquote><p>对于一些第三方插件，有些并不支持 pjax 。可以把网页加入到 exclude 里，这个网页会被 pjax 排除在外。点击该网页会重新加载网站，使用pjax后，一些自己DIY的js可能会无效</p></blockquote><h3 id="Inject自定义CSS-JS"><a href="#Inject自定义CSS-JS" class="headerlink" title="Inject自定义CSS JS"></a>Inject自定义CSS JS</h3><p>修改主题配置文件<code>_config.butterfly.yml</code>，后面会具体应用实践</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">  	<span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;css/xxx.css&quot;&gt;</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">  	<span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;js/xxx.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><hr><blockquote><p>以下来自<a target="_blank" rel="noopener external nofollow noreferrer" href="https://butterfly.js.org/posts/4073eda/">Butterfly 安裝文檔(六) 進階教程 | Butterfly</a>，自定义代码配色、自定义侧边栏未记录</p></blockquote><h3 id="音乐"><a href="#音乐" class="headerlink" title="音乐"></a>音乐</h3><blockquote><p>文档：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://butterfly.js.org/posts/507c070f/">Butterfly添加全局吸底Aplayer教程 | Butterfly</a></p><p>插件：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/MoePlayer/hexo-tag-aplayer">hexo-tag-aplayer | Github</a></p></blockquote><p>在<code>md</code>文件内可以通过html的方式直接引入</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aplayer&quot;</span> <span class="attr">data-id</span>=<span class="string">&quot;000PeZCQ1i4XVs&quot;</span> <span class="attr">data-server</span>=<span class="string">&quot;tencent&quot;</span> <span class="attr">data-type</span>=<span class="string">&quot;artist&quot;</span> <span class="attr">data-mutex</span>=<span class="string">&quot;true&quot;</span> <span class="attr">data-preload</span>=<span class="string">&quot;auto&quot;</span> <span class="attr">data-theme</span>=<span class="string">&quot;#3F51B5&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>也可以通过插件写进文章中，主题会自动渲染为html格式，见仁见智，选自己喜欢的就行</p><p>安装</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">npm</span> <span class="string">install</span> <span class="string">--save</span> <span class="string">hexo-tag-aplayer</span></span><br></pre></td></tr></table></figure><p>修改配置文件 <code>_config.yml</code> ，新增配置，之后在需要使用音乐的文章<strong>Front-matter</strong>添加<code>aplayer: true</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">aplayer:</span></span><br><span class="line">  <span class="attr">meting:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">asset_inject:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p>更多示例参考插件文档</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">&lt;!--</span> <span class="string">简单示例</span> <span class="string">(id,</span> <span class="string">server,</span> <span class="string">type)</span>  <span class="string">--&gt;</span></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">meting</span> <span class="string">&quot;60198&quot;</span> <span class="string">&quot;netease&quot;</span> <span class="string">&quot;playlist&quot;</span> <span class="string">%</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="string">&lt;!--</span> <span class="string">进阶示例</span> <span class="string">--&gt;</span></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">meting</span> <span class="string">&quot;60198&quot;</span> <span class="string">&quot;netease&quot;</span> <span class="string">&quot;playlist&quot;</span> <span class="string">&quot;autoplay&quot;</span> <span class="string">&quot;mutex:false&quot;</span> <span class="string">&quot;listmaxheight:340px&quot;</span> <span class="string">&quot;preload:none&quot;</span> <span class="string">&quot;theme:#ad7a86&quot;</span><span class="string">%</span>&#125;</span><br></pre></td></tr></table></figure><h3 id="电影"><a href="#电影" class="headerlink" title="电影"></a>电影</h3><blockquote><p>文档：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/butterfly-plugins/tree/main/hexo-butterfly-douban">butterfly-plugins&#x2F;hexo-butterfly-douban | Github</a></p></blockquote><h3 id="说说"><a href="#说说" class="headerlink" title="说说"></a>说说</h3><blockquote><p>本博客目前使用<strong>Leancloud国内部署+Artitalk.js</strong></p></blockquote><ul><li><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.zhheo.com/p/557c9e72.html">Hexo的Butterfly魔改：即刻短文静态部署版 | 张洪Heo</a>：免部署，直接写在博客文件内</p></li><li><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://artitalk.js.org/doc.html#%F0%9F%91%80-%E5%89%8D%E8%A8%80">Artitalk.js | 使用文档</a> ，利用Leancloud数据库存储</p><ul><li>方法一，<a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.csdn.net/cungudafa/article/details/105938885">添加说说页面 cungudafa的博客</a>，利用HTML、JS部署</li><li>方法二，<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/butterfly-plugins/tree/main/hexo-butterfly-artitalk">butterfly | artitalk</a>，Butterfly主题作者插件化部署</li></ul></li><li><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://kkapi-doc.vercel.app/guide/">KK Api</a> ，依靠github与vercel托管，MongoDB数据库存储，小康开发的，具备前后端面板，UI十分Nice</p></li><li><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://immmmm.com/about/">木木木木木 Memos</a>，<a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.leonus.cn/2023/memeos.html">基于Memos实现说说和清单功能。 | Leonus</a>，需要服务器，林木木老师的方案，最近<a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.leonus.cn/">@Leonus</a>，<a target="_blank" rel="noopener external nofollow noreferrer" href="https://noionion.top/">@贰猹姐姐</a>也用上了</p></li><li><p><del><a target="_blank" rel="noopener external nofollow noreferrer" href="https://bb.js.org/quick-start.html#leancloud-%E5%88%9B%E5%BB%BA%E5%AD%98%E5%82%A8%E7%A9%BA%E9%97%B4">BBtalk</a>，Artitalk的改进版，支持微信发送</del>，作者黑石已不维护</p></li><li><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://jigu.im/">爱叽咕</a>，不需要安装，通过网页注册，之后的说说都在这个网页内</p></li><li><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.ifking.cn/p/113.html">时光机微信发送系统</a>，需要服务器，自己注册微信公众号、安装时光机、配置数据库…参考教程<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.vian.top/378.html">自建公众号发送时光机 - Vian</a></p></li></ul><p>无服务器首推Heo哥的静态，免部署好实现，之后KK Api可以动态发文。有服务器首推Memos。见仁见智选合适自己的就好</p><h3 id="全局吸底播放器"><a href="#全局吸底播放器" class="headerlink" title="全局吸底播放器"></a>全局吸底播放器</h3><blockquote><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://butterfly.js.org/posts/507c070f/#%E5%89%8D%E8%A8%80">Butterfly添加全局吸底Aplayer教程 | Butterfly</a></p></blockquote><p>修改主题配置文件<code>_config.butterfly.yml</code>，开启<code>aplayerInject</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Inject the css and script (aplayer/meting)</span></span><br><span class="line"><span class="attr">aplayerInject:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">per_page:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>插入 Aplayer html，例如网易云，找一个歌单点击分享，复制链接，把网址里的id换一下(其它平台data-server参考官方文档)</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">  <span class="comment"># - &lt;link rel=&quot;stylesheet&quot; href=&quot;/xxx.css&quot;&gt;</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line"><span class="comment">#   - &lt;script src=&quot;xxxx&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">   <span class="bullet">-</span> <span class="string">&lt;div</span> <span class="string">class=&quot;aplayer</span> <span class="literal">no</span><span class="string">-destroy&quot;</span> <span class="string">data-id=&quot;60198&quot;</span> <span class="string">data-server=&quot;netease&quot;</span> <span class="string">data-type=&quot;playlist&quot;</span> <span class="string">data-fixed=&quot;true&quot;</span> <span class="string">data-autoplay=&quot;false&quot;&gt;</span> <span class="string">&lt;/div&gt;</span></span><br></pre></td></tr></table></figure><h3 id="icon矢量图标"><a href="#icon矢量图标" class="headerlink" title="icon矢量图标"></a>icon矢量图标</h3><p>主题内置：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://fontawesome.com/icons?from=io">矢量图标 Icons | Font Awesome</a>，例如社交信息中的Github，直接填写图标名称即可</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fab fa-github: https://github.com/GC-ZF || Github</span><br></pre></td></tr></table></figure><p>引入第三方<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.iconfont.cn/">iconfont-阿里巴巴矢量图标库</a>，挑选图标加入自己账户中，修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">    # - &lt;link rel=&quot;stylesheet&quot; href=&quot;/xxx.css&quot;&gt;</span><br><span class="line"><span class="addition">+   - &lt;link rel=&quot;stylesheet&quot; href=&quot;//at.alicdn.com/t/c/font_xxxx.css&quot;&gt;  # 图标库的地址</span></span><br></pre></td></tr></table></figure><p>调整样式，新建<code>source/css/alico.css</code></p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 第三方图标样式 */</span></span><br><span class="line"><span class="selector-class">.iconfont</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>使用格式：<code>iconfont 图标名称</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">iconfont icon-github:</span> <span class="string">https://github.com/GC-ZF</span> <span class="string">||</span> <span class="string">Github</span></span><br></pre></td></tr></table></figure><blockquote><p>至此主题文档已全部介绍完成</p></blockquote><h3 id="其它配置-1"><a href="#其它配置-1" class="headerlink" title="其它配置"></a>其它配置</h3><p>网站图标，修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Favicon（网站图标）</span></span><br><span class="line"><span class="attr">favicon:</span> <span class="string">/img/favicon.png</span></span><br></pre></td></tr></table></figure><p>图片懒加载，图片没加载出来的时候，出现一个动图转转转的文章页样式，修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Lazyload (圖片懶加載)</span></span><br><span class="line"><span class="comment"># https://github.com/verlok/vanilla-lazyload</span></span><br><span class="line"><span class="attr">lazyload:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">site</span> <span class="comment"># site/post</span></span><br><span class="line">  <span class="attr">placeholder:</span> <span class="string">/Hexo_img/loading.gif</span>  <span class="comment"># 懒加载图片</span></span><br><span class="line">  <span class="attr">blur:</span> <span class="literal">true</span>	<span class="comment"># 高斯模糊</span></span><br></pre></td></tr></table></figure><h2 id="六、优化"><a href="#六、优化" class="headerlink" title="六、优化"></a>六、优化</h2><h3 id="博客备份-版本控制"><a href="#博客备份-版本控制" class="headerlink" title="博客备份(版本控制)"></a>博客备份(版本控制)</h3><blockquote><p>及时对博客备份是一个好习惯！不会的同学根据<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.bilibili.com/video/BV1fw41197NS?share_source=copy_web">卷二兔的视频</a>跟着走。通过git版本控制还可以做历史回滚操作，git功能十分强大，B站看一些视频就可以掌握啦！</p></blockquote><p>在Github新建一个<strong>私有仓库</strong>，例如地址为<code>https://github.com/GC-ZF/Blog-Backups.git</code></p><p>在博客根路径下执行，之后出现<code>.git</code>文件</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git init -b main</span><br></pre></td></tr></table></figure><p>新建<code>.gitignore</code>文件，创建忽略规则（这些文件是可以二次下载的所以忽略上传）</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">.DS_Store</span><br><span class="line">Thumbs.db</span><br><span class="line">db.json</span><br><span class="line">*.log</span><br><span class="line">node_modules/</span><br><span class="line">public/</span><br><span class="line">.deploy*/</span><br><span class="line">.vscode/</span><br><span class="line">/.idea/</span><br><span class="line">.deploy_git*/</span><br><span class="line">.idea</span><br><span class="line">themes/butterfly/.git</span><br><span class="line">themes/webstack/.git</span><br></pre></td></tr></table></figure><p>上传仓库</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&quot;我的第一次提交&quot;</span></span><br><span class="line">git remote add origin 仓库地址url</span><br><span class="line">git push --set-upstream origin main</span><br></pre></td></tr></table></figure><p>当博客更改后需要备份时</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&quot;我的备份&quot;</span></span><br><span class="line">git push</span><br></pre></td></tr></table></figure><p>当需要重新获取博客文件时，<code>npm install</code>会检查<code>package.json</code>里记录了那些依赖，所以就不用一个一个安了</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">git</span> <span class="string">clone</span> <span class="string">仓库地址</span></span><br><span class="line"><span class="comment"># 重新下载主题文件</span></span><br><span class="line"><span class="string">git</span> <span class="string">clone</span> <span class="string">-b</span> <span class="string">master</span> <span class="string">https://github.com/jerryc127/hexo-theme-butterfly.git</span> <span class="string">themes/butterfly</span></span><br><span class="line"><span class="string">npm</span> <span class="string">install</span> </span><br><span class="line"><span class="string">hexo</span> <span class="string">g</span></span><br><span class="line"><span class="string">hexo</span> <span class="string">s</span></span><br></pre></td></tr></table></figure><h3 id="自动化部署"><a href="#自动化部署" class="headerlink" title="自动化部署"></a>自动化部署</h3><blockquote><p>此节较长，参考：<a href="https://zhsher.cn/posts/8779/">Hexo博客利用Github Action自动化部署 | 张时贰</a></p></blockquote><p>前面做了版本控制，一个仓库用来存放源文件，一个仓库<code>github.io</code>用来存放静态文件，而每次都需要繁琐的八条命令！</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo algolia</span><br><span class="line">gulp</span><br><span class="line">hexo d</span><br><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&quot;提交博客&quot;</span></span><br><span class="line">git push</span><br></pre></td></tr></table></figure><p>渲染静态文件还需要等候，有没有什么办法可以仅通过三条git命令达到部署需求？Github Action！通过push私有仓库触发Action自动构建静态文件并推送给<code>github.io</code>仓库、服务器、vercel等平台</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.zhsher.cn/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA35.png" alt="Hexo博客搭建35"></p><h3 id="简化命令"><a href="#简化命令" class="headerlink" title="简化命令"></a>简化命令</h3><blockquote><p>每次输入<code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</code>十分费事，可以简化命令</p><p>原文地址：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.zhheo.com/p/ae839a7c.html">通过alias自定义终端命令实现Hexo博客的高效使用，简化你的终端命令 | 张洪Heo</a></p><p>Mac设备可以参考Heo哥，我这里提供win下方案</p></blockquote><p>修改<code>[BlogRoot]/package.json</code>，追加一行自定义命令</p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">  &quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;build&quot;: &quot;hexo generate&quot;,</span><br><span class="line">    &quot;clean&quot;: &quot;hexo clean&quot;,</span><br><span class="line">    &quot;deploy&quot;: &quot;hexo deploy&quot;,</span><br><span class="line">    &quot;server&quot;: &quot;hexo server&quot;,</span><br><span class="line"><span class="addition">+  &quot;localhost&quot;: &quot;hexo clean &amp; hexo g &amp; hexo s&quot;</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>终端输入<code>npm run localhost</code>，测试跑通即可。左图为webstorm双击运行，右图为vscode选择npm运行</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.zhsher.cn/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA36.png" alt="Hexo博客搭建36"></p><p>如果两个软件都没安装且现有编译器没有运行功能，新建<code>[BlogRoot]/run.bat</code>，双击运行</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</span><br></pre></td></tr></table></figure><h3 id="gulp压缩"><a href="#gulp压缩" class="headerlink" title="gulp压缩"></a>gulp压缩</h3><blockquote><p>原文地址：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://akilar.top/posts/49b73b87/">使用gulp压缩博客静态资源 | Akilarの糖果屋</a></p></blockquote><p>Hexo博客本身由静态文件组成，通过gulp，可以压缩html、css、js文件从而达到快速加载的效果</p><p>安装gulp插件</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install --global gulp-cli <span class="comment">#全局安装gulp指令集</span></span><br><span class="line">npm install gulp --save <span class="comment">#安装gulp插件</span></span><br></pre></td></tr></table></figure><p>安装压缩html插件</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install gulp-htmlclean --save-dev</span><br><span class="line">npm install gulp-html-minifier-terser --save-dev <span class="comment"># 用gulp-html-minifier-terser可以压缩HTML中的ES6语法</span></span><br></pre></td></tr></table></figure><p>安装压缩CSS插件</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install gulp-clean-css --save-dev</span><br></pre></td></tr></table></figure><p>安装压缩js插件</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install gulp-terser --save-dev</span><br></pre></td></tr></table></figure><p>安装压缩字体插件（仅支持压缩ttf格式的字体包）</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install gulp-fontmin --save-dev</span><br></pre></td></tr></table></figure><p>为Gulp创建<code>gulpfile.js</code>任务脚本。新建<code>[Blogroot]/gulpfile.js</code></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//用到的各个插件</span></span><br><span class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">&#x27;gulp&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> cleanCSS = <span class="built_in">require</span>(<span class="string">&#x27;gulp-clean-css&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> htmlmin = <span class="built_in">require</span>(<span class="string">&#x27;gulp-html-minifier-terser&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> htmlclean = <span class="built_in">require</span>(<span class="string">&#x27;gulp-htmlclean&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> fontmin = <span class="built_in">require</span>(<span class="string">&#x27;gulp-fontmin&#x27;</span>);</span><br><span class="line"><span class="comment">// gulp-tester</span></span><br><span class="line"><span class="keyword">var</span> terser = <span class="built_in">require</span>(<span class="string">&#x27;gulp-terser&#x27;</span>);</span><br><span class="line"><span class="comment">// 压缩js</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&#x27;compress&#x27;</span>, <span class="title function_">async</span>() =&gt;&#123;</span><br><span class="line">  gulp.<span class="title function_">src</span>([<span class="string">&#x27;./public/**/*.js&#x27;</span>, <span class="string">&#x27;!./public/**/*.min.js&#x27;</span>])</span><br><span class="line">    .<span class="title function_">pipe</span>(<span class="title function_">terser</span>())</span><br><span class="line">    .<span class="title function_">pipe</span>(gulp.<span class="title function_">dest</span>(<span class="string">&#x27;./public&#x27;</span>))</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//压缩css</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&#x27;minify-css&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.<span class="title function_">src</span>([<span class="string">&#x27;./public/**/*.css&#x27;</span>])</span><br><span class="line">        .<span class="title function_">pipe</span>(<span class="title function_">cleanCSS</span>(&#123;</span><br><span class="line">            <span class="attr">compatibility</span>: <span class="string">&#x27;ie11&#x27;</span></span><br><span class="line">        &#125;))</span><br><span class="line">        .<span class="title function_">pipe</span>(gulp.<span class="title function_">dest</span>(<span class="string">&#x27;./public&#x27;</span>));</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//压缩html</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&#x27;minify-html&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.<span class="title function_">src</span>(<span class="string">&#x27;./public/**/*.html&#x27;</span>)</span><br><span class="line">        .<span class="title function_">pipe</span>(<span class="title function_">htmlclean</span>())</span><br><span class="line">        .<span class="title function_">pipe</span>(<span class="title function_">htmlmin</span>(&#123;</span><br><span class="line">            <span class="attr">removeComments</span>: <span class="literal">true</span>, <span class="comment">//清除html注释</span></span><br><span class="line">            <span class="attr">collapseWhitespace</span>: <span class="literal">true</span>, <span class="comment">//压缩html</span></span><br><span class="line">            <span class="attr">collapseBooleanAttributes</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="comment">//省略布尔属性的值，例如：&lt;input checked=&quot;true&quot;/&gt; ==&gt; &lt;input /&gt;</span></span><br><span class="line">            <span class="attr">removeEmptyAttributes</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="comment">//删除所有空格作属性值，例如：&lt;input id=&quot;&quot; /&gt; ==&gt; &lt;input /&gt;</span></span><br><span class="line">            <span class="attr">removeScriptTypeAttributes</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="comment">//删除&lt;script&gt;的type=&quot;text/javascript&quot;</span></span><br><span class="line">            <span class="attr">removeStyleLinkTypeAttributes</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="comment">//删除&lt;style&gt;和&lt;link&gt;的 type=&quot;text/css&quot;</span></span><br><span class="line">            <span class="attr">minifyJS</span>: <span class="literal">true</span>, <span class="comment">//压缩页面 JS</span></span><br><span class="line">            <span class="attr">minifyCSS</span>: <span class="literal">true</span>, <span class="comment">//压缩页面 CSS</span></span><br><span class="line">            <span class="attr">minifyURLs</span>: <span class="literal">true</span>  <span class="comment">//压缩页面URL</span></span><br><span class="line">        &#125;))</span><br><span class="line">        .<span class="title function_">pipe</span>(gulp.<span class="title function_">dest</span>(<span class="string">&#x27;./public&#x27;</span>))</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//压缩字体</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">minifyFont</span>(<span class="params">text, cb</span>) &#123;</span><br><span class="line">  gulp</span><br><span class="line">    .<span class="title function_">src</span>(<span class="string">&#x27;./public/fonts/*.ttf&#x27;</span>) <span class="comment">//原字体所在目录</span></span><br><span class="line">    .<span class="title function_">pipe</span>(<span class="title function_">fontmin</span>(&#123;</span><br><span class="line">      <span class="attr">text</span>: text</span><br><span class="line">    &#125;))</span><br><span class="line">    .<span class="title function_">pipe</span>(gulp.<span class="title function_">dest</span>(<span class="string">&#x27;./public/fontsdest/&#x27;</span>)) <span class="comment">//压缩后的输出目录</span></span><br><span class="line">    .<span class="title function_">on</span>(<span class="string">&#x27;end&#x27;</span>, cb);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&#x27;mini-font&#x27;</span>, <span class="function">(<span class="params">cb</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">var</span> buffers = [];</span><br><span class="line">  gulp</span><br><span class="line">    .<span class="title function_">src</span>([<span class="string">&#x27;./public/**/*.html&#x27;</span>]) <span class="comment">//HTML文件所在目录请根据自身情况修改</span></span><br><span class="line">    .<span class="title function_">on</span>(<span class="string">&#x27;data&#x27;</span>, <span class="keyword">function</span>(<span class="params">file</span>) &#123;</span><br><span class="line">      buffers.<span class="title function_">push</span>(file.<span class="property">contents</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">on</span>(<span class="string">&#x27;end&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> text = <span class="title class_">Buffer</span>.<span class="title function_">concat</span>(buffers).<span class="title function_">toString</span>(<span class="string">&#x27;utf-8&#x27;</span>);</span><br><span class="line">      <span class="title function_">minifyFont</span>(text, cb);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 运行gulp命令时依次执行以下任务</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&#x27;default&#x27;</span>, gulp.<span class="title function_">parallel</span>(</span><br><span class="line">  <span class="string">&#x27;compress&#x27;</span>, <span class="string">&#x27;minify-css&#x27;</span>, <span class="string">&#x27;minify-html&#x27;</span>,<span class="string">&#x27;mini-font&#x27;</span></span><br><span class="line">))</span><br></pre></td></tr></table></figure><p>在每次运行完<code>hexo generate</code>生成静态页面后，运行<code>gulp</code>对其进行压缩</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo generate</span><br><span class="line">gulp</span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure><h3 id="图片压缩"><a href="#图片压缩" class="headerlink" title="图片压缩"></a>图片压缩</h3><p>图片压缩一方面可以加快加载速度，一方面减少出站流量（买的CDN也是钱哇！）。小张只对后台监控流量高的图片进行了压缩，大概逻辑就是能替换就替换，替换不了就压缩</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.zhsher.cn/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA37.png" alt="Hexo博客搭建37"></p><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/meowtec/Imagine">meowtec&#x2F;Imagine</a>：现在在用的软件，支持win、mac，批量转格式压缩一体，UI简洁，最重要的是压缩后不仅体积小且画质清晰</p><p><a target="_blank" rel="noopener external nofollow noreferrer" href="http://www.pcfreetime.com/formatfactory/CN/index.html">格式工厂</a>：转格式压缩一体，但多了很多图片以外的功能，所以UI复杂一些不太喜欢</p><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://tinypng.com/">TinyPNG</a>：在线压缩网站，质量高但一次最多20张</p><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://saerasoft.com/caesium/">Caesium</a>：批量压缩软件，无限制，人物图有些失真</p><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/marketplace/imgbot">Imgbot</a>：Github插件，提交自动压缩发起pr</p><h3 id="搜索"><a href="#搜索" class="headerlink" title="搜索"></a>搜索</h3><blockquote><p>原文地址：</p><ul><li><p>插件作者：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.zoutl.cn/479">Hexo 的 Butterfly 主题使用 Algolia 搜索 | LeDao’s Blog</a></p></li><li><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.panghai.top/posts/447d/#%E6%90%9C%E7%B4%A2%E7%B3%BB%E7%BB%9F">Butterfly 博客主题搭建系列：基础教程 | 心流</a></p></li><li><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.leonus.cn/2022/algolia.html">algolia的简单美化和优化记录 | Leonus</a></p></li></ul></blockquote><p>前文使用了本地搜索插件，Algolia是一款更快速的搜索工具，每月只有 10000 次调用额度。两种搜索一秒内出结果但本地搜索需要预先加载文件当刚进网站就点搜索时，Algolia更快</p><p>卸载本地搜索插件</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm uninstall hexo-generator-search</span><br></pre></td></tr></table></figure><p>修改主题配置文件<code>_config.butterfly.yml</code>，关闭本地搜索</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Local search</span></span><br><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">preload:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">CDN:</span></span><br></pre></td></tr></table></figure><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.algolia.com/users">注册 Algolia</a>并创建一个应用</p><p>安装</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-algoliasearch --save</span><br></pre></td></tr></table></figure><p>修改配置文件 <code>_config.yml</code>，在最下面添加appId、apiKey、adminApiKey、indexName 根据自己的情况填写</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">plugins:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">hexo-algoliasearch</span></span><br><span class="line"></span><br><span class="line"><span class="attr">algolia:</span></span><br><span class="line">  <span class="attr">appId:</span> <span class="string">&quot;RNPIZK8E&quot;</span></span><br><span class="line">  <span class="attr">apiKey:</span> <span class="string">&quot;8ee7fe3d8cad0c9a545a96e8bc26&quot;</span></span><br><span class="line">  <span class="attr">adminApiKey:</span> <span class="string">&quot;117700ad23daaa7f4ffe19a48da8&quot;</span></span><br><span class="line">  <span class="attr">chunkSize:</span> <span class="number">5000</span></span><br><span class="line">  <span class="attr">indexName:</span> <span class="string">&quot;Hexo_Blog&quot;</span></span><br><span class="line">  <span class="attr">fields:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">content:strip:truncate,0,200</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">tags</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">permalink</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">excerpt:strip</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">title</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">categories</span></span><br></pre></td></tr></table></figure><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Algolia search</span></span><br><span class="line"><span class="attr">algolia_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">hits:</span></span><br><span class="line">    <span class="attr">per_page:</span> <span class="number">6</span></span><br></pre></td></tr></table></figure><p>修改<code>/themes/butterfly/source/js/search/algolia.js</code>，设置按回车搜索以及提示词</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> searchBox = instantsearch.<span class="property">widgets</span>.<span class="title function_">searchBox</span>(&#123;</span><br><span class="line">  <span class="attr">container</span>: <span class="string">&#x27;#algolia-search-input&#x27;</span>,</span><br><span class="line">  <span class="attr">showReset</span>: <span class="literal">false</span>,</span><br><span class="line">  <span class="attr">showSubmit</span>: <span class="literal">true</span>, <span class="comment">// 设为true 可以通过按钮搜索</span></span><br><span class="line">  <span class="attr">searchAsYouType</span>: <span class="literal">false</span>, <span class="comment">// 新增 可以实现回车或点击按钮搜索，不会每次输入都搜索</span></span><br><span class="line">  <span class="comment">// placeholder: GLOBAL_CONFIG.algolia.languages.input_placeholder,</span></span><br><span class="line">  <span class="attr">placeholder</span>: <span class="string">&quot;输入关键词后，按下回车键即可搜索文章...&quot;</span>, <span class="comment">//提示词</span></span><br><span class="line">  <span class="attr">showLoadingIndicator</span>: <span class="literal">true</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>提交搜索<code>hexo clean &amp; hexo g &amp; hexo algolia &amp; hexo d</code></p><h3 id="博客升级"><a href="#博客升级" class="headerlink" title="博客升级"></a>博客升级</h3><blockquote><p>升级前做好备份！！！</p></blockquote><p>对npm升级</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">npm</span> <span class="string">-v</span>		<span class="comment"># 检查npm版本</span></span><br><span class="line"><span class="string">npm</span> <span class="string">install</span> <span class="string">npm@latest</span> <span class="string">-g</span>	<span class="comment"># 升级版本</span></span><br><span class="line"><span class="string">npm</span> <span class="string">cache</span> <span class="string">clean</span> <span class="string">-f</span>			<span class="comment"># 更新新版本后如果安装其它包失败，清除npm缓存</span></span><br></pre></td></tr></table></figure><p>对hexo及插件升级，在<code>[BlogRoot]</code>下操作</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">npm</span> <span class="string">install</span> <span class="string">-g</span> <span class="string">npm-check-updates</span>	<span class="comment"># 安装检查更新模块</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 方法1 ncu -u更新package.json文件中保存的版本号,然后执行npm install</span></span><br><span class="line"><span class="string">ncu</span> <span class="string">-u</span></span><br><span class="line"><span class="string">npm</span> <span class="string">install</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 方法2</span></span><br><span class="line"><span class="string">ncu</span>	<span class="comment"># 查看可更新的模块 npm-check-updates命令的缩写</span></span><br><span class="line"><span class="string">npm</span> <span class="string">install</span> <span class="string">单个包名</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 方法3 不安装npm-check-updates，直接无脑更新全部</span></span><br><span class="line"><span class="string">npm</span> <span class="string">install</span> <span class="string">-g</span> <span class="string">npm-upgrade</span>  <span class="comment"># 安装npm-upgrade包</span></span><br><span class="line"><span class="string">npm</span> <span class="string">update</span>					<span class="comment"># 一键更新所有</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 检查更新命令 包名 -v或 包名 --version</span></span><br><span class="line"><span class="string">hexo</span> <span class="string">-v</span></span><br></pre></td></tr></table></figure><p>对Butterfly升级，在<code>[BlogRoot]/theme/butterfly</code>下操作</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git pull	<span class="comment"># 合并新版本</span></span><br></pre></td></tr></table></figure><p>根据<a target="_blank" rel="noopener external nofollow noreferrer" href="https://butterfly.js.org/posts/198a4240/">Butterfly 更新日志</a>，对<code>[BlogRoot]/_config.butterfly.yml</code>增删新版的配置</p><h3 id="隐藏文章"><a href="#隐藏文章" class="headerlink" title="隐藏文章"></a>隐藏文章</h3><blockquote><p>原文地址：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.ccknbc.cc/posts/how-to-hide-hexo-articles-gracefully/">如何优雅隐藏 Hexo 文章 | CC的部落格</a></p></blockquote><p>写好但不发布，方法蛮多的，<code>Front-Matter</code>我认为更方便一些</p><p>在文章<code>Front-Matter</code>部分配置<code>published</code>参数</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">published:</span> <span class="literal">false</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><h3 id="跳过渲染"><a href="#跳过渲染" class="headerlink" title="跳过渲染"></a>跳过渲染</h3><blockquote><p>原文地址：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://xiabor.com/714f.html#%E5%A6%82%E4%BD%95%E8%B7%B3%E8%BF%87hexo%E7%9A%84%E6%B8%B2%E6%9F%93">跳过渲染参考 MuJin’s Blog</a></p></blockquote><p>有时我们需要放一些自己写好的html文件，但会被hexo渲染到主题中，这就需要跳过渲染</p><p>方法一：在文件前加<code>Front matter</code>，设置layout属性</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">layout:</span> <span class="literal">false</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><p>方法二：修改配置文件 <code>_config.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 指定目录跳过hexo渲染</span></span><br><span class="line"><span class="attr">skip_render:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&#x27;文件名/*&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="RSS订阅"><a href="#RSS订阅" class="headerlink" title="RSS订阅"></a>RSS订阅</h3><blockquote><p>RSS不知道是什么，其实就是博客站点中一个小WIFI的按钮，打个比方，bili和知乎都支持RSS订阅，可以将RSS添加到订阅软件中，然后在软件中浏览指定的博主，不被大数据所轰炸，博客同理，在软件中浏览其他人的博客，这样就不需要来回去点网站访问了。</p><p>文档：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/hexojs/hexo-generator-feed">hexo-generator-feed</a></p></blockquote><p>安装插件</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">npm</span> <span class="string">install</span> <span class="string">hexo-generator-feed</span></span><br></pre></td></tr></table></figure><p>修改配置文件 <code>_config.yml</code>，在最下面添加</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment">#RSS订阅 其它配置参考官网</span></span><br><span class="line"><span class="attr">feed:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">rss2</span>	<span class="comment"># 类型有atom和rss2，如果乱码就换另一个</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">feed.xml</span>	<span class="comment"># 为路径取个名字</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">10</span>			<span class="comment"># 订阅前10条</span></span><br></pre></td></tr></table></figure><p>hexo三连后，生成<code>public/feed.xml</code>，通过<code>http://localhost:4000/feed.xml</code>(<code>域名/feed.xml</code>)访问</p><p>关于RSS软件，近年下架了不少，推荐安卓 <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.ihewro.com/archives/948/">Focus</a>，Apple Store <strong>reader</strong></p><h3 id="域名解析"><a href="#域名解析" class="headerlink" title="域名解析"></a>域名解析</h3><p>域名厂商很多，就不详细写绑定流程了，参考以下三篇文章，想要用二级域名参考第三篇，<strong>注意上传一个写有域名地址且文件命名CNAME的文件到Github仓库内，域名才会生效</strong></p><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.csdn.net/linshuhe1/article/details/73013730">Hexo个人免费博客(五) 使用自己的域名_</a></p><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.csdn.net/qq_32337109/article/details/78759586">hexo 绑定自己的域名_</a></p><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.csdn.net/qq_46311811/article/details/122227773">如何添加二级域名 Hydrion-Qlz的博客</a></p><h3 id="SEO收录及优化"><a href="#SEO收录及优化" class="headerlink" title="SEO收录及优化"></a>SEO收录及优化</h3><blockquote><p>SEO收录简单来说就是可以让别人通过搜索一些关键字，然后搜到我们的博客内容</p><p>原文地址：</p><ul><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.bilibili.com/video/BV1W34y1o7yK/?spm_id_from=333.788">使用Hexo搭建个人博客手摸手教学(17)|博客SEO优化引擎收录_哔哩哔哩</a></li><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.juanertu.com/archives/9013c8d8.html">Hexo 框架 (六)：SEO 优化及站点被搜索引擎收录设置 | 你真是一个美好的人类</a></li><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://sunhwee.com/posts/6e8839eb.html#toc-heading-45">Hexo+Github博客搭建完全教程 | 洪卫の博客</a></li></ul><p>以下是我自己总结的，其实直接看B站教学就行，图文并茂没视频效果好</p><p>小tips：如果绑定了域名，不要使用<code>xxx.github.io</code>这个地址，绑定站点配置时会失败(301错误)，如果使用的免费域名例如<code>github.io</code>百度基本不会收录</p></blockquote><h4 id="安装站点地图"><a href="#安装站点地图" class="headerlink" title="安装站点地图"></a>安装站点地图</h4><p>站点地图即 sitemap， 是一个<strong>页面</strong>，通过插件会帮助我们将站内所有的网址记录在这个页面内，告诉搜索引擎网站上有哪些可供抓取的网页，以便搜索引擎可以更加智能地抓取网站</p><p>安装百度和 Google 的站点地图生成插件</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">npm</span> <span class="string">install</span> <span class="string">hexo-generator-baidu-sitemap</span> <span class="string">--save</span></span><br><span class="line"><span class="string">npm</span> <span class="string">install</span> <span class="string">hexo-generator-sitemap</span> <span class="string">--save</span></span><br></pre></td></tr></table></figure><p>修改配置文件 <code>_config.yml</code>，在下面添加</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 站点地图</span></span><br><span class="line"><span class="attr">sitemap:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">sitemap.xml</span></span><br><span class="line"><span class="attr">baidusitemap:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">baidusitemap.xml</span></span><br></pre></td></tr></table></figure><p>修改配置文件 <code>_config.yml</code>，添加域名地址</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># URL</span></span><br><span class="line"><span class="comment">## Set your site url here. For example, if you use GitHub Page, set url as &#x27;https://username.github.io/project&#x27;</span></span><br><span class="line"><span class="attr">url:</span> <span class="string">https://xxxx.xxx</span></span><br></pre></td></tr></table></figure><p><code>hexo clean &amp; hexo g</code>生成<code>public/sitemap.xml</code>，<code>public/baidusitemap.xml</code>。通过<code>https://你的域名/sitemap.xml</code>，<code>https://你的域名/baidusitemap.xml</code>检查，如果出现代码就说明插件安装成功</p><p>robots.txt 是一种存放于网站根目录下的 ASCII 编码的文本文件，它的作用是告诉搜索引擎此网站中哪些内容是可以被爬取的，哪些是禁止爬取的。robots.txt 放在博客目录下的 source 文件夹中，博客生成后在站点目录 &#x2F;public&#x2F; 下,<a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.csdn.net/kalision/article/details/7918528?ops_request_misc=%7B%22request_id%22:%22165253123816782388064955%22,%22scm%22:%2220140713.130102334.pc_all.%22%7D&request_id=165253123816782388064955&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-2-7918528-null-null.142%5Ev9%5Epc_search_result_cache,157%5Ev4%5Econtrol&utm_term=robots.txt+&spm=1018.2226.3001.4187">使用规则</a>，我博客没啥东西，小蜘蛛爬就爬去吧，所以我没设置这项，感兴趣可以设置一下</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># hexo robots.txt</span></span><br><span class="line"><span class="attr">User-agent:</span> <span class="string">*</span>		<span class="comment">#引擎名字，*是所有，具体服务商名字看规则说明</span></span><br><span class="line"><span class="attr">Allow:</span> <span class="string">/</span>			<span class="comment">#允许路径</span></span><br><span class="line"><span class="attr">Disallow:</span> 			<span class="comment">#禁止路径</span></span><br><span class="line"><span class="attr">Sitemap:</span> <span class="string">https://域名/sitemap.xml</span></span><br><span class="line"><span class="attr">Sitemap:</span> <span class="string">https://域名/baidusitemap.xml</span></span><br></pre></td></tr></table></figure><h4 id="百度收录"><a href="#百度收录" class="headerlink" title="百度收录"></a>百度收录</h4><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://ziyuan.baidu.com/linksubmit/index">百度站点</a></p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.zhsher.cn/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA13.png" alt="Hexo博客搭建13"></p><p>选择标签验证更方便一点点，修改主题配置文件<code>_config.butterfly.yml</code>，推送到服务器然后再点击验证</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">site_verification:</span></span><br><span class="line"> <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">baidu-site-verification</span></span><br><span class="line">   <span class="attr">content:</span> <span class="string">xxxxxxx</span></span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.zhsher.cn/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA14.png" alt="Hexo博客搭建14"></p><h5 id="主动推送（已弃用）"><a href="#主动推送（已弃用）" class="headerlink" title="主动推送（已弃用）"></a>主动推送（已弃用）</h5><p>主动推送最快最方便，通过插件每次会自动提交，但是百度虽然有插件但是收录效果没谷歌bing快…</p><p>安装</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">npm</span> <span class="string">install</span> <span class="string">hexo-baidu-url-submit</span> <span class="string">--save</span></span><br></pre></td></tr></table></figure><p>修改配置文件 <code>_config.yml</code>，在最下面添加</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 主动推送百度，被百度收录</span></span><br><span class="line"><span class="attr">baidu_url_submit:</span></span><br><span class="line">  <span class="attr">count:</span> <span class="number">10</span> <span class="comment"># 提交最新的10个链接</span></span><br><span class="line">  <span class="attr">host:</span> <span class="string">https://zhsher.cn</span> <span class="comment"># 百度站长平台中注册的域名</span></span><br><span class="line">  <span class="attr">token:</span> <span class="comment"># 秘钥，百度站长平台 &gt; 推送接口 &gt; 接口调用地址中token字段</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">baidu_urls.txt</span> <span class="comment"># 文本文档的地址， 新链接会保存在此文本文档里，不用改</span></span><br></pre></td></tr></table></figure><p>修改配置文件 <code>_config.yml</code>，新增一个type</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/one-command-deployment</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">    <span class="attr">repository:</span> <span class="string">xxxxx</span></span><br><span class="line">    <span class="attr">branch:</span> <span class="string">main</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">type:</span> <span class="string">baidu_url_submitter</span>	<span class="comment">#&lt;--加这里，注意缩进</span></span><br></pre></td></tr></table></figure><p>之后每次<code>hexo g</code>会把最新的链接放在<code>public/baidu_urls.txt</code>，<code>hexo d</code>会自动读取文件内容并提交给百度，返回一段值<code>remain</code>当日剩余可提交，<code>success</code>成功提交，如果有<code>error</code>说明前面配的有问题</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.zhsher.cn/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA15.png" alt="Hexo博客搭建15"></p><h5 id="sitemap"><a href="#sitemap" class="headerlink" title="sitemap"></a>sitemap</h5><p>API提交旁边的sitemap即手动推送站点地图，其实主动推送插件就够用了(再旁边的手动提交就是一条一条的提交，sitemap更方便一些)</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">https://你的域名/sitemap.xml</span><br><span class="line">https://你的域名/baidusitemap.xml</span><br></pre></td></tr></table></figure><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.zhsher.cn/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA16.png" alt="Hexo博客搭建16"></p><h4 id="谷歌收录"><a href="#谷歌收录" class="headerlink" title="谷歌收录"></a>谷歌收录</h4><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://search.google.com/search-console/welcome">Google Search Console</a></p><p>两种验证方式，第二个方便一些</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.zhsher.cn/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA11.png" alt="Hexo博客搭建11"></p><p>修改主题配置文件<code>_config.butterfly.yml</code> ，<code>hexo c &amp; g &amp; d</code>之后点击验证，之后等待收录就可以了</p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">site_verification:</span><br><span class="line"> - name: baidu-site-verification</span><br><span class="line">   content: xxxxxxx</span><br><span class="line"><span class="addition">+- name: google-site-verification</span></span><br><span class="line"><span class="addition">+  content: xxxxxxx</span></span><br></pre></td></tr></table></figure><p>虽然没有百度的主动推送方式但同样也有sitemap，提交这个<code>https://你的域名/sitemap.xml</code>，bing同理</p><h4 id="Bing收录"><a href="#Bing收录" class="headerlink" title="Bing收录"></a>Bing收录</h4><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.bing.com/webmasters/sitemaps">Bing</a></p><p>做完谷歌收录，bing这里直接导入谷歌即可</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.zhsher.cn/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA12.png" alt="Hexo博客搭建12"></p><h4 id="URL持久化"><a href="#URL持久化" class="headerlink" title="URL持久化"></a>URL持久化</h4><blockquote><p>原文地址：</p><ul><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://yangchaoyi.vip/posts/520520/#%E5%9C%B0%E5%9D%80%E6%A0%8F%E6%B7%BB%E5%8A%A0-abbrlink">地址栏添加-abbrlink| 超逸の博客</a></li><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.juanertu.com/archives/9013c8d8.html">你真是一个美好的人类</a></li></ul></blockquote><p>hexo 默认生成的文章地址路径是 <code>网站名称／年／月／日／文章名称</code>，这种链接对搜索爬虫是很不友好的，第一它的 url 结构超过了三层，太深了，abbrlink会优化为一段数字</p><p>安装</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-abbrlink --save</span><br></pre></td></tr></table></figure><p>修改配置文件 <code>_config.yml</code>，二选一，重新<code>hexo c &amp; g &amp; d</code>就看到效果了</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 第一种默认算法与进制</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">posts/:abbrlink/</span></span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 第二种加了算法和进制要求 </span></span><br><span class="line"><span class="comment"># permalink: :title/</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">archives/:abbrlink.html</span></span><br><span class="line"><span class="attr">abbrlink:</span></span><br><span class="line">  <span class="attr">alg:</span> <span class="string">crc32</span>  <span class="comment"># 算法：crc16(default) and crc32</span></span><br><span class="line">  <span class="attr">rep:</span> <span class="string">hex</span>    <span class="comment"># 进制：dec(default) and hex</span></span><br></pre></td></tr></table></figure><h4 id="添加nofollow标签"><a href="#添加nofollow标签" class="headerlink" title="添加nofollow标签"></a>添加nofollow标签</h4><blockquote><p>原文地址：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.juanertu.com/archives/9013c8d8.html">Hexo 框架 (六)：SEO 优化及站点被搜索引擎收录设置</a></p></blockquote><p>给非友情链接的出站链接添加<strong>「nofollow」</strong>标签，nofollow 标签是由谷歌领头创新的一个「反垃圾链接」的标签，并被百度、yahoo 等各大搜索引擎广泛支持，引用 nofollow 标签的目的是：用于指示搜索引擎不要追踪（即抓取）网页上的带有 nofollow 属性的任何出站链接，以减少垃圾链接的分散网站权重</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">npm</span> <span class="string">install</span> <span class="string">hexo-filter-nofollow</span> <span class="string">--save</span></span><br></pre></td></tr></table></figure><p>修改配置文件 <code>_config.yml</code>，将 nofollow 设置为 true：</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">nofollow:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">site</span></span><br><span class="line">  <span class="attr">exclude:</span> <span class="string">&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><h4 id="三家主动推送"><a href="#三家主动推送" class="headerlink" title="三家主动推送"></a>三家主动推送</h4><blockquote><p>2023.01.06更新：因为谷歌、Bing一两天就会收录，而百度短则一周长则三四个月（一般是长）所以前面对百度加装了主动推送插件，如果你熟悉对Github的使用（不会也问题不大，作者乐特教程很详细），推荐<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/Lete114/Hexo-SEO-AutoPush">Hexo-SEO-AutoPush: 每天自动提交url到百度和谷歌必应</a>插件，使用Github Action每日定时推送，省去手动<code>hexo d</code>才推送的操作</p></blockquote><p>安装</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-seo-autopush --save</span><br></pre></td></tr></table></figure><p>修改配置文件 <code>_config.yml</code>，在最下面添加</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># enable: 开启/关闭 推送</span></span><br><span class="line"><span class="comment"># cron: 执行时间周期</span></span><br><span class="line"><span class="comment"># count: 每次提交最新的10篇文章，输入0或者不填写则默认为所有文章(建议是最新的10篇文章)</span></span><br><span class="line"><span class="comment"># date: 更新时间(updated)|创建日期(created)</span></span><br><span class="line"><span class="comment"># https://github.com/Lete114/hexo-seo-autopush.git</span></span><br><span class="line"><span class="attr">hexo_seo_autopush:</span></span><br><span class="line">  <span class="attr">cron:</span> <span class="number">0</span> <span class="number">4</span> <span class="string">*</span> <span class="string">*</span> <span class="string">*</span></span><br><span class="line">  <span class="attr">baidu:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">date:</span> <span class="string">created</span></span><br><span class="line">    <span class="attr">count:</span> <span class="number">10</span></span><br><span class="line">  <span class="attr">bing:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">date:</span> <span class="string">created</span></span><br><span class="line">    <span class="attr">count:</span> <span class="number">10</span></span><br><span class="line">  <span class="attr">google:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">date:</span> <span class="string">created</span></span><br><span class="line">    <span class="attr">count:</span> <span class="number">10</span></span><br></pre></td></tr></table></figure><p>生成的 actions 是在<code>github.io</code>仓库下的<code>.github/workflows/HexoSeoAutoPush.yml</code>，点开头的文件或文件夹都会被视为隐藏文件，所以 hexo 不会将隐藏文件部署到 pages，需要新增配置<code>ignore_hidden</code>属性</p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: https://github.com/&lt;username&gt;/&lt;project&gt;</span><br><span class="line">  # example, https://github.com/hexojs/hexojs.github.io</span><br><span class="line">  branch: gh-pages</span><br><span class="line"><span class="addition">+ ignore_hidden: false # 忽略隐藏文件及文件夹(目录)</span></span><br></pre></td></tr></table></figure><p><code>hexo clean &amp; hexo g</code>后在<code>[BlogRoot]/public</code>生成<code>baidu.txt、google.txt、bing.json</code>则插件安装成功</p><p>之后在<code>github.io</code>仓库加入变量，为仓库做定时提交任务，具体参考文档</p><h3 id="CDN加速"><a href="#CDN加速" class="headerlink" title="CDN加速"></a>CDN加速</h3><blockquote><p>注：CDN需要中国大陆实名备案，且年费用在10元左右，如果你是无服务器部署，是不可以做备案的，可以尝试其它托管服务</p><ul><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://vercel.com/">Vercel</a>或<a target="_blank" rel="noopener external nofollow noreferrer" href="https://app.netlify.com/teams/yleave/sites">Netlify</a>：首推Vercel。俩平台用自己的Github注册导入<code>github.io</code>仓库即可，十分方便</li><li>Gitee Page服务：国内Gitee的静态服务，但每次都需要点击手动检查部署，如果触发违禁词还需要重新编写文章，十分繁琐</li></ul><p>2022.08.08，博客已稳定运行三个多月，感觉CDN加速没什么用，但始终逃不过真香定律。下图为加速后和加速前的ping测试</p></blockquote><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.zhsher.cn/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA32.png" alt="Hexo博客搭建32"></p><p>为什么使用 CDN 内容分发网络？</p><p>当用户直接访问源站中的静态内容时，可能面临的体验问题</p><ul><li><p>客户离服务器越远，访问速度越慢。</p></li><li><p>客户数量越多，网络带宽费用越高。</p></li><li><p>跨境用户访问体验较差。</p></li><li><p>摘自店长的解释：</p><p>CDN（Content Delivery Network，内容分发网络）的作用很简单，顾名思义，把你的网站内容存在由各个节点构成的网络内，然后按照请求距离远近，让最近的节点去分发服务。</p><p>打个比方，把源站比作商品，CDN比作物流。<br>原本你从国内向海外发起海外购（访问源站），然后美国仓库发货（githubpage响应请求），可能要一周多才能到货。<br>现在套了全站CDN，你向美国发货，然后国内仓库（国内CDN缓存节点）比较了下，发现它在上海、北京、深圳等等地方都有一模一样的货（缓存内容），所以他看你在浙江，于是直接从离你最近的上海仓库发货（最近节点分发内容），于是，你上午下单，下午就到了。这样子，网站速度就快了。</p></li></ul><p>CDN 如何改善您的网络体验</p><ul><li>CDN 缓存内容后，用户仅需要访问就近的 CDN 节点即可获取静态内容。</li><li>缓解源站带宽压力，网络费用更低。</li><li>分布全球的跨境节点提升跨境访问体验。</li></ul><p>简单点说，就是用一个服务商去帮你代理你的网站，从而做到全国加速访问的效果。其中有又拍云、百度云、<a target="_blank" rel="noopener external nofollow noreferrer" href="https://console.cloud.tencent.com/cdn">腾讯云</a></p><p>文档经常更新，所以具体参考各个平台最新文档内容：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://cloud.tencent.com/document/product/228/74340">内容分发网络 CDN 业务场景-场景教学-文档中心-腾讯云</a>、<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.onyi.net/archives/428.html">CDN配置方式(以腾讯云为例) - 忆梦小站</a></p><p>避坑：不建议开启<strong>IP访问限频配置</strong>，因为hexo静态文件居多，加载网页同时<code>[BlogRoot]/source/js</code>、<code>[BlogRoot]/source/css</code>等文件这些都算同一时间内的访问次数的，如果访问频率过低会导致页面加载错误，可以根据控制台报错找一个合适的频率配置</p><p>建议开启<strong>HTTPS配置（导入ssl证书）、HTTPS服务+强制跳转HTTPS、用量封顶配置</strong>，关掉IP限制但为了盗刷流量可以配置用量封顶</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.zhsher.cn/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA34.png" alt="Hexo博客搭建34"></p><p>检查是否CDN加速是否起作用</p><ul><li><a target="_blank" rel="noopener external nofollow noreferrer" href="http://17ce.com/">站长工具</a>测试全国访问速度</li><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.csdn.net/qq_37512865/article/details/113179711">查看请求头</a>：网络控制台请求表头中包含<code>x-cache-lookup：Cache Hit</code> (代表成功从cdn上取得资源)</li><li>命令行<code>ping 域名</code>：返回源地址而不是自己的服务器ip</li></ul><h3 id="站内资源CDN"><a href="#站内资源CDN" class="headerlink" title="站内资源CDN"></a>站内资源CDN</h3><blockquote><p>原文地址：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.zhheo.com/p/790087d9.html">Butterfly CDN链接更改指南，替换jsdelivr提升访问速度 | 张洪Heo</a></p><p>既然不能为自己public文件夹下静态文件加速，那么主题渲染过程中也引入了很多外部资源，默认用的是国外厂商jsdelivr例如：<code>https://cdn.jsdelivr.net/npm/xxx/dist/xxx.min.js</code>，修改这些文件的地址也可以减少网站加载时间</p><p>所有外部资源文件的名称在</p><ul><li><code>[BlogRoot]/themes/butterfly/scripts/events/cdn.js</code></li><li>&#96;&#96;[BlogRoot]&#x2F;themes&#x2F;butterfly&#x2F;plugins.yml&#96;</li></ul><p>修改应遵循优先使用字节跳动的cdn。如果<a target="_blank" rel="noopener external nofollow noreferrer" href="https://cdn.bytedance.com/">字节跳动静态资源公共库</a>没有则使用elemecdn，可以达到加速的效果。如果都没有可以和洪哥一样自己打包npm引用（我偷懒直接白嫖了嘻嘻）</p></blockquote><p>修改主题配置文件<code>_config.butterfly.yml</code></p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">CDN:</span><br><span class="line">  ......</span><br><span class="line">  option:</span><br><span class="line"><span class="addition">+  	在这里按需添加对应链接</span></span><br></pre></td></tr></table></figure><p>jquery</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/jquery/3.6.0/jquery.min.js</span></span><br></pre></td></tr></table></figure><p>pjax</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">pjax:</span> <span class="string">https://npm.elemecdn.com/pjax@latest/pjax.min.js</span></span><br></pre></td></tr></table></figure><p>sharejs</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">sharejs:</span> <span class="string">https://npm.elemecdn.com/butterfly-extsrc@latest/sharejs/dist/js/social-share.min.js</span></span><br><span class="line"><span class="attr">sharejs_css:</span> <span class="string">https://npm.elemecdn.com/butterfly-extsrc@latest/sharejs/dist/css/share.min.css</span></span><br></pre></td></tr></table></figure><p>gitalk</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">gitalk:</span> <span class="string">https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/gitalk/1.7.2/gitalk.min.js</span></span><br><span class="line"><span class="attr">gitalk_css:</span> <span class="string">https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/gitalk/1.7.2/gitalk.min.css</span></span><br></pre></td></tr></table></figure><p>valine</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/valine/1.4.16/Valine.min.js</span></span><br></pre></td></tr></table></figure><p>disqusjs</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">disqusjs:</span> <span class="string">https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/disqusjs/1.3.0/disqus.js</span></span><br><span class="line"><span class="attr">disqusjs_css:</span> <span class="string">https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/disqusjs/1.3.0/disqusjs.css</span></span><br></pre></td></tr></table></figure><p>twikoo（这个是定制版）</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">twikoo:</span> <span class="string">https://jsd.onmicrosoft.cn/npm/js-heo@1.0.3/twikoo/twikoo.all.min.js</span></span><br></pre></td></tr></table></figure><p>twikoo（官方版）</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">twikoo:</span> <span class="string">https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/twikoo/1.4.18/twikoo.all.min.js</span></span><br></pre></td></tr></table></figure><p>waline</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/waline/1.5.4/Waline.min.js</span></span><br></pre></td></tr></table></figure><p>algolia</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">algolia_js:</span> <span class="string">https://jsd.onmicrosoft.cn/npm/js-heo@1.0.11/algolia/algolia.js</span></span><br><span class="line"><span class="attr">algolia_search_v4:</span> <span class="string">https://lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/algoliasearch/4.12.1/algoliasearch-lite.umd.min.js</span></span><br></pre></td></tr></table></figure><p>lazyload</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">lazyload:</span> <span class="string">https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/vanilla-lazyload/17.3.1/lazyload.iife.min.js</span></span><br></pre></td></tr></table></figure><p>instantpage</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">instantpage:</span> <span class="string">https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/instant.page/5.1.0/instantpage.min.js</span></span><br></pre></td></tr></table></figure><p>typed</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">typed:</span> <span class="string">https://lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/typed.js/2.0.12/typed.min.js</span></span><br></pre></td></tr></table></figure><p>fancybox</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">fancybox_css_v4:</span> <span class="string">https://jsd.onmicrosoft.cn/npm/@fancyapps/ui@4.0.31/dist/fancybox.css</span></span><br><span class="line">     <span class="attr">fancybox_v4:</span> <span class="string">https://jsd.onmicrosoft.cn/npm/@fancyapps/ui@latest/dist/fancybox.umd.js</span></span><br></pre></td></tr></table></figure><p>medium_zoom</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/medium-zoom/1.0.6/medium-zoom.min.js</span></span><br></pre></td></tr></table></figure><p>snackbar</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">snackbar_css:</span> <span class="string">https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/node-snackbar/0.1.16/snackbar.min.css</span></span><br><span class="line"><span class="attr">snackbar:</span> <span class="string">https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/node-snackbar/0.1.16/snackbar.min.js</span></span><br></pre></td></tr></table></figure><p>fontawesome</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">fontawesomeV6:</span> <span class="string">https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/6.0.0/css/all.min.css</span></span><br></pre></td></tr></table></figure><p>translate</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">translate:</span> <span class="string">https://jsd.onmicrosoft.cn/npm/hexo-theme-butterfly/source/js/tw_cn.js</span></span><br></pre></td></tr></table></figure><p>aplayer</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">aplayer_css:</span> <span class="string">https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.css</span></span><br><span class="line"><span class="attr">aplayer_js:</span> <span class="string">https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.js</span></span><br><span class="line"><span class="attr">meting_js:</span> <span class="string">https://jsd.onmicrosoft.cn/npm/js-heo@1.0.12/metingjs/Meting.min.js</span></span><br></pre></td></tr></table></figure><p>Prism</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">prismjs_js:</span> <span class="string">https://jsd.onmicrosoft.cn/npm/prismjs@1.1.0/prism.js</span></span><br><span class="line"><span class="attr">prismjs_lineNumber_js:</span> <span class="string">https://jsd.onmicrosoft.cn/npm/prismjs/plugins/line-numbers/prism-line-numbers.min.js</span></span><br><span class="line"><span class="attr">prismjs_autoloader:</span> <span class="string">https://jsd.onmicrosoft.cn/npm/prismjs/plugins/autoloader/prism-autoloader.min.js</span></span><br></pre></td></tr></table></figure><p>justifiedGallery</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">flickr_justified_gallery_js:</span> <span class="string">https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js</span></span><br><span class="line"><span class="attr">flickr_justified_gallery_css:</span> <span class="string">https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/justifiedGallery/3.8.1/css/justifiedGallery.min.css</span></span><br></pre></td></tr></table></figure><h3 id="网站监控"><a href="#网站监控" class="headerlink" title="网站监控"></a>网站监控</h3><blockquote><p>可以监控多个站点或友链访问是否正常，发送错误时以邮件或短信方式通知</p><ul><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/naiba/nezha">哪吒面板</a>：安装在自己服务器，需要额外借助GitHub，部署复杂，优点是不仅可以监控站点还可以监控服务器</li><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://uptimerobot.com/">UptimeRobot</a>：无需安装，免费监控50个站点</li><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/louislam/uptime-kuma">louislam&#x2F;uptime-kuma</a>，基于uptimerobot，安装在自己服务器，部署简单</li></ul><p>小张采用uptime-kuma</p></blockquote><p>首先确认已安装docker环境：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://vuepress.mirror.docker-practice.com/install/ubuntu/">安装 Docker教程</a></p><p>安装uptime-kuma，并在网络控制台放行3001端口，通过<code>服务器ip:3001</code>访问</p><figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line">docker <span class="keyword">run</span><span class="language-bash"> -d --restart=always -p 3001:3001 -v /www/wwwroot/status/uptime-kuma/data:/app/data --name uptime-kuma louislam/uptime-kuma:1</span></span><br></pre></td></tr></table></figure><p>选做：配置域名<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/louislam/uptime-kuma/wiki/Reverse-Proxy#nginx">参考文档 uptime-kuma Wiki</a>，以nginx为例，<code>/www/server/panel/vhost/nginx</code>下创建<code>status.conf</code>文件，第三行为域名，四五行为证书路径</p><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">server</span> &#123;</span><br><span class="line">  <span class="attribute">listen</span> <span class="number">443</span> ssl http2;</span><br><span class="line">  <span class="attribute">server_name</span> status.zhsher.cn;</span><br><span class="line">  <span class="attribute">ssl_certificate</span>     /path/to/ssl/cert/crt;</span><br><span class="line">  <span class="attribute">ssl_certificate_key</span> /path/to/ssl/key/key;</span><br><span class="line"></span><br><span class="line">  <span class="section">location</span> / &#123;</span><br><span class="line">    <span class="attribute">proxy_set_header</span>   X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">    <span class="attribute">proxy_set_header</span>   X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">    <span class="attribute">proxy_pass</span>         http://localhost:3001/;</span><br><span class="line">    <span class="attribute">proxy_http_version</span> <span class="number">1</span>.<span class="number">1</span>;</span><br><span class="line">    <span class="attribute">proxy_set_header</span>   Upgrade <span class="variable">$http_upgrade</span>;</span><br><span class="line">    <span class="attribute">proxy_set_header</span>   Connection <span class="string">&quot;upgrade&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>但如果想和博客一样在宝塔面板的网站中显示(强迫症，列一起好知道自己有那些站点)，可以添加一个空站点，之后修改配置文件或者做一个反代，二者效果相同</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.zhsher.cn/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA33.png" alt="Hexo博客搭建33"></p><p>更新参考：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/louislam/uptime-kuma/wiki/%F0%9F%86%99-How-to-Update">uptime-kuma Wiki</a></p><figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line">docker pull louislam/uptime-kuma:<span class="number">1</span></span><br><span class="line">docker stop uptime-kuma</span><br><span class="line">docker rm uptime-kuma</span><br><span class="line"></span><br><span class="line"><span class="comment"># Default</span></span><br><span class="line">docker <span class="keyword">run</span><span class="language-bash"> -d --restart=always -p 3001:3001 -v uptime-kuma:/app/data --name uptime-kuma louislam/uptime-kuma:1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># If you are not using default value</span></span><br><span class="line"><span class="comment"># docker run -d --restart=always -p &lt;YOUR PORT&gt;:3001 -v &lt;YOUR VOLUME&gt;:/app/data --name uptime-kuma louislam/uptime-kuma:1</span></span><br></pre></td></tr></table></figure><p>新增状态页面后，在仪表盘可将网站入口设置为状态页面，之后仪表盘需要通过<code>域名/dashboard</code>进入</p><p>我的自定义css</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.info</span>,<span class="selector-tag">h1</span>,<span class="selector-class">.shadow-box</span>,<span class="selector-class">.mb-4</span> ,<span class="selector-class">.group-title</span>,<span class="selector-class">.mt-5</span>&#123;</span><br><span class="line"><span class="attribute">font-family</span>: <span class="string">&quot;华文新魏&quot;</span>,<span class="string">&quot;楷体&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Hexo异步加载方案"><a href="#Hexo异步加载方案" class="headerlink" title="Hexo异步加载方案"></a>Hexo异步加载方案</h3><blockquote><p>原文地址：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://akilar.top/posts/615d5ede/">Hexo异步加载方案 | Akilarの糖果屋</a></p></blockquote><h3 id="Pjax适配"><a href="#Pjax适配" class="headerlink" title="Pjax适配"></a>Pjax适配</h3><blockquote><p>原文地址：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.leonus.cn/2023/pjax.html">我是这么适配pjax的 | Leonus</a></p></blockquote><h2 id="七、魔改"><a href="#七、魔改" class="headerlink" title="七、魔改"></a>七、魔改</h2><blockquote><p style="color:#d15d73">个人喜欢简约风格，魔改美化应遵循阅读体验、实用功能优先的原则，因而不做繁冗的增添与过于商业性质的修改</p><p>魔改由简到难，分为css、js文件引入修改，插件魔改，主题源码魔改。其中css分文件编写只是为了区分功能，实际操作可以合并为一个文件减少网页请求次数提高加载速度，<strong>Hexo异步加载方案</strong>中有详细说明</p></blockquote><h3 id="插入代码自定义样式-鼠标或footer-及备案信息实现"><a href="#插入代码自定义样式-鼠标或footer-及备案信息实现" class="headerlink" title="插入代码自定义样式(鼠标或footer)及备案信息实现"></a>插入代码自定义样式(鼠标或footer)及备案信息实现</h3><blockquote><p>在正式魔改前，先回顾一下主题文档是如何修改样式的</p></blockquote><blockquote><p>原文地址：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.bilibili.com/video/BV1ph411H7ng/?spm_id_from=333.788">使用Hexo搭建个人博客手摸手教学(16)|插入代码自定义样式及备案信息实现</a></p><p>卷二兔up主的其它css文件：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/constown/HexoStaticFile">constown&#x2F;HexoStaticFile: HexoStaticFile</a></p></blockquote><p>在博客界面右击想要修改的地方，点击检查，以底部为例，查到<code>#footer-wrap</code>，新建<code>[BlogRoot]/source/css/style.css</code></p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#footer</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: transparent;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#footer-wrap</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#0d0d0d</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改主题配置文件<code>_config.butterfly.yml</code>，引入css文件</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">  <span class="comment"># - &lt;link rel=&quot;stylesheet&quot; href=&quot;/xxx.css&quot;&gt;</span></span><br><span class="line">   <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/style.css&quot;&gt;</span></span><br></pre></td></tr></table></figure><p>修改主题配置文件<code>_config.butterfly.yml</code>，添加备案信息并修改<code>#footer-a</code>属性</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Footer Settings</span></span><br><span class="line"><span class="comment"># --------------------------------------</span></span><br><span class="line"><span class="attr">footer:</span></span><br><span class="line">  <span class="attr">owner:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">since:</span> <span class="number">2022</span></span><br><span class="line">  <span class="attr">custom_text:</span> <span class="string">&lt;div&gt;满地都是六便士</span> <span class="string">我想抬头看月亮&lt;/div&gt;&lt;div&gt;&lt;a</span> <span class="string">onclick=&quot;window.open(&#x27;url&#x27;)&quot;</span> <span class="string">class=&quot;footer-a&quot;&gt;备没服务器...&lt;/a&gt;&lt;/div&gt;</span></span><br><span class="line">  <span class="attr">copyright:</span> <span class="literal">true</span> <span class="comment"># Copyright of theme and framework</span></span><br></pre></td></tr></table></figure><p>同样在<code>style.css</code>中修改样式</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#footer-a</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#0d0d0d</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="twikoo美化"><a href="#twikoo美化" class="headerlink" title="twikoo美化"></a>twikoo美化</h3><h4 id="twikoo输入提醒"><a href="#twikoo输入提醒" class="headerlink" title="twikoo输入提醒"></a>twikoo输入提醒</h4><blockquote><p>原文地址：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.leonus.cn/2022/inputAlert.html">给你的评论添加一个输入提醒吧 | Leonus</a></p></blockquote><p>新建<code>[BlogRoot]/source/css/twikoo.css</code></p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 设置文字内容 :nth-child(1)的作用是选择第几个 */</span></span><br><span class="line"><span class="selector-class">.el-input</span><span class="selector-class">.el-input--small</span><span class="selector-class">.el-input-group</span><span class="selector-class">.el-input-group--prepend</span><span class="selector-pseudo">:nth-child</span>(<span class="number">1</span>)<span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;输入QQ号会自动获取昵称和头像🐧&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.el-input</span><span class="selector-class">.el-input--small</span><span class="selector-class">.el-input-group</span><span class="selector-class">.el-input-group--prepend</span><span class="selector-pseudo">:nth-child</span>(<span class="number">2</span>)<span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;收到回复将会发送到您的邮箱📧&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.el-input</span><span class="selector-class">.el-input--small</span><span class="selector-class">.el-input-group</span><span class="selector-class">.el-input-group--prepend</span><span class="selector-pseudo">:nth-child</span>(<span class="number">3</span>)<span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;可以通过昵称访问您的网站🔗&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 当用户点击输入框时显示 */</span></span><br><span class="line"><span class="selector-class">.el-input</span><span class="selector-class">.el-input--small</span><span class="selector-class">.el-input-group</span><span class="selector-class">.el-input-group--prepend</span><span class="selector-pseudo">:focus</span>-within<span class="selector-pseudo">::before</span>,</span><br><span class="line"><span class="selector-class">.el-input</span><span class="selector-class">.el-input--small</span><span class="selector-class">.el-input-group</span><span class="selector-class">.el-input-group--prepend</span><span class="selector-pseudo">:focus</span>-within<span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 主内容区 */</span></span><br><span class="line"><span class="selector-class">.el-input</span><span class="selector-class">.el-input--small</span><span class="selector-class">.el-input-group</span><span class="selector-class">.el-input-group--prepend</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="comment">/* 先隐藏起来 */</span></span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">    <span class="comment">/* 绝对定位 */</span></span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="comment">/* 向上移动60像素 */</span></span><br><span class="line">    <span class="attribute">top</span>: -<span class="number">60px</span>;</span><br><span class="line">    <span class="comment">/* 文字强制不换行，防止left:50%导致的文字换行 */</span></span><br><span class="line">    <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">    <span class="comment">/* 圆角 */</span></span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="comment">/* 距离左边50% */</span></span><br><span class="line">    <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="comment">/* 然后再向左边挪动自身的一半，即可实现居中 */</span></span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>);</span><br><span class="line">    <span class="comment">/* 填充 */</span></span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">14px</span> <span class="number">18px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#444</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 小角标 */</span></span><br><span class="line"><span class="selector-class">.el-input</span><span class="selector-class">.el-input--small</span><span class="selector-class">.el-input-group</span><span class="selector-class">.el-input-group--prepend</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="comment">/* 内容大小（宽高）为0且边框大小不为0的情况下，每一条边（4个边）都是一个三角形，组成一个正方形。</span></span><br><span class="line"><span class="comment">    我们先将所有边框透明，再给其中的一条边添加颜色就可以实现小三角图标 */</span></span><br><span class="line">    <span class="attribute">border</span>: <span class="number">12px</span> solid transparent;</span><br><span class="line">    <span class="attribute">border-top-color</span>: <span class="number">#444</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>, -<span class="number">48px</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改主题配置文件<code>_config.butterfly.yml</code>，引入css文件</p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">  # - &lt;link rel=&quot;stylesheet&quot; href=&quot;/xxx.css&quot;&gt;</span><br><span class="line"><span class="addition">+   - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/twikoo.css&quot;&gt;</span></span><br></pre></td></tr></table></figure><h4 id="twikoo评论美化"><a href="#twikoo评论美化" class="headerlink" title="twikoo评论美化"></a>twikoo评论美化</h4><blockquote><p>原文地址：</p><ul><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://akilar.top/posts/d99b5f01/">twikoo评论块气泡风格魔改美化 | Akilarの糖果屋</a></li><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.panghai.top/posts/b20a/#%E9%AD%94%E6%94%B9%E4%BF%A1%E6%81%AF%E6%A0%8F">Butterfly博客主题搭建系列：美化魔改教程 | 心流</a></li></ul></blockquote><p>新建<code>[BlogRoot]/source/css/twikoo.css</code></p><p>方案一：注释很清晰可以自己微调，我修改了一下回复气泡的位置：<code>.tk-content</code>中新增 <code>margin-left: 30px;</code></p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*twikoo评论气泡*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 自定义twikoo评论输入框高度 */</span></span><br><span class="line"><span class="selector-class">.tk-input</span><span class="selector-attr">[data-v-619b4c52]</span> <span class="selector-class">.el-textarea__inner</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">130px</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 输入评论时自动隐藏输入框背景图片 */</span></span><br><span class="line"><span class="selector-class">.tk-input</span><span class="selector-attr">[data-v-619b4c52]</span> <span class="selector-class">.el-textarea__inner</span><span class="selector-pseudo">:focus</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: none <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 调整楼中楼样式 ，整体左移，贴合气泡化效果 */</span></span><br><span class="line"><span class="selector-class">.tk-replies</span> &#123;</span><br><span class="line">    <span class="attribute">left</span>: -<span class="number">70px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="built_in">calc</span>(<span class="number">100%</span> + <span class="number">70px</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 头像宽度调整 rem单位与全局字体大小挂钩，需配合自己情况调整大小以保证头像显示完整*/</span></span><br><span class="line"><span class="selector-class">.tk-replies</span> <span class="selector-class">.tk-avatar</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">2.5rem</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">2.5rem</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tk-replies</span> <span class="selector-class">.tk-avatar</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">2.5rem</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">2.5rem</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 回复框左移，避免窄屏时出框 */</span></span><br><span class="line"><span class="selector-class">.tk-comments-container</span> <span class="selector-class">.tk-submit</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">left</span>: -<span class="number">70px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 评论块气泡化修改 */</span></span><br><span class="line"><span class="selector-class">.tk-content</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#00a6ff</span>; <span class="comment">/*默认模式访客气泡配色*/</span></span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>; <span class="comment">/*默认模式访客气泡字体配色*/</span></span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">width</span>: fit-content;</span><br><span class="line">    <span class="attribute">max-width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">position</span>: relative <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: visible <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">max-height</span>: none <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">30px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 修复图片出框 */</span></span><br><span class="line"><span class="selector-class">.tk-content</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">max-width</span>: <span class="number">100%</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 修复过长文本出框 */</span></span><br><span class="line"><span class="selector-class">.tk-content</span> pre &#123;</span><br><span class="line">    <span class="attribute">white-space</span>: pre-wrap;</span><br><span class="line">    <span class="attribute">word-wrap</span>: break-word;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tk-content</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#eeecaa</span>; <span class="comment">/*默认模式超链接配色*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tk-content</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">left</span>: -<span class="number">13px</span>;</span><br><span class="line">    <span class="attribute">border-top</span>: <span class="number">2px</span> solid transparent;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">20px</span> solid transparent;</span><br><span class="line">    <span class="attribute">border-right</span>: <span class="number">15px</span> solid <span class="number">#00a6ff</span>; <span class="comment">/*默认模式访客气泡小三角配色*/</span></span><br><span class="line">    <span class="attribute">border-left</span>: <span class="number">0px</span> solid transparent;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tk-master</span> <span class="selector-class">.tk-content</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#ff8080</span>; <span class="comment">/*默认模式博主气泡配色*/</span></span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>; <span class="comment">/*默认模式博主气泡字体配色*/</span></span><br><span class="line">    <span class="attribute">width</span>: fit-content;</span><br><span class="line">    <span class="attribute">max-width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tk-master</span> <span class="selector-class">.tk-content</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#eeecaa</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tk-master</span> <span class="selector-class">.tk-content</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">left</span>: -<span class="number">13px</span>;</span><br><span class="line">    <span class="attribute">border-top</span>: <span class="number">2px</span> solid transparent;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">20px</span> solid transparent;</span><br><span class="line">    <span class="attribute">border-right</span>: <span class="number">15px</span> solid <span class="number">#ff8080</span>; <span class="comment">/*默认模式博主气泡小三角配色*/</span></span><br><span class="line">    <span class="attribute">border-left</span>: <span class="number">0px</span> solid transparent;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tk-row</span><span class="selector-attr">[data-v-d82ce9a0]</span> &#123;</span><br><span class="line">    <span class="attribute">max-width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">width</span>: fit-content;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tk-avatar</span> &#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 夜间模式配色，具体比照上方默认模式class */</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.tk-content</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#000</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.tk-content</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#dfa036</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.tk-content</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">border-right</span>: <span class="number">15px</span> solid <span class="number">#000</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.tk-master</span> <span class="selector-class">.tk-content</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#000</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.tk-master</span> <span class="selector-class">.tk-content</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#dfa036</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.tk-master</span> <span class="selector-class">.tk-content</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">border-top</span>: <span class="number">2px</span> solid transparent;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">20px</span> solid transparent;</span><br><span class="line">    <span class="attribute">border-right</span>: <span class="number">15px</span> solid <span class="number">#000</span>;</span><br><span class="line">    <span class="attribute">border-left</span>: <span class="number">0px</span> solid transparent;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 自适应内容 */</span></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">1024px</span>) &#123;</span><br><span class="line">    <span class="comment">/* 设置宽度上限，避免挤压博主头像 */</span></span><br><span class="line">    <span class="selector-class">.tk-content</span> &#123;</span><br><span class="line">        <span class="attribute">max-width</span>: <span class="number">75%</span>;</span><br><span class="line">        <span class="attribute">width</span>: fit-content;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-class">.tk-master</span> <span class="selector-class">.tk-content</span> &#123;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">75%</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-class">.tk-master</span> <span class="selector-class">.tk-content</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">        <span class="attribute">left</span>: <span class="number">100%</span>;</span><br><span class="line">        <span class="attribute">border-left</span>: <span class="number">15px</span> solid <span class="number">#ff8080</span>;</span><br><span class="line">        <span class="attribute">border-right</span>: <span class="number">0px</span> solid transparent;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-class">.tk-master</span> <span class="selector-class">.tk-avatar</span> &#123;</span><br><span class="line">        <span class="attribute">position</span>: relative;</span><br><span class="line">        <span class="attribute">left</span>: <span class="built_in">calc</span>(<span class="number">75%</span> + <span class="number">70px</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-class">.tk-master</span> <span class="selector-class">.tk-row</span><span class="selector-attr">[data-v-d82ce9a0]</span> &#123;</span><br><span class="line">        <span class="attribute">position</span>: relative;</span><br><span class="line">        <span class="attribute">top</span>: <span class="number">0px</span>;</span><br><span class="line">        <span class="attribute">left</span>: <span class="built_in">calc</span>(<span class="number">75%</span> - <span class="number">230px</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.tk-master</span> <span class="selector-class">.tk-content</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">        <span class="attribute">border-left</span>: <span class="number">15px</span> solid <span class="number">#000</span>;</span><br><span class="line">        <span class="attribute">border-right</span>: <span class="number">0px</span> solid transparent;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 设备名称常态隐藏，悬停评论时显示 */</span></span><br><span class="line"><span class="selector-class">.tk-extras</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">    -ms-<span class="attribute">filter</span>: <span class="string">&quot;progid:DXImageTransform.Microsoft.Alpha(Opacity=0)&quot;</span>;</span><br><span class="line">    <span class="attribute">filter</span>: <span class="built_in">alpha</span>(opacity=<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tk-content</span><span class="selector-pseudo">:hover</span> + <span class="selector-class">.tk-extras</span> &#123;</span><br><span class="line">    -webkit-<span class="attribute">animation</span>: tk-extras-fadeIn <span class="number">0.5s</span> linear;</span><br><span class="line">    -moz-<span class="attribute">animation</span>: tk-extras-fadeIn <span class="number">0.5s</span> linear;</span><br><span class="line">    -o-<span class="attribute">animation</span>: tk-extras-fadeIn <span class="number">0.5s</span> linear;</span><br><span class="line">    -ms-<span class="attribute">animation</span>: tk-extras-fadeIn <span class="number">0.5s</span> linear;</span><br><span class="line">    <span class="attribute">animation</span>: tk-extras-fadeIn <span class="number">0.5s</span> linear;</span><br><span class="line">    -webkit-<span class="attribute">animation-fill-mode</span>: forwards;</span><br><span class="line">    -moz-<span class="attribute">animation-fill-mode</span>: forwards;</span><br><span class="line">    -o-<span class="attribute">animation-fill-mode</span>: forwards;</span><br><span class="line">    -ms-<span class="attribute">animation-fill-mode</span>: forwards;</span><br><span class="line">    <span class="attribute">animation-fill-mode</span>: forwards;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@-moz-keyframes</span> tk-extras-fadeIn &#123;</span><br><span class="line">    <span class="selector-tag">from</span> &#123;</span><br><span class="line">        <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">        -ms-<span class="attribute">filter</span>: <span class="string">&quot;progid:DXImageTransform.Microsoft.Alpha(Opacity=0)&quot;</span>;</span><br><span class="line">        <span class="attribute">filter</span>: <span class="built_in">alpha</span>(opacity=<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">to</span> &#123;</span><br><span class="line">        <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">        -ms-<span class="attribute">filter</span>: none;</span><br><span class="line">        <span class="attribute">filter</span>: none;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@-webkit-keyframes</span> tk-extras-fadeIn &#123;</span><br><span class="line">    <span class="selector-tag">from</span> &#123;</span><br><span class="line">        <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">        -ms-<span class="attribute">filter</span>: <span class="string">&quot;progid:DXImageTransform.Microsoft.Alpha(Opacity=0)&quot;</span>;</span><br><span class="line">        <span class="attribute">filter</span>: <span class="built_in">alpha</span>(opacity=<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">to</span> &#123;</span><br><span class="line">        <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">        -ms-<span class="attribute">filter</span>: none;</span><br><span class="line">        <span class="attribute">filter</span>: none;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@-o-keyframes</span> tk-extras-fadeIn &#123;</span><br><span class="line">    <span class="selector-tag">from</span> &#123;</span><br><span class="line">        <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">        -ms-<span class="attribute">filter</span>: <span class="string">&quot;progid:DXImageTransform.Microsoft.Alpha(Opacity=0)&quot;</span>;</span><br><span class="line">        <span class="attribute">filter</span>: <span class="built_in">alpha</span>(opacity=<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">to</span> &#123;</span><br><span class="line">        <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">        -ms-<span class="attribute">filter</span>: none;</span><br><span class="line">        <span class="attribute">filter</span>: none;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> tk-extras-fadeIn &#123;</span><br><span class="line">    <span class="selector-tag">from</span> &#123;</span><br><span class="line">        <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">        -ms-<span class="attribute">filter</span>: <span class="string">&quot;progid:DXImageTransform.Microsoft.Alpha(Opacity=0)&quot;</span>;</span><br><span class="line">        <span class="attribute">filter</span>: <span class="built_in">alpha</span>(opacity=<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">to</span> &#123;</span><br><span class="line">        <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">        -ms-<span class="attribute">filter</span>: none;</span><br><span class="line">        <span class="attribute">filter</span>: none;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* gif动图 */</span></span><br><span class="line"><span class="selector-class">.tk-input</span> <span class="selector-tag">textarea</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&#x27;https://zhsher.cn/Hexo_img/config/Twikooback.gif&#x27;</span>);<span class="comment">/* 图片地址 */</span></span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">120px</span> <span class="meta">!important</span>; <span class="comment">/* 默认是75px 拉高评论框大小 */</span></span><br><span class="line">    <span class="attribute">background-size</span>:<span class="number">10em</span> <span class="number">10em</span>; <span class="comment">/* 设置图片长宽 */</span></span><br><span class="line">    <span class="comment">/* background-color: #ffffff; */</span></span><br><span class="line">    <span class="attribute">transition</span>: all <span class="number">0.25s</span> ease-in-out <span class="number">0s</span>; <span class="comment">/* 动画过渡 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.tk-input</span> <span class="selector-tag">textarea</span><span class="selector-pseudo">:focus</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>-y: <span class="number">130px</span>;</span><br><span class="line">    <span class="attribute">transition</span>: all <span class="number">0.25s</span> ease-in-out <span class="number">0s</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>方案二</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 声名部分变量 */</span></span><br><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">  <span class="attr">--zhangshier-radius</span>: <span class="number">7px</span>;</span><br><span class="line">  <span class="attr">--zhangshier-card-border-width</span>: <span class="number">1px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 浅色模式颜色 */</span></span><br><span class="line"><span class="selector-attr">[data-theme=light]</span> &#123;</span><br><span class="line">  <span class="attr">--zhangshier-border-color</span>: <span class="number">#e3e8f7</span>;</span><br><span class="line">  <span class="attr">--zhangshier-card-bg</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attr">--zhangshier-card-border</span>: <span class="number">#e3e8f7</span>;</span><br><span class="line">  <span class="attr">--style-border-always</span>: <span class="number">1px</span> solid <span class="built_in">var</span>(--zhangshier-card-border);</span><br><span class="line">  <span class="attr">--zhangshier-blue</span>: <span class="number">#425AEF</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 深色模式颜色 */</span></span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span> &#123;</span><br><span class="line">  <span class="attr">--zhangshier-border-color</span>: <span class="number">#42444a</span>;</span><br><span class="line">  <span class="attr">--zhangshier-card-bg</span>: <span class="number">#1d1b26</span>;</span><br><span class="line">  <span class="attr">--zhangshier-card-border</span>: <span class="number">#42444a</span>;</span><br><span class="line">  <span class="attr">--style-border-always</span>: <span class="number">1px</span> solid <span class="built_in">var</span>(--zhangshier-card-border);</span><br><span class="line">  <span class="attr">--zhangshier-blue</span>: <span class="number">#0084FF</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 评论区评论大框 */</span></span><br><span class="line"><span class="selector-class">.twikoo</span> <span class="selector-class">.tk-comments-container</span>&gt;<span class="selector-class">.tk-comment</span> &#123;</span><br><span class="line">  <span class="comment">/* 内边距 */</span></span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">1rem</span>;</span><br><span class="line">  <span class="comment">/* 圆角 */</span></span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="built_in">var</span>(--zhangshier-radius);</span><br><span class="line">  <span class="comment">/* 背景颜色 */</span></span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">var</span>(--zhangshier-card-bg);</span><br><span class="line">  <span class="comment">/* 变动动画时长 */</span></span><br><span class="line">  <span class="attribute">transition</span>: .<span class="number">3s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 浅色模式评论区评论大框 */</span></span><br><span class="line"><span class="selector-attr">[data-theme=light]</span> <span class="selector-class">.twikoo</span> <span class="selector-class">.tk-comments-container</span>&gt;<span class="selector-class">.tk-comment</span> &#123;</span><br><span class="line">  <span class="comment">/* 阴影 */</span></span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="built_in">var</span>(--card-box-shadow);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 浅色模式评论区评论大框阴影悬浮加深 */</span></span><br><span class="line"><span class="selector-attr">[data-theme=light]</span> <span class="selector-class">.twikoo</span> <span class="selector-class">.tk-comments-container</span>&gt;<span class="selector-class">.tk-comment</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="comment">/* 阴影（浅色模式突出层次感） */</span></span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="built_in">var</span>(--card-hover-box-shadow);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 黑暗模式评论区评论大框 */</span></span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span> <span class="selector-class">.twikoo</span> <span class="selector-class">.tk-comments-container</span>&gt;<span class="selector-class">.tk-comment</span> &#123;</span><br><span class="line">  <span class="comment">/* 边框样式 */</span></span><br><span class="line">  <span class="attribute">border-style</span>: solid;</span><br><span class="line">  <span class="comment">/* 边框宽度 */</span></span><br><span class="line">  <span class="attribute">border-width</span>: <span class="built_in">var</span>(--zhangshier-card-border-width);</span><br><span class="line">  <span class="comment">/* 边框颜色 */</span></span><br><span class="line">  <span class="attribute">border-color</span>: <span class="built_in">var</span>(--zhangshier-card-border);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 设备信息 */</span></span><br><span class="line"><span class="selector-class">.twikoo</span> <span class="selector-class">.tk-extra</span> &#123;</span><br><span class="line">  <span class="comment">/* 圆角 */</span></span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="built_in">var</span>(--zhangshier-radius);</span><br><span class="line">  <span class="comment">/* 背景颜色 */</span></span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">var</span>(--zhangshier-card-bg);</span><br><span class="line">  <span class="comment">/* 内边距 */</span></span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0.4rem</span>;</span><br><span class="line">  <span class="comment">/* 底边距 */</span></span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">1rem</span>;</span><br><span class="line">  <span class="comment">/* 变动动画时长 */</span></span><br><span class="line">  <span class="attribute">transition</span>: .<span class="number">3s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 浅色模式设备信息 */</span></span><br><span class="line"><span class="selector-attr">[data-theme=light]</span> <span class="selector-class">.twikoo</span> <span class="selector-class">.tk-extra</span> &#123;</span><br><span class="line">  <span class="comment">/* 阴影 */</span></span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="built_in">var</span>(--card-box-shadow);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 浅色模式设备信息阴影悬浮加深 */</span></span><br><span class="line"><span class="selector-attr">[data-theme=light]</span> <span class="selector-class">.twikoo</span> <span class="selector-class">.tk-extra</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="comment">/* 阴影 */</span></span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="built_in">var</span>(--card-hover-box-shadow);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 黑暗模式设备信息 */</span></span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span> <span class="selector-class">.twikoo</span> <span class="selector-class">.tk-extra</span> &#123;</span><br><span class="line">  <span class="comment">/* 边框样式 */</span></span><br><span class="line">  <span class="attribute">border-style</span>: solid;</span><br><span class="line">  <span class="comment">/* 边框宽度 */</span></span><br><span class="line">  <span class="attribute">border-width</span>: <span class="built_in">var</span>(--zhangshier-card-border-width);</span><br><span class="line">  <span class="comment">/* 边框颜色 */</span></span><br><span class="line">  <span class="attribute">border-color</span>: <span class="built_in">var</span>(--zhangshier-card-border);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 加载更多按钮 */</span></span><br><span class="line"><span class="selector-class">.twikoo</span> <span class="selector-class">.tk-expand</span> &#123;</span><br><span class="line">  <span class="comment">/* 圆角 */</span></span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="built_in">var</span>(--zhangshier-radius);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 浅色模式加载更多按钮 */</span></span><br><span class="line"><span class="selector-attr">[data-theme=light]</span> <span class="selector-class">.twikoo</span> <span class="selector-class">.tk-expand</span> &#123;</span><br><span class="line">  <span class="comment">/* 阴影 */</span></span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="built_in">var</span>(--card-box-shadow);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 浅色模式加载更多按钮（鼠标悬浮时） */</span></span><br><span class="line"><span class="selector-attr">[data-theme=light]</span> <span class="selector-class">.twikoo</span> <span class="selector-class">.tk-expand</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="comment">/* 阴影 */</span></span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="built_in">var</span>(--card-hover-box-shadow);</span><br><span class="line">  <span class="comment">/* 背景颜色 */</span></span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--btn-bg);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 黑暗模式加载更多按钮（鼠标悬浮时） */</span></span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span> <span class="selector-class">.twikoo</span> <span class="selector-class">.tk-expand</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="comment">/* 背景颜色 */</span></span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--zhangshier-blue);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 黑暗模式加载更多按钮 */</span></span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span> <span class="selector-class">.twikoo</span> <span class="selector-class">.tk-expand</span> &#123;</span><br><span class="line">  <span class="comment">/* 边框样式 */</span></span><br><span class="line">  <span class="attribute">border-style</span>: solid;</span><br><span class="line">  <span class="comment">/* 边框宽度 */</span></span><br><span class="line">  <span class="attribute">border-width</span>: <span class="built_in">var</span>(--zhangshier-card-border-width);</span><br><span class="line">  <span class="comment">/* 边框颜色 */</span></span><br><span class="line">  <span class="attribute">border-color</span>: <span class="built_in">var</span>(--zhangshier-card-border);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* gif动图 */</span></span><br><span class="line"><span class="selector-class">.tk-input</span> <span class="selector-tag">textarea</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&#x27;https://zhsher.cn/Hexo_img/config/Twikooback.gif&#x27;</span>);<span class="comment">/* 图片地址 */</span></span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">120px</span> <span class="meta">!important</span>; <span class="comment">/* 默认是75px 拉高评论框大小 */</span></span><br><span class="line">    <span class="attribute">background-size</span>:<span class="number">10em</span> <span class="number">10em</span>; <span class="comment">/* 设置图片长宽 */</span></span><br><span class="line">    <span class="comment">/* background-color: #ffffff; */</span></span><br><span class="line">    <span class="attribute">transition</span>: all <span class="number">0.25s</span> ease-in-out <span class="number">0s</span>; <span class="comment">/* 动画过渡 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.tk-input</span> <span class="selector-tag">textarea</span><span class="selector-pseudo">:focus</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>-y: <span class="number">130px</span>;</span><br><span class="line">    <span class="attribute">transition</span>: all <span class="number">0.25s</span> ease-in-out <span class="number">0s</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>方案三</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.tk-expand</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">    <span class="attribute">padding</span>: .<span class="number">75em</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">5s</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#twikoo</span> <span class="selector-class">.tk-content</span> <span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#twikoo</span> <span class="selector-class">.tk-expand</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#3b70fc</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid transparent;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.tk-expand</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="built_in">var</span>(--style-border);</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">8px</span> <span class="number">16px</span> -<span class="number">4px</span> <span class="number">#2c2d300c</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50px</span>;</span><br><span class="line">    <span class="attribute">letter-spacing</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--zhsher-card-bg)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.tk-replies</span> &gt; <span class="selector-class">.tk-comment</span> &#123;</span><br><span class="line">    <span class="attribute">border-top</span>: <span class="built_in">var</span>(--style-border-dashed);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">1rem</span> <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">3s</span> ease <span class="number">0s</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.tk-replies</span> <span class="selector-class">.tk-content</span> <span class="selector-tag">span</span><span class="selector-pseudo">:first</span>-child<span class="selector-pseudo">:not</span>(<span class="selector-class">.token</span>) &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: .<span class="number">5rem</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--zhsher-secondtext)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#twikoo</span> pre <span class="selector-tag">code</span> &#123;</span><br><span class="line">    <span class="attribute">padding</span>: none;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">color</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#twikoo</span> <span class="selector-tag">code</span> &#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">2px</span> <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--zhsher-secondbg);</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#f47466</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.el-input</span><span class="selector-class">.el-input--small</span><span class="selector-class">.el-input-group</span><span class="selector-class">.el-input-group--prepend</span><span class="selector-pseudo">:nth-child</span>(<span class="number">1</span>)<span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;输入QQ号会自动获取昵称和头像&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.el-input</span><span class="selector-class">.el-input--small</span><span class="selector-class">.el-input-group</span><span class="selector-class">.el-input-group--prepend</span><span class="selector-pseudo">:nth-child</span>(<span class="number">2</span>)<span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;收到回复将会发送到你的邮箱&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.el-input</span><span class="selector-class">.el-input--small</span><span class="selector-class">.el-input-group</span><span class="selector-class">.el-input-group--prepend</span><span class="selector-pseudo">:nth-child</span>(<span class="number">3</span>)<span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;可以通过昵称访问你的网站&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.el-input</span><span class="selector-class">.el-input--small</span><span class="selector-class">.el-input-group</span><span class="selector-class">.el-input-group--prepend</span><span class="selector-pseudo">:focus</span>-within<span class="selector-pseudo">::after</span>, <span class="selector-class">.el-input</span><span class="selector-class">.el-input--small</span><span class="selector-class">.el-input-group</span><span class="selector-class">.el-input-group--prepend</span><span class="selector-pseudo">:focus</span>-within<span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: block</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.el-input</span><span class="selector-class">.el-input--small</span><span class="selector-class">.el-input-group</span><span class="selector-class">.el-input-group--prepend</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: -<span class="number">60px</span>;</span><br><span class="line">    <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>);</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">14px</span> <span class="number">18px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#444</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.el-input</span><span class="selector-class">.el-input--small</span><span class="selector-class">.el-input-group</span><span class="selector-class">.el-input-group--prepend</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">12px</span> solid transparent;</span><br><span class="line">    <span class="attribute">border-top-color</span>: <span class="number">#444</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>, -<span class="number">48px</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.vwrap</span> &#123;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">2px</span> <span class="number">2px</span> <span class="number">5px</span> <span class="number">#bbb</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, .<span class="number">3</span>);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">30px</span> <span class="number">0</span> <span class="number">30px</span> <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.vcard</span> &#123;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">2px</span> <span class="number">2px</span> <span class="number">5px</span> <span class="number">#bbb</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, .<span class="number">3</span>);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">30px</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#twikoo</span> <span class="selector-class">.tk-extra</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--zhsher-card-bg);</span><br><span class="line">    <span class="attribute">border</span>: <span class="built_in">var</span>(--style-border-always);</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">4px</span> <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">margin-right</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--zhsher-secondtext);</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">6px</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: .<span class="number">8rem</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#twikoo</span> <span class="selector-class">.tk-extra-text</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: .<span class="number">5rem</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#twikoo</span> <span class="selector-class">.tk-replies</span> <span class="selector-class">.tk-content</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: .<span class="number">9rem</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#twikoo</span> <span class="selector-class">.tk-content</span> &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.tk-content</span> <span class="selector-tag">span</span> <span class="selector-tag">a</span><span class="selector-pseudo">:not</span>(<span class="selector-attr">[data-fancybox=gallery]</span>) &#123;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">500</span>;</span><br><span class="line">    <span class="attribute">border-bottom</span>: solid <span class="number">2px</span> <span class="built_in">var</span>(--zhsher-lighttext);</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--zhsher-fontcolor);</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> .<span class="number">2em</span>;</span><br><span class="line">    <span class="attribute">text-decoration</span>: none</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.tk-content</span> <span class="selector-tag">span</span> <span class="selector-tag">a</span><span class="selector-pseudo">:not</span>(<span class="selector-attr">[data-fancybox=gallery]</span>)<span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--zhsher-white);</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--zhsher-theme);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">4px</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.tk-main</span> <span class="selector-class">.tk-content</span> <span class="selector-tag">span</span> &gt; <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">border-bottom</span>: none</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#post-comment</span> <span class="selector-class">.comment-head</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: .<span class="number">8em</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: .<span class="number">5rem</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.el-input</span><span class="selector-class">.el-input--small</span><span class="selector-class">.el-input-group</span><span class="selector-class">.el-input-group--prepend</span><span class="selector-pseudo">:focus</span>-within<span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">animation</span>: commonTipsIn .<span class="number">3s</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> commonTipsIn &#123;</span><br><span class="line">    <span class="number">0%</span> &#123;</span><br><span class="line">        <span class="attribute">top</span>: -<span class="number">50px</span>;</span><br><span class="line">        <span class="attribute">opacity</span>: <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">100%</span> &#123;</span><br><span class="line">        <span class="attribute">top</span>: -<span class="number">60px</span>;</span><br><span class="line">        <span class="attribute">opacity</span>: <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#twikoo</span> <span class="selector-class">.tk-input</span> <span class="selector-class">.el-textarea__inner</span> &#123;</span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">130px</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">resize</span>: vertical;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">16px</span> <span class="number">16px</span> <span class="number">40px</span> <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">1.5</span>;</span><br><span class="line">    <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: inherit;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#606266</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--zhsher-card-bg);</span><br><span class="line">    <span class="attribute">border</span>: <span class="built_in">var</span>(--style-border-always);</span><br><span class="line">    <span class="attribute">transition</span>: border-color .<span class="number">2s</span> <span class="built_in">cubic-bezier</span>(.<span class="number">645</span>, .<span class="number">045</span>, .<span class="number">355</span>, <span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#page</span> <span class="selector-class">.el-textarea__inner</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--zhsher-card-bg) <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="built_in">var</span>(--zhsher-shadow-border);</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--zhsher-fontcolor) <span class="meta">!important</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#twikoo</span><span class="selector-class">.twikoo</span> <span class="selector-class">.el-input__inner</span><span class="selector-pseudo">:focus</span>, <span class="selector-id">#twikoo</span><span class="selector-class">.twikoo</span> <span class="selector-class">.el-textarea__inner</span><span class="selector-pseudo">:focus</span> &#123;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="built_in">var</span>(--zhsher-main)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.tk-comments-container</span> &gt; <span class="selector-class">.tk-comment</span> &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">0</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">1rem</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">transition</span>: .<span class="number">3s</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding-top</span>: <span class="number">1rem</span>;</span><br><span class="line">    <span class="attribute">border</span>: none;</span><br><span class="line">    <span class="attribute">border-top</span>: <span class="built_in">var</span>(--style-border-dashed)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#post-comment</span> <span class="selector-class">.comment-tips</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">103</span>, <span class="number">194</span>, <span class="number">58</span>, .<span class="number">13</span>);</span><br><span class="line">    <span class="attribute">border</span>: <span class="built_in">var</span>(--style-border-always);</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="built_in">var</span>(--zhsher-green);</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--zhsher-green);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">8px</span> <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: .<span class="number">5rem</span>;</span><br><span class="line">    <span class="attribute">display</span>: none</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#post-comment</span> <span class="selector-class">.comment-tips</span><span class="selector-class">.show</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#page</span> <span class="selector-class">.tk-comments-container</span> &gt; <span class="selector-class">.tk-comment</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--zhsher-card-bg);</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">1rem</span>;</span><br><span class="line">    <span class="attribute">padding-bottom</span>: <span class="number">1rem</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="built_in">var</span>(--style-border);</span><br><span class="line">    <span class="attribute">border-top</span>: <span class="built_in">var</span>(--style-border);</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="built_in">var</span>(--zhsher-shadow-border)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.tk-content</span> &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>: .<span class="number">5rem</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: auto;</span><br><span class="line">    <span class="attribute">max-height</span>: <span class="number">500px</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.page</span> <span class="selector-class">.el-input__inner</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--zhsher-card-bg) <span class="meta">!important</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.tk-comments</span> <span class="selector-class">.tk-row-actions-start</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">top</span>: -<span class="number">56px</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">17px</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.tk-comments</span> <span class="selector-class">.tk-main</span> <span class="selector-class">.tk-row-actions-start</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">top</span>: -<span class="number">56px</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">2px</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.OwO</span> <span class="selector-class">.OwO-body</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="built_in">var</span>(--style-border-always) <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--zhsher-maskbg) <span class="meta">!important</span>;</span><br><span class="line">    backdrop-<span class="attribute">filter</span>: <span class="built_in">saturate</span>(<span class="number">180%</span>) <span class="built_in">blur</span>(<span class="number">10px</span>);</span><br><span class="line">    <span class="attribute">cursor</span>: auto;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">2.1em</span> <span class="meta">!important</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">768px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.OwO</span> <span class="selector-class">.OwO-body</span> &#123;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">260px</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.tk-comments</span> <span class="selector-class">.tk-main</span> <span class="selector-class">.tk-row-actions-start</span> &#123;</span><br><span class="line">        <span class="attribute">left</span>: <span class="number">30px</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.OwO</span> <span class="selector-class">.OwO-body</span> <span class="selector-class">.OwO-items</span> <span class="selector-class">.OwO-item</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="built_in">var</span>(--zhsher-shadow-lightblack) <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#post-comment</span> <span class="selector-class">.tk-avatar</span><span class="selector-class">.tk-clickable</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">5px</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* gif动图 */</span></span><br><span class="line"><span class="selector-class">.tk-input</span> <span class="selector-tag">textarea</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&#x27;https://zhsher.cn/Hexo_img/config/Twikooback.gif&#x27;</span>);<span class="comment">/* 图片地址 */</span></span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">120px</span> <span class="meta">!important</span>; <span class="comment">/* 默认是75px 拉高评论框大小 */</span></span><br><span class="line">    <span class="attribute">background-size</span>:<span class="number">10em</span> <span class="number">10em</span>; <span class="comment">/* 设置图片长宽 */</span></span><br><span class="line">    <span class="comment">/* background-color: #ffffff; */</span></span><br><span class="line">    <span class="attribute">transition</span>: all <span class="number">0.25s</span> ease-in-out <span class="number">0s</span>; <span class="comment">/* 动画过渡 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.tk-input</span> <span class="selector-tag">textarea</span><span class="selector-pseudo">:focus</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>-y: <span class="number">130px</span>;</span><br><span class="line">    <span class="attribute">transition</span>: all <span class="number">2s</span> ease-in-out <span class="number">0s</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改主题配置文件<code>_config.butterfly.yml</code>，引入css文件</p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">  # - &lt;link rel=&quot;stylesheet&quot; href=&quot;/xxx.css&quot;&gt;</span><br><span class="line"><span class="addition">+   - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/twikoo.css&quot;&gt;</span></span><br></pre></td></tr></table></figure><h4 id="Twikoo回复邮件模板"><a href="#Twikoo回复邮件模板" class="headerlink" title="Twikoo回复邮件模板"></a>Twikoo回复邮件模板</h4><blockquote><p>原文地址：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.zhheo.com/p/169a1abb.html">Twikoo评论回复邮件模板：Acrylic Mail 粉 | 张洪Heo</a></p></blockquote><p>在前端面板修改配置</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line">&lt;<span class="selector-tag">div</span> class=&quot;page <span class="attribute">flex</span>-col&quot;&gt;</span><br><span class="line">  &lt;<span class="selector-tag">div</span> class=&quot;box_3 <span class="attribute">flex</span>-col&quot; style=&quot;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">206px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#ef859d2e</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">&quot;&gt;&lt;<span class="selector-tag">div</span> class=&quot;section_1 <span class="attribute">flex</span>-col&quot; style=&quot;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&amp;quot;这里更改为你的网站图标&amp;quot;</span>);</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">152px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">152px</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">130px</span>;</span><br><span class="line">  <span class="attribute">background-size</span>: cover;</span><br><span class="line">&quot;&gt;&lt;/<span class="selector-tag">div</span>&gt;&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">  &lt;<span class="selector-tag">div</span> class=&quot;box_4 <span class="attribute">flex</span>-col&quot; style=&quot;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">92px</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">&quot;&gt;</span><br><span class="line">    &lt;<span class="selector-tag">div</span> class=&quot;text-group_5 <span class="attribute">flex</span>-col justify-between&quot; style=&quot;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">20px</span>;</span><br><span class="line">&quot;&gt;</span><br><span class="line">      &lt;<span class="selector-tag">span</span> class=&quot;text_1&quot; style=&quot;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">26px</span>;</span><br><span class="line">  <span class="attribute">font-family</span>: PingFang-SC-Bold, PingFang-SC;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#000000</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">37px</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">&quot;&gt;嘿！你在&amp;nbsp;$&#123;SITE_NAME&#125;&amp;nbsp;博客中收到一条新回复。&lt;/<span class="selector-tag">span</span>&gt;</span><br><span class="line">      &lt;<span class="selector-tag">span</span> class=&quot;text_2&quot; style=&quot;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">  <span class="attribute">font-family</span>: PingFang-SC-Bold, PingFang-SC;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#00000030</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">22px</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">21px</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">&quot;&gt;你之前的评论&amp;nbsp;在&amp;nbsp;$&#123;SITE_NAME&#125; 博客中收到来自&amp;nbsp;$&#123;NICK&#125;&amp;nbsp;的回复&lt;/<span class="selector-tag">span</span>&gt;</span><br><span class="line">    &lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">    &lt;<span class="selector-tag">div</span> class=&quot;box_2 <span class="attribute">flex</span>-row&quot; style=&quot;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">min-height</span>: <span class="number">128px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#F7F7F7</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">34px</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="attribute">align-items</span>: flex-start;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">32px</span> <span class="number">16px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="built_in">calc</span>(<span class="number">100%</span> - <span class="number">40px</span>);</span><br><span class="line">&quot;&gt;</span><br><span class="line">      </span><br><span class="line">      &lt;<span class="selector-tag">div</span> class=&quot;text-wrapper_4 <span class="attribute">flex</span>-col justify-between&quot; style=&quot;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">16px</span>;</span><br><span class="line">&quot;&gt;</span><br><span class="line">        &lt;<span class="selector-tag">span</span> class=&quot;text_3&quot; style=&quot;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">22px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">  <span class="attribute">font-family</span>: PingFang-SC-Bold, PingFang-SC;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#C5343E</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">22px</span>;</span><br><span class="line">&quot;&gt;$&#123;PARENT_NICK&#125;&lt;/<span class="selector-tag">span</span>&gt;</span><br><span class="line">        &lt;<span class="selector-tag">span</span> class=&quot;text_4&quot; style=&quot;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">6px</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">22px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">  <span class="attribute">font-family</span>: PingFangSC-Regular, PingFang SC;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">400</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#000000</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">22px</span>;</span><br><span class="line">&quot;&gt;$&#123;PARENT_COMMENT&#125;&lt;/<span class="selector-tag">span</span>&gt;</span><br><span class="line">      &lt;/<span class="selector-tag">div</span>&gt;&lt;hr style=&quot;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> dashed <span class="number">#ef859d2e</span>;</span><br><span class="line">    <span class="attribute">box-sizing</span>: content-box;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0px</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: visible;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&quot;&gt;&lt;<span class="selector-tag">div</span> class=&quot;text-wrapper_4 <span class="attribute">flex</span>-col justify-between&quot; style=&quot;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">30px</span>;</span><br><span class="line">&quot;&gt;</span><br><span class="line">&lt;hr&gt;</span><br><span class="line">        &lt;<span class="selector-tag">span</span> class=&quot;text_3&quot; style=&quot;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">22px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">  <span class="attribute">font-family</span>: PingFang-SC-Bold, PingFang-SC;</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#C5343E</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">22px</span>;</span><br><span class="line">&quot;&gt;$&#123;NICK&#125;&lt;/<span class="selector-tag">span</span>&gt;</span><br><span class="line">        &lt;<span class="selector-tag">span</span> class=&quot;text_4&quot; style=&quot;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">6px</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">22px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">  <span class="attribute">font-family</span>: PingFangSC-Regular, PingFang SC;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">400</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#000000</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">22px</span>;</span><br><span class="line">&quot;&gt;$&#123;COMMENT&#125;&lt;/<span class="selector-tag">span</span>&gt;</span><br><span class="line">      &lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">      </span><br><span class="line">      &lt;<span class="selector-tag">a</span> class=&quot;text-wrapper_2 <span class="attribute">flex</span>-col&quot; style=&quot;</span><br><span class="line">  <span class="attribute">min-width</span>: <span class="number">106px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">38px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#ef859d38</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">32px</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">  <span class="attribute">margin</span>: auto;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">32px</span>;</span><br><span class="line">&quot; href=&quot;$&#123;POST_URL&#125;&quot;&gt;</span><br><span class="line">        &lt;<span class="selector-tag">span</span> class=&quot;text_5&quot; style=&quot;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#DB214B</span>;</span><br><span class="line">&quot;&gt;查看详情&lt;/<span class="selector-tag">span</span>&gt;</span><br><span class="line">      &lt;/<span class="selector-tag">a</span>&gt;</span><br><span class="line">    &lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">    &lt;<span class="selector-tag">div</span> class=&quot;text-group_6 <span class="attribute">flex</span>-col justify-between&quot; style=&quot;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-direction</span>: column;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">34px</span>;</span><br><span class="line">&quot;&gt;</span><br><span class="line">      &lt;<span class="selector-tag">span</span> class=&quot;text_6&quot; style=&quot;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">17px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">font-family</span>: PingFangSC-Regular, PingFang SC;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">400</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#00000045</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">17px</span>;</span><br><span class="line">&quot;&gt;此邮件由评论服务自动发出，直接回复无效。&lt;/<span class="selector-tag">span</span>&gt;</span><br><span class="line">      &lt;<span class="selector-tag">a</span> class=&quot;text_7&quot; style=&quot;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">17px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">font-family</span>: PingFangSC-Regular, PingFang SC;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">400</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#DB214B</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">17px</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">6px</span>;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">&quot; href=&quot;$&#123;SITE_URL&#125;&quot;&gt;前往博客&lt;/<span class="selector-tag">a</span>&gt;</span><br><span class="line">    &lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">  &lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line">&lt;/<span class="selector-tag">div</span>&gt;</span><br></pre></td></tr></table></figure><h3 id="底部徽标美化"><a href="#底部徽标美化" class="headerlink" title="底部徽标美化"></a>底部徽标美化</h3><blockquote><p>原文地址：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://akilar.top/posts/e87ad7f8/">徽标 | Akilarの糖果屋</a></p><p>徽标我使用<a target="_blank" rel="noopener external nofollow noreferrer" href="https://shields.io/">shields.io</a>在线生成，没有使用插件。Akilar的插件有动画效果，可以试一试！</p></blockquote><p>shields.io格式：<code>https://img.shields.io/badge/左侧文字-右侧文字-色值?style=flat&amp;logo=xxx</code>，色值支持十六进制、rgb、rgba、hsl、hsla，中文及符号需要<a target="_blank" rel="noopener external nofollow noreferrer" href="https://tool.oschina.net/commons?type=2">转义字符对照表</a></p><p>logo设定：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://simpleicons.org/">logo图标查询</a>，如果没有对应图标可以使用<a target="_blank" rel="noopener external nofollow noreferrer" href="https://tool.jisuapi.com/pic2base64.html">在线图片转BASE64</a></p><p>html写好后，通过<a target="_blank" rel="noopener external nofollow noreferrer" href="http://tool.ggo.net/htmlpack/">在线HTML压缩</a>将<code>&lt;body&gt;</code>中的内容压缩（不包括body），之后在主题配置文件<code>_config.butterfly.yml</code>中引入</p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">footer:</span><br><span class="line"><span class="deletion">-  custom_text:</span></span><br><span class="line"><span class="addition">+  custom_text: 压缩的html代码</span></span><br></pre></td></tr></table></figure><p>附我的模板，建议将徽标图片在网页中保存到博客路径中，而不是使用url，因为shields访问速度慢</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span>&gt;</span>满地都是六便士 我想抬头看月亮<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">&lt;!-- 			&lt;a onclick=&quot;window.open(&#x27;https://beian.miit.gov.cn/#/Integrated/index&#x27;)&quot;</span></span><br><span class="line"><span class="comment">				class=&quot;footer-a&quot;&gt;晋ICP备2022005322号&lt;/a&gt; --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;margin-inline:5px&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://beian.miit.gov.cn/#/Integrated/index/&quot;</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://img.shields.io/badge/%E6%99%8BICP%E5%A4%87-2022005322%E5%8F%B7--1-e1d492?style=flat&amp;logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAdCAYAAAC9pNwMAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+nhxg7wAACNlJREFUSInF1mmMVeUdx/Hv2e+5+519mJWBYQZkGxZZxLKJqBXGoLS1iXWrmihotFXaJiTWWlsbl6q1aetWd5u0VkKjNG4YEJSlOCibDLMwM8x679z9nnPP1jcVJUxf+7z6J8+LT37/Z4VvaQhfFS8+sBXbctCDGrVTKlBUH4mxAbI9Hfj0IJLsp6paJ5/tmn20N/D0wKDRMq9F/c3M2U1/V0vDfWMFh+tv/Ig1zYPMabDImPJ52OaXO87W580KggCiiOsJOJ6I3wcNFaaeNKxrt72f2fLGu4FpJ/sDQABRzD22fH7/Yze069vGc6mrDLNIJCDik10sxz2by3VdPM87xzkP9jwPTZFRVI1YUJKH+oy7n3tbvv/P2wW/UQxRWe6w4ZJRptYLHDoCuz8v5cP92XbI762O+h6UVWHnUFbPpU0fEb2A60mMJ7MUi9b/b7UgKhiZMaIxm8YLplLMDPz8hl/EH+rs8TNlUpFf32uyZJGLPDwCiTGUyTWodTN49eUCdz2YwXb9NNcObp1X98WDoufynzMVCEKGn27ayPTWBi5ad8P5iQUkJEnFLjqM9Z+hrVX0vfDe6K2dPRWsW2bwyp9EUifSJB84gdxrkR0eRgv1o/3I4fbbprJ6scqamzVO9pffec1S5ZWY2Nfz5qEy/FqOC2Y3s3j53HMSi18VRjFPwSwg+1RfVbl115vvJrsfej7UGIsYPPGgQ7JXoO+Xx5B3dHEomyJ9x1qiQozkr95h5937aFnVyouPlgJK+Ss7Fxz64OTSxSX+LHYxT2IsRW5kbGI4oHcR0jqoqTjV9se3I7/f8rS/ClS23GxSXhph6L5d9Akm7qqZhHWBQGUJ+CWGFzcg7e7m6D3/ZuW1Ea5YKdA3EojuONi813TqNi+YPYOKUhXDtCeGL26/hakLLiEcdsaHRkRAoLRc4fJrmhnekyF0apgZowWSwwkaa+rw3f8WA1GZZsPP5JEChX8dhZTN6iU6kAcs5s+dHd183SJ0VVKL57pfw6YdRQw23aeWTns47DPTALWlRTR7kMLew6hGgYqUhWXYFFUdPZ6lUBahLA8hVcOftckfi7No7VRAAQqsX1dybfvG1qwriM9mM5mJ4e4jO5Cc01dPqixbr8tWGBQUL4vjGigEEShi+xUmZ2RiR/sJ1pbS8NkgZrKAGw0TsgQsQyFaF/nfYTGprAlMFysbA1pI3mhkR6snhGsaymYGvPyFEb9IdbUE2AzFFTwpRqCtBY0wmdER+hZW4j63gcJj38V+/ErSUZXsYBfjIZHIRW0c2Z8BskCAqN+CbBJBFnyyKjR+Ez57nBxLqpfMUeSISElMBFz6x2Q6OxzWrYjyxWVzEewioU3LCS5vQY6nMUrLwNaxXvoQ59IloFSx54PPAZtQLExVZZDxsVE8J4dn6v4JYatgbSjk0owPw7RGH2ADMo88Z7L20ip8f7gC7fAo0q4+0rt7kEQDvaghVZbiPHUHcyeXcfLjT3jmpR7AYsnSScya3UR8bARVMck7Y/cB75/X6rDf3Fg2dw2jKZm5dXGm1LuAzO5DCo9v6aT0ibco5kzOvLOP+NGTFJtDpPYeZKijk/Rn3QxsfZV7txwhX7ABiZUXBsGvIvguQApNQQva9RMmTvZ2dpVUls+tX/UD7GN/Y8Ws05w6rQF+9vyzg1vZjbvMRJhXiRSU8DpTFFe0QE8S6SfPkOkZoktrB2oAhZWrwljxOPmchiSMYOWNoxNuruFU5vWeXdsojiUon345113dBBQBmTYlTimgdB8nfPo4WjaNFgN9OMEkJ02dnadVt5ki54Esqy+bzKJltVhSPbI3iN2zCyMTeXNCuG7Omm2Zok7PR2+R7jvD8ouruHhmCrB5jVZeYxLdrTP4sr4Vtd9g4MA4qc4c+6cu5NPamfw4P59t2WrA4YdXKkASf7SFivo6PDdEPmf1fRM++zp1bH/0r4I1dD1ODtOWaW4IsvPjL7nqXhloQiSPwjjgMYkMASyGEBkjhISCQwkwzve/18AbT+pk8pVY4UacQi9y+gyZ0eRAw4qHa89LXEx1LXMSPfhDJYRb59BtlLKg2WPT2l6qYl1svtGkrLYckyA1S+t5+2ATm37WCui0LSynsckDNH5zTxAchbQtkx08hDHYiW6NgC0enHBzEZ102UDH8QORdEckjEzZrNWkRydzyx17uGnDXqbUnGZ6dRPjSY91q2TqwjFuvTxLo5Zn5Qo/pumRSFcTLQtybEhGE0fQrDhhJ0VvH2lTnnHPhGtsmWan469apERjI2MH3qN7+7MEfH6ql29CbV7PvsMG32k6yU2XDhEKyZw66eJaRdrXR7CzCcqUNC3zwgymPJRCH4KRRLINimpL14A5Y4GDeOqbsPRVcfuN7Xj44pav/hFfrNT2kr2rsqf2Ibp5pEA14ZIImUyW3t5REkkTXRGQ/DGGhtLginhqCWknQDE5hKf5UFSF9Lj020Q2ul5V1AR2hr+8vuP8Vlc2zMPRxoSjnx7XBC14sDoydahSGq7KdO/HFyrBchxCVfX4fDKp4T7SCQejYODZLrYgIqgKFsNIgQqEYob8mW6yiUyb7Z64LVK/+B85xznnJ3AWzqTzuIX46mr5wLs+UUTyIriBCjRNxguHMJIFDLEEvXEOVRWnSJ0+jCd4CJoGjoedM1CLcXQziW3nMV2TSMBeOx7vWZvPt1r+cMPzE8KunaUkFn0vNrvtqXj34c1W6gzxlEQ6naIoBahtnkMwoFMwIVzSRNguMt53Aj2s4nkSlgPoGqLkICsRNF0gl8rYWuP8+11/w/OOJDEhHPKLCIpOXmi+M9AgP+maiesLifF2T1Rn5ZNj5Lo/Qc/GcPMmhdoqlEgIGzCK4PiCmJKK68p4KfF3qYGuF0qCRUkJTzleUbvQyWRTuE5xYthxQbBs7EISAbkzUFG3VfXXbK2YFi3X/eryfKKnqVBItNjJxDzH8erddC4SqWwcN5WyTtlyO1RP/Lh3eHD76MB40swmiDVJyDLYRhpc5+ub6tse/wWKbvSQEAw1awAAAABJRU5ErkJggg==</span></span></span><br><span class="line"><span class="string"><span class="tag">				&quot;</span> <span class="attr">title</span>=<span class="string">&quot;ICP备案&quot;</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;margin-inline:5px&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://hexo.io/&quot;</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo&quot;</span> <span class="attr">title</span>=<span class="string">&quot;博客框架为Hexo&quot;</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;margin-inline:5px&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://butterfly.js.org/&quot;</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAMAAADX9CSSAAABnlBMVEUAAAAYERBJLh1JJBTeu7EjEgo5HRRaHjwxIBsaEQ4dHSEeOUjZ2dk8JBs0Mzza3dodExQcFhIZNVBfNyxXQjBWTklxaWRAX3EkEgZWHEwiEQAZZIgPDxIUOFhAOzYobpQ8orkjXoJHoLjJyclBdYokJCE7PUItKyxFSVE4obJQPStAkp80s8pAJBMcWHUOJUERFBgQAAAfNEoPIzsndpklIi0gIi4SFBkcP2wcVXAcQnEmTWomcZkoT20sZY4uOD8fHR4pVnopVnlDbHM6kqIziJmqqqUnoPg1zP8vyP84vf8/wf8xw/8ltP9L4v8lv/8wz/8nzv4bVpop2f8xy/8osf440P8u5P8mk/QjjPUvfKojp/EchdIyu/Ahbs0YXqIio/8pxP8qxvs5wvgnh94lsP1C0f9A6/87xP4puv8lqP1Czf8znO1Ax/8KDQs7qv8ldKsnxv8ulcI64/ImpNw75P8s9P8tuP0sPkotjc4oKz8nrPMhme4gluomdZ1B3f84sf9Crtgtfa4tYYw4sv9CrdUuZJJB3P8kbNEjb9U867bWAAAAR3RSTlMAxTQTEU0fAidq1OoDG2MYdYfmF8bLTsr9CQ/p1PhE6fL+9gnlq4+KH8p0d9vj/fj3P+H267m99MH5xoz+lONNu9PS5vrxNhiY9jsAAAGGSURBVHhefY/VbuMAEEXHiWs7YIeZysyMi2AOMzOUmXn5r3fXTtT2oXuk0Ujn4d4ZeA3tMEHiLxVJDGthSG18P6h4ZhWDH4zqIXi3u8899FMAWpCG6v/O7+8igCFf93b8vRTo+qBPB1Svf2fvB0IAKDTb91v+7rcoCijq7fZvfdvWSLkDaZ6vN0ZMOtCZRhp1nn8ckIpUPRzX/Hk0hn5Bx47umhzXo5L9usAGmZNxq8U6fsIEWeFW9jMrQjTInl3ZJmxXZ2wwKkx2SR7T5BgmGvt9ab/8FYsyTE5DSB5X+SrxOHtxbj+/YOPxyry+/X+XqxxJJE4/2T+fJhKRskuOAWw2UwpFIqGPE7Z/q5QxyjmKuRsxEDo4tpgtxwehgHg95ZW8Q53drLUCh2ar+TDQqm1m1UqQMBSKdExMj8JoWozRxYKh0+tJ0TTtIwB783cnPe1eULrDqWR1Awd8rZpMhd2mtsdVS+H8KgkA5HI+PK13QAc9sijfhi0gBngCdyo7mU4c/scfy35OuevmbR0AAAAASUVORK5CYII=</span></span></span><br><span class="line"><span class="string"><span class="tag">				&quot;</span> <span class="attr">title</span>=<span class="string">&quot;主题采用butterfly&quot;</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line">			<span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;margin-inline:5px&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://cloud.tencent.com/ &quot;</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://img.shields.io/badge/Hosted-腾讯云-0cedbe?style=flat&amp;logo=iCloud&quot;</span></span></span><br><span class="line"><span class="tag">					<span class="attr">title</span>=<span class="string">&quot;本站采用双线部署，国内线路托管于腾讯云&quot;</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line">			<span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;margin-inline:5px&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://github.com/&quot;</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub&quot;</span></span></span><br><span class="line"><span class="tag">					<span class="attr">title</span>=<span class="string">&quot;本站采用双线部署，国外线路托管于Github&quot;</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">a</span> <span class="attr">style</span>=<span class="string">&quot;margin-inline:5px&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span> <span class="attr">href</span>=<span class="string">&quot;http://creativecommons.org/licenses/by-nc-sa/4.0/&quot;</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris&quot;</span></span></span><br><span class="line"><span class="tag">					<span class="attr">title</span>=<span class="string">&quot;本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可&quot;</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="一图流"><a href="#一图流" class="headerlink" title="一图流"></a>一图流</h3><blockquote><p>原文地址：</p><ul><li><p>小冰老师方案：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://zfe.space/post/65396.html">一图流和视频流背景</a></p></li><li><p>店长方案：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://akilar.top/posts/ebf20e02/">Custom Beautify Akilarの糖果屋</a></p></li><li><p>小嘉的部落格：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.imzjw.cn/posts/b74f504f/#%E5%85%A8%E5%B1%80%E8%83%8C%E6%99%AF%E9%80%8F%E6%98%8E%E6%B8%90%E5%8F%98">关于我 Butterfly 主题的所有美化 | 小嘉的部落格</a></p></li></ul><p>小张采用店长方案</p></blockquote><p>修改主题配置文件<code>_config.butterfly.yml</code>，<code>background</code>配置项，设置全局背景</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Website Background (設置網站背景)</span></span><br><span class="line"><span class="comment"># can set it to color or image (可設置圖片 或者 顔色)</span></span><br><span class="line"><span class="comment"># The formal of image: url(http://xxxxxx.com/xxx.jpg)</span></span><br><span class="line"><span class="attr">background:</span> <span class="string">url(http://xxxxxx.com/xxx.jpg)</span>  </span><br></pre></td></tr></table></figure><p>新建<code>[BlogRoot]/source/css/bg.css</code></p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 页脚透明 */</span></span><br><span class="line"><span class="selector-id">#footer</span>&#123;</span><br><span class="line">  <span class="attribute">background</span>: transparent<span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 页脚黑色透明玻璃效果移除 */</span></span><br><span class="line"><span class="selector-id">#footer</span><span class="selector-pseudo">::before</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: transparent<span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="comment">/* 头图透明 */</span></span><br><span class="line"><span class="selector-id">#page-header</span>&#123;</span><br><span class="line">  <span class="attribute">background</span>: transparent<span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 头图遮罩层透明 */</span></span><br><span class="line"><span class="selector-id">#page-header</span><span class="selector-pseudo">::before</span>&#123;</span><br><span class="line">  <span class="attribute">background</span>: transparent<span class="meta">!important</span>;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="comment">/*top-img黑色透明玻璃效果移除，不建议加，除非你执着于完全一图流或者背景图对比色明显 */</span></span><br><span class="line"><span class="selector-id">#page-header</span><span class="selector-class">.post-bg</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: transparent<span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*夜间模式伪类遮罩层透明*/</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span></span><br><span class="line">  <span class="selector-id">#footer</span><span class="selector-pseudo">::before</span>&#123;</span><br><span class="line">      <span class="attribute">background</span>: transparent<span class="meta">!important</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span></span><br><span class="line">  <span class="selector-id">#page-header</span><span class="selector-pseudo">::before</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: transparent<span class="meta">!important</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>修改主题配置文件<code>_config.butterfly.yml</code>，引入css文件</p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">  # - &lt;link rel=&quot;stylesheet&quot; href=&quot;/xxx.css&quot;&gt;</span><br><span class="line"><span class="addition">+  - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/bg.css&quot;&gt;</span></span><br></pre></td></tr></table></figure><h3 id="夜间模式繁星"><a href="#夜间模式繁星" class="headerlink" title="夜间模式繁星"></a>夜间模式繁星</h3><blockquote><p>原文地址：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.leonus.cn/2022/universe.html">Hexo博客夜间模式繁星（宇宙）效果 | Leonus</a></p></blockquote><p>新建<code>[BlogRoot]/source/js/universe.js</code></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">dark</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">requestAnimationFrame</span> = <span class="variable language_">window</span>.<span class="property">requestAnimationFrame</span> || <span class="variable language_">window</span>.<span class="property">mozRequestAnimationFrame</span> || <span class="variable language_">window</span>.<span class="property">webkitRequestAnimationFrame</span> || <span class="variable language_">window</span>.<span class="property">msRequestAnimationFrame</span>;</span><br><span class="line">    <span class="keyword">var</span> n, e, i, h, t = <span class="number">.05</span>,</span><br><span class="line">        s = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;universe&quot;</span>),</span><br><span class="line">        o = !<span class="number">0</span>,</span><br><span class="line">        a = <span class="string">&quot;180,184,240&quot;</span>,</span><br><span class="line">        r = <span class="string">&quot;226,225,142&quot;</span>,</span><br><span class="line">        d = <span class="string">&quot;226,225,224&quot;</span>,</span><br><span class="line">        c = [];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">f</span>(<span class="params"></span>) &#123;</span><br><span class="line">        n = <span class="variable language_">window</span>.<span class="property">innerWidth</span>, e = <span class="variable language_">window</span>.<span class="property">innerHeight</span>, i = <span class="number">.216</span> * n, s.<span class="title function_">setAttribute</span>(<span class="string">&quot;width&quot;</span>, n), s.<span class="title function_">setAttribute</span>(<span class="string">&quot;height&quot;</span>, e)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">u</span>(<span class="params"></span>) &#123;</span><br><span class="line">        h.<span class="title function_">clearRect</span>(<span class="number">0</span>, <span class="number">0</span>, n, e);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> t = c.<span class="property">length</span>, i = <span class="number">0</span>; i &lt; t; i++) &#123;</span><br><span class="line">            <span class="keyword">var</span> s = c[i];</span><br><span class="line">            s.<span class="title function_">move</span>(), s.<span class="title function_">fadeIn</span>(), s.<span class="title function_">fadeOut</span>(), s.<span class="title function_">draw</span>()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">y</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">reset</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">giant</span> = <span class="title function_">m</span>(<span class="number">3</span>), <span class="variable language_">this</span>.<span class="property">comet</span> = !<span class="variable language_">this</span>.<span class="property">giant</span> &amp;&amp; !o &amp;&amp; <span class="title function_">m</span>(<span class="number">10</span>), <span class="variable language_">this</span>.<span class="property">x</span> = <span class="title function_">l</span>(<span class="number">0</span>, n - <span class="number">10</span>), <span class="variable language_">this</span>.<span class="property">y</span> = <span class="title function_">l</span>(<span class="number">0</span>, e), <span class="variable language_">this</span>.<span class="property">r</span> = <span class="title function_">l</span>(<span class="number">1.1</span>, <span class="number">2.6</span>), <span class="variable language_">this</span>.<span class="property">dx</span> = <span class="title function_">l</span>(t, <span class="number">6</span> * t) + (<span class="variable language_">this</span>.<span class="property">comet</span> + <span class="number">1</span> - <span class="number">1</span>) * t * <span class="title function_">l</span>(<span class="number">50</span>, <span class="number">120</span>) + <span class="number">2</span> * t, <span class="variable language_">this</span>.<span class="property">dy</span> = -<span class="title function_">l</span>(t, <span class="number">6</span> * t) - (<span class="variable language_">this</span>.<span class="property">comet</span> + <span class="number">1</span> - <span class="number">1</span>) * t * <span class="title function_">l</span>(<span class="number">50</span>, <span class="number">120</span>), <span class="variable language_">this</span>.<span class="property">fadingOut</span> = <span class="literal">null</span>, <span class="variable language_">this</span>.<span class="property">fadingIn</span> = !<span class="number">0</span>, <span class="variable language_">this</span>.<span class="property">opacity</span> = <span class="number">0</span>, <span class="variable language_">this</span>.<span class="property">opacityTresh</span> = <span class="title function_">l</span>(<span class="number">.2</span>, <span class="number">1</span> - <span class="number">.4</span> * (<span class="variable language_">this</span>.<span class="property">comet</span> + <span class="number">1</span> - <span class="number">1</span>)), <span class="variable language_">this</span>.<span class="property">do</span> = <span class="title function_">l</span>(<span class="number">5e-4</span>, <span class="number">.002</span>) + <span class="number">.001</span> * (<span class="variable language_">this</span>.<span class="property">comet</span> + <span class="number">1</span> - <span class="number">1</span>)</span><br><span class="line">        &#125;, <span class="variable language_">this</span>.<span class="property">fadeIn</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">fadingIn</span> &amp;&amp; (<span class="variable language_">this</span>.<span class="property">fadingIn</span> = !(<span class="variable language_">this</span>.<span class="property">opacity</span> &gt; <span class="variable language_">this</span>.<span class="property">opacityTresh</span>), <span class="variable language_">this</span>.<span class="property">opacity</span> += <span class="variable language_">this</span>.<span class="property">do</span>)</span><br><span class="line">        &#125;, <span class="variable language_">this</span>.<span class="property">fadeOut</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">fadingOut</span> &amp;&amp; (<span class="variable language_">this</span>.<span class="property">fadingOut</span> = !(<span class="variable language_">this</span>.<span class="property">opacity</span> &lt; <span class="number">0</span>), <span class="variable language_">this</span>.<span class="property">opacity</span> -= <span class="variable language_">this</span>.<span class="property">do</span> /<span class="number">2</span>,(<span class="variable language_">this</span>.<span class="property">x</span>&gt;n||<span class="variable language_">this</span>.<span class="property">y</span>&lt;<span class="number">0</span>)&amp;&amp;(<span class="variable language_">this</span>.<span class="property">fadingOut</span>=!<span class="number">1</span>,<span class="variable language_">this</span>.<span class="title function_">reset</span>()))&#125;,<span class="variable language_">this</span>.<span class="property">draw</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;<span class="keyword">if</span>(h.<span class="title function_">beginPath</span>(),<span class="variable language_">this</span>.<span class="property">giant</span>)h.<span class="property">fillStyle</span>=<span class="string">&quot;rgba(&quot;</span>+a+<span class="string">&quot;,&quot;</span>+<span class="variable language_">this</span>.<span class="property">opacity</span>+<span class="string">&quot;)&quot;</span>,h.<span class="title function_">arc</span>(<span class="variable language_">this</span>.<span class="property">x</span>,<span class="variable language_">this</span>.<span class="property">y</span>,<span class="number">2</span>,<span class="number">0</span>,<span class="number">2</span>*<span class="title class_">Math</span>.<span class="property">PI</span>,!<span class="number">1</span>);<span class="keyword">else</span> <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">comet</span>)&#123;h.<span class="property">fillStyle</span>=<span class="string">&quot;rgba(&quot;</span>+d+<span class="string">&quot;,&quot;</span>+<span class="variable language_">this</span>.<span class="property">opacity</span>+<span class="string">&quot;)&quot;</span>,h.<span class="title function_">arc</span>(<span class="variable language_">this</span>.<span class="property">x</span>,<span class="variable language_">this</span>.<span class="property">y</span>,<span class="number">1.5</span>,<span class="number">0</span>,<span class="number">2</span>*<span class="title class_">Math</span>.<span class="property">PI</span>,!<span class="number">1</span>);<span class="keyword">for</span>(<span class="keyword">var</span> t=<span class="number">0</span>;t&lt;<span class="number">30</span>;t++)h.<span class="property">fillStyle</span>=<span class="string">&quot;rgba(&quot;</span>+d+<span class="string">&quot;,&quot;</span>+(<span class="variable language_">this</span>.<span class="property">opacity</span>-<span class="variable language_">this</span>.<span class="property">opacity</span>/<span class="number">20</span> * t) + <span class="string">&quot;)&quot;</span>, h.<span class="title function_">rect</span>(<span class="variable language_">this</span>.<span class="property">x</span> - <span class="variable language_">this</span>.<span class="property">dx</span> / <span class="number">4</span> * t, <span class="variable language_">this</span>.<span class="property">y</span> - <span class="variable language_">this</span>.<span class="property">dy</span> / <span class="number">4</span> * t - <span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>), h.<span class="title function_">fill</span>()</span><br><span class="line">        &#125; <span class="keyword">else</span> h.<span class="property">fillStyle</span> = <span class="string">&quot;rgba(&quot;</span> + r + <span class="string">&quot;,&quot;</span> + <span class="variable language_">this</span>.<span class="property">opacity</span> + <span class="string">&quot;)&quot;</span>, h.<span class="title function_">rect</span>(<span class="variable language_">this</span>.<span class="property">x</span>, <span class="variable language_">this</span>.<span class="property">y</span>, <span class="variable language_">this</span>.<span class="property">r</span>, <span class="variable language_">this</span>.<span class="property">r</span>);</span><br><span class="line">            h.<span class="title function_">closePath</span>(), h.<span class="title function_">fill</span>()</span><br><span class="line">        &#125;, <span class="variable language_">this</span>.<span class="property">move</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">x</span> += <span class="variable language_">this</span>.<span class="property">dx</span>, <span class="variable language_">this</span>.<span class="property">y</span> += <span class="variable language_">this</span>.<span class="property">dy</span>, !<span class="number">1</span> === <span class="variable language_">this</span>.<span class="property">fadingOut</span> &amp;&amp; <span class="variable language_">this</span>.<span class="title function_">reset</span>(), (<span class="variable language_">this</span>.<span class="property">x</span> &gt; n - n / <span class="number">4</span> || <span class="variable language_">this</span>.<span class="property">y</span> &lt; <span class="number">0</span>) &amp;&amp; (<span class="variable language_">this</span>.<span class="property">fadingOut</span> = !<span class="number">0</span>)</span><br><span class="line">        &#125;, <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            o = !<span class="number">1</span></span><br><span class="line">        &#125;, <span class="number">50</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">m</span>(<span class="params">t</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="number">1e3</span> * <span class="title class_">Math</span>.<span class="title function_">random</span>()) + <span class="number">1</span> &lt; <span class="number">10</span> * t</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">l</span>(<span class="params">t, i</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">random</span>() * (i - t) + t</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">f</span>(), <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;resize&quot;</span>, f, !<span class="number">1</span>), <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        h = s.<span class="title function_">getContext</span>(<span class="string">&quot;2d&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> t = <span class="number">0</span>; t &lt; i; t++) c[t] = <span class="keyword">new</span> y, c[t].<span class="title function_">reset</span>();</span><br><span class="line">        <span class="title function_">u</span>()</span><br><span class="line">    &#125;(), <span class="keyword">function</span> <span class="title function_">t</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&#x27;html&#x27;</span>)[<span class="number">0</span>].<span class="title function_">getAttribute</span>(<span class="string">&#x27;data-theme&#x27;</span>) == <span class="string">&#x27;dark&#x27;</span> &amp;&amp; <span class="title function_">u</span>(), <span class="variable language_">window</span>.<span class="title function_">requestAnimationFrame</span>(t)</span><br><span class="line">    &#125;()</span><br><span class="line">&#125;;</span><br><span class="line"><span class="title function_">dark</span>()</span><br></pre></td></tr></table></figure><p>新建<code>[BlogRoot]/source/css/universe.css</code></p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#universe</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">position</span>: fixed;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">outline</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">pointer-events</span>: none;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">768px</span>) &#123;</span><br><span class="line">    <span class="selector-id">#universe</span> &#123;</span><br><span class="line">        <span class="attribute">display</span>: none;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 下面这个是切换手机背景的代码，有需要的可以使用，没需要的删了就行 */</span></span><br><span class="line">    <span class="comment">/*#web_bg &#123;*/</span></span><br><span class="line">    <span class="comment">/*    background-image: url(&quot;https://img.vm.laomishuo.com/image/2021/05/2021053107390019.jpeg&quot;);*/</span></span><br><span class="line">    <span class="comment">/*&#125;*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* leonus微调 */</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&#x27;light&#x27;</span>]</span> <span class="selector-id">#universe</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改主题配置文件<code>_config.butterfly.yml</code>，引入css、js文件</p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">  # - &lt;link rel=&quot;stylesheet&quot; href=&quot;/xxx.css&quot;&gt;</span><br><span class="line"><span class="addition">+   - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/universe.css&quot;&gt;</span></span><br><span class="line">  bottom:</span><br><span class="line">  # - &lt;script src=&quot;xxxx&quot;&gt;&lt;/script&gt;</span><br><span class="line"><span class="addition">+   - &lt;canvas id=&quot;universe&quot;&gt;&lt;/canvas&gt; # 创建画布</span></span><br><span class="line"><span class="addition">+   - &lt;script async src=&quot;/js/universe.js&quot;&gt;&lt;/script&gt; # 引入js</span></span><br></pre></td></tr></table></figure><h3 id="友链申请按钮"><a href="#友链申请按钮" class="headerlink" title="友链申请按钮"></a>友链申请按钮</h3><blockquote><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.leonus.cn/">Leonus</a>控制台爬的</p></blockquote><p>新建<code>[BlogRoot]/source/css/applybutton.js</code></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 申请友链</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">linkCom</span>(<span class="params">type</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> n = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.el-textarea__inner&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> (type == <span class="string">&#x27;bf&#x27;</span>) &#123;</span><br><span class="line">        n.<span class="property">value</span> = <span class="string">&#x27;```yml\n&#x27;</span>;</span><br><span class="line">        n.<span class="property">value</span> += <span class="string">`- name: </span></span><br><span class="line"><span class="string">  link: </span></span><br><span class="line"><span class="string">  avatar: </span></span><br><span class="line"><span class="string">  descr:  `</span>;</span><br><span class="line">        n.<span class="property">value</span> += <span class="string">&#x27;\n```&#x27;</span>;</span><br><span class="line">        n.<span class="title function_">setSelectionRange</span>(<span class="number">15</span>, <span class="number">15</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        n.<span class="property">value</span> = <span class="string">&#x27;```yml\n&#x27;</span>;</span><br><span class="line">        n.<span class="property">value</span> += <span class="string">`站点名称：</span></span><br><span class="line"><span class="string">站点地址：</span></span><br><span class="line"><span class="string">头像链接：</span></span><br><span class="line"><span class="string">站点描述：`</span>;</span><br><span class="line">        n.<span class="property">value</span> += <span class="string">&#x27;\n```&#x27;</span>;</span><br><span class="line">        n.<span class="title function_">setSelectionRange</span>(<span class="number">5</span>, <span class="number">5</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    n.<span class="title function_">focus</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>新建<code>[BlogRoot]/source/css/applybutton.css</code></p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.addBtn</span> <span class="selector-tag">button</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#da6c7d</span>;</span><br><span class="line">    <span class="attribute">color</span>: white;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span> <span class="selector-class">.addBtn</span> <span class="selector-tag">button</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#96a7be</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.addBtn</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">justify-content</span>: center;</span><br><span class="line">    <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.addBtn</span> <span class="selector-tag">i</span>&#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">1.3rem</span>;</span><br><span class="line">    <span class="attribute">margin-right</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.addBtn</span> <span class="selector-tag">button</span> &#123;</span><br><span class="line">    transtion: .<span class="number">2s</span>;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">5px</span> auto;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--global-bg);</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--search-result-title);</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改主题配置文件<code>_config.butterfly.yml</code>，引入css、js文件</p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">  # - &lt;link rel=&quot;stylesheet&quot; href=&quot;/xxx.css&quot;&gt;</span><br><span class="line"><span class="addition">+   - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/applybutton.css&quot;&gt;</span></span><br><span class="line">  bottom:</span><br><span class="line">  # - &lt;script src=&quot;xxxx&quot;&gt;&lt;/script&gt;</span><br><span class="line"><span class="addition">+   - &lt;script async src=&quot;/js/applybutton.js&quot;&gt;&lt;/script&gt; </span></span><br></pre></td></tr></table></figure><p><code>[BlogRoot]/source/link/index.md</code>底部插入</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;addBtn&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;linkCom()&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fa-solid fa-circle-plus&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span>快速申请 (默认样式)<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;linkCom(&#x27;bf&#x27;)&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fa-solid fa-circle-plus&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span>快速申请 (Butterfly)<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="控制台彩蛋"><a href="#控制台彩蛋" class="headerlink" title="控制台彩蛋"></a>控制台彩蛋</h3><blockquote><p>原文地址：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://anzhiy.cn/posts/3444.html">console的高级用法 | 安知鱼</a></p></blockquote><p>新建<code>[BlogRoot]/source/js/print.js</code></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> now1 = <span class="keyword">new</span> <span class="title class_">Date</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createtime1</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> grt = <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="string">&#x27;05/01/2022 00:00:00&#x27;</span>) <span class="comment">//此处修改你的建站时间或者网站上线时间</span></span><br><span class="line">    now1.<span class="title function_">setTime</span>(now1.<span class="title function_">getTime</span>() + <span class="number">250</span>)</span><br><span class="line">    <span class="keyword">var</span> days = (now1 - grt) / <span class="number">1000</span> / <span class="number">60</span> / <span class="number">60</span> / <span class="number">24</span></span><br><span class="line">    <span class="keyword">var</span> dnum = <span class="title class_">Math</span>.<span class="title function_">floor</span>(days)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> ascll = [</span><br><span class="line">        <span class="string">`欢迎来到张时贰\`Blog!`</span>,</span><br><span class="line">        <span class="string">`洞庭春溜满，平湖锦帆张，称小张。十二为一年亦半天亦...家人、恋人、朋友...安好、知心、快乐...十二画，时间、人、情绪，十二是我最喜欢的数字，故称张时贰！`</span>,</span><br><span class="line">        <span class="string">`</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  ██╗   ██╗██╗ ██████╗ ██╗     ███████╗████████╗</span></span><br><span class="line"><span class="string">  ██║   ██║██║██╔═══██╗██║     ██╔════╝╚══██╔══╝</span></span><br><span class="line"><span class="string">  ██║   ██║██║██║   ██║██║     █████╗     ██║   </span></span><br><span class="line"><span class="string">  ╚██╗ ██╔╝██║██║   ██║██║     ██╔══╝     ██║   </span></span><br><span class="line"><span class="string">   ╚████╔╝ ██║╚██████╔╝███████╗███████╗   ██║   </span></span><br><span class="line"><span class="string">    ╚═══╝  ╚═╝ ╚═════╝ ╚══════╝╚══════╝   ╚═╝   </span></span><br><span class="line"><span class="string">                                              </span></span><br><span class="line"><span class="string">`</span>,</span><br><span class="line">        <span class="string">&#x27;张时贰`Blog 已上线&#x27;</span>,</span><br><span class="line">        dnum,</span><br><span class="line">        <span class="string">&#x27;天&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;©2022 By 张时贰&#x27;</span>,</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">    <span class="built_in">setTimeout</span>(</span><br><span class="line">        <span class="variable language_">console</span>.<span class="property">log</span>.<span class="title function_">bind</span>(</span><br><span class="line">            <span class="variable language_">console</span>,</span><br><span class="line">            <span class="string">`\n%c<span class="subst">$&#123;ascll[<span class="number">0</span>]&#125;</span> %c <span class="subst">$&#123;ascll[<span class="number">1</span>]&#125;</span> %c <span class="subst">$&#123;ascll[<span class="number">2</span>]&#125;</span> %c<span class="subst">$&#123;ascll[<span class="number">3</span>]&#125;</span>%c <span class="subst">$&#123;ascll[<span class="number">4</span>]&#125;</span>%c <span class="subst">$&#123;ascll[<span class="number">5</span>]&#125;</span>\n\n%c <span class="subst">$&#123;ascll[<span class="number">6</span>]&#125;</span>\n`</span>,</span><br><span class="line">            <span class="string">&#x27;color:#425aef&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;color:#425aef&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;color:#425aef&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;color:#425aef&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;&#x27;</span></span><br><span class="line">        )</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">createtime1</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createtime2</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> ascll2 = [<span class="string">`NCC2-036`</span>, <span class="string">`调用前置摄像头拍照成功，识别为【小笨蛋】.`</span>, <span class="string">`Photo captured: `</span>, <span class="string">` 🤪 `</span>]</span><br><span class="line"></span><br><span class="line">    <span class="built_in">setTimeout</span>(</span><br><span class="line">        <span class="variable language_">console</span>.<span class="property">log</span>.<span class="title function_">bind</span>(</span><br><span class="line">            <span class="variable language_">console</span>,</span><br><span class="line">            <span class="string">`%c <span class="subst">$&#123;ascll2[<span class="number">0</span>]&#125;</span> %c <span class="subst">$&#123;ascll2[<span class="number">1</span>]&#125;</span> %c \n<span class="subst">$&#123;ascll2[<span class="number">2</span>]&#125;</span> %c\n<span class="subst">$&#123;ascll2[<span class="number">3</span>]&#125;</span>\n`</span>,</span><br><span class="line">            <span class="string">&#x27;color:white; background-color:#4fd953&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;background:url(&quot;https://q1.qlogo.cn/g?b=qq&amp;nk=1310446718&amp;s=5&quot;) no-repeat;font-size:450%&#x27;</span></span><br><span class="line">        )</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="built_in">setTimeout</span>(</span><br><span class="line">        <span class="variable language_">console</span>.<span class="property">log</span>.<span class="title function_">bind</span>(</span><br><span class="line">            <span class="variable language_">console</span>,</span><br><span class="line">            <span class="string">&#x27;%c WELCOME %c 你好，小笨蛋.&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;color:white; background-color:#4f90d9&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;&#x27;</span></span><br><span class="line">        )</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="built_in">setTimeout</span>(</span><br><span class="line">        <span class="variable language_">console</span>.<span class="property">warn</span>.<span class="title function_">bind</span>(</span><br><span class="line">            <span class="variable language_">console</span>,</span><br><span class="line">            <span class="string">&#x27;%c ⚡ Powered by 张时贰 %c 你正在访问 张时贰 的博客.&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;color:white; background-color:#f0ad4e&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;&#x27;</span></span><br><span class="line">        )</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="built_in">setTimeout</span>(</span><br><span class="line">        <span class="variable language_">console</span>.<span class="property">log</span>.<span class="title function_">bind</span>(</span><br><span class="line">            <span class="variable language_">console</span>,</span><br><span class="line">            <span class="string">&#x27;%c W23-12 %c 你已打开控制台.&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;color:white; background-color:#4f90d9&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;&#x27;</span></span><br><span class="line">        )</span><br><span class="line">    )</span><br><span class="line">    <span class="built_in">setTimeout</span>(</span><br><span class="line">        <span class="variable language_">console</span>.<span class="property">warn</span>.<span class="title function_">bind</span>(</span><br><span class="line">            <span class="variable language_">console</span>,</span><br><span class="line">            <span class="string">&#x27;%c S013-782 %c 你现在正处于监控中.&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;color:white; background-color:#d9534f&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;&#x27;</span></span><br><span class="line">        )</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">createtime2</span>()</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="property">log</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;</span><br></pre></td></tr></table></figure><p>修改主题配置文件<code>_config.butterfly.yml</code>，引入js文件</p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">  # - &lt;link rel=&quot;stylesheet&quot; href=&quot;/xxx.css&quot;&gt;</span><br><span class="line">  bottom:</span><br><span class="line">  # - &lt;script src=&quot;xxxx&quot;&gt;&lt;/script&gt;</span><br><span class="line"><span class="addition">+   - &lt;script async src=&quot;/js/print.js&quot;&gt;&lt;/script&gt; </span></span><br></pre></td></tr></table></figure><h3 id="动态title"><a href="#动态title" class="headerlink" title="动态title"></a>动态title</h3><p>新建<code>[BlogRoot]/source/js/title.js</code></p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//标题</span></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">OriginTitile</span> = <span class="variable language_">document</span>.<span class="property">title</span>;    <span class="comment">// 保存之前页面标题</span></span><br><span class="line"><span class="keyword">var</span> titleTime;</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;visibilitychange&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="property">hidden</span>)&#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">title</span> = <span class="string">&#x27;404 Not Found&#x27;</span>;</span><br><span class="line">        <span class="built_in">clearTimeout</span>(titleTime);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">title</span> = <span class="string">&#x27;ヾ(≧▽≦*)o上当了吧嘿嘿&#x27;</span>;</span><br><span class="line">        titleTime = <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="property">title</span> = <span class="title class_">OriginTitile</span>;</span><br><span class="line">        &#125;, <span class="number">3000</span>); <span class="comment">// 3秒后恢复原标题</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>修改主题配置文件<code>_config.butterfly.yml</code>，引入js文件</p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">  # - &lt;link rel=&quot;stylesheet&quot; href=&quot;/xxx.css&quot;&gt;</span><br><span class="line">  bottom:</span><br><span class="line">  # - &lt;script src=&quot;xxxx&quot;&gt;&lt;/script&gt;</span><br><span class="line"><span class="addition">+   - &lt;script async src=&quot;/js/title.js&quot;&gt;&lt;/script&gt; </span></span><br></pre></td></tr></table></figure><h3 id="鼠标样式"><a href="#鼠标样式" class="headerlink" title="鼠标样式"></a>鼠标样式</h3><p>自己制作<strong>ico格式</strong>图片或者下载<a target="_blank" rel="noopener external nofollow noreferrer" href="https://zhutix.com/tag/cursors/">致美化</a><strong>cur格式</strong>文件存放在<code>[BlogRoot]/source/css</code></p><p>新建<code>[BlogRoot]/source/css/curtor.css</code></p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 鼠标样式 */</span></span><br><span class="line"><span class="comment">/* 默认时 */</span></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">cursor</span>: <span class="built_in">url</span>(<span class="string">close.ico</span>),</span><br><span class="line">    default;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 链接、图片 */</span></span><br><span class="line"><span class="selector-tag">a</span>,</span><br><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">cursor</span>: <span class="built_in">url</span>(<span class="string">open.ico</span>),</span><br><span class="line">    default;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改主题配置文件<code>_config.butterfly.yml</code>，引入css文件</p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">  # - &lt;link rel=&quot;stylesheet&quot; href=&quot;/xxx.css&quot;&gt;</span><br><span class="line"><span class="addition">+  - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/cursor.css&quot;&gt;</span></span><br></pre></td></tr></table></figure><h3 id="全站变灰"><a href="#全站变灰" class="headerlink" title="全站变灰"></a>全站变灰</h3><blockquote><p>原文地址：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://akilar.top/posts/ebf20e02/">Custom Beautify | Akilarの糖果屋</a></p><p>有时候一些哀悼日、纪念日需要变灰时使用</p></blockquote><p>新建<code>[BlogRoot]/source/js/gray.js</code></p><p>方案一：店长方案，通过JS在特定日期变灰</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line">if(PublicSacrificeDay())&#123;</span><br><span class="line">  document<span class="selector-class">.getElementsByTagName</span>(&quot;<span class="selector-tag">html</span>&quot;)<span class="selector-attr">[0]</span><span class="selector-class">.setAttribute</span>(&quot;style&quot;,&quot;<span class="attribute">filter</span>:gray <span class="meta">!important</span>;<span class="attribute">filter</span>:<span class="built_in">grayscale</span>(<span class="number">100%</span>);-webkit-<span class="attribute">filter</span>:<span class="built_in">grayscale</span>(<span class="number">100%</span>);-moz-<span class="attribute">filter</span>:<span class="built_in">grayscale</span>(<span class="number">100%</span>);-ms-<span class="attribute">filter</span>:<span class="built_in">grayscale</span>(<span class="number">100%</span>);-o-<span class="attribute">filter</span>:<span class="built_in">grayscale</span>(<span class="number">100%</span>);&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function PublicSacrificeDay()&#123;</span><br><span class="line">    <span class="selector-tag">var</span> PSFarr=new Array(&quot;<span class="number">0403</span>&quot;,&quot;<span class="number">0404</span>&quot;,&quot;<span class="number">0405</span>&quot;,&quot;<span class="number">0406</span>&quot;,&quot;<span class="number">0414</span>&quot;,&quot;<span class="number">0512</span>&quot;,&quot;<span class="number">0707</span>&quot;,&quot;<span class="number">0807</span>&quot;,&quot;<span class="number">0814</span>&quot;,&quot;<span class="number">0909</span>&quot;,&quot;<span class="number">0918</span>&quot;,&quot;<span class="number">0930</span>&quot;,&quot;<span class="number">1025</span>&quot;,&quot;<span class="number">1213</span>&quot;);</span><br><span class="line">    //<span class="number">2020</span>年<span class="number">4</span>月<span class="number">4</span>日 新冠肺炎哀悼日，清明节</span><br><span class="line">    //<span class="number">2010</span>年<span class="number">4</span>月<span class="number">14</span>日，青海玉树地震</span><br><span class="line">    //<span class="number">2008</span>年<span class="number">5</span>月<span class="number">12</span>日，四川汶川地震</span><br><span class="line">    //<span class="number">1937</span>年<span class="number">7</span>月<span class="number">7</span>日,七七事变 又称卢沟桥事变</span><br><span class="line">    //<span class="number">2010</span>年<span class="number">8</span>月<span class="number">7</span>日，甘肃舟曲特大泥石流</span><br><span class="line">	  //<span class="number">8</span>月<span class="number">14</span>日，世界慰安妇纪念日</span><br><span class="line">    //<span class="number">1976</span>年<span class="number">9</span>月<span class="number">9</span>日，毛主席逝世</span><br><span class="line">  	//<span class="number">1931</span>年<span class="number">9</span>月<span class="number">18</span>日，九一八事变</span><br><span class="line">  	//烈士纪念日为每年<span class="number">9</span>月<span class="number">30</span>日</span><br><span class="line">    //<span class="number">1950</span>年<span class="number">10</span>月<span class="number">25</span>日，抗美援朝纪念日</span><br><span class="line">    //<span class="number">1937</span>年<span class="number">12</span>月<span class="number">13</span>日，南京大屠杀</span><br><span class="line">    <span class="selector-tag">var</span> currentdate = new Date();</span><br><span class="line">    <span class="selector-tag">var</span> str = &quot;&quot;;</span><br><span class="line">    <span class="selector-tag">var</span> mm = currentdate<span class="selector-class">.getMonth</span>()+<span class="number">1</span>;</span><br><span class="line">    if(currentdate<span class="selector-class">.getMonth</span>()&gt;<span class="number">9</span>)&#123;</span><br><span class="line">      str += mm;</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">      str += &quot;<span class="number">0</span>&quot; + mm;</span><br><span class="line">    &#125;</span><br><span class="line">    if(currentdate<span class="selector-class">.getDate</span>()&gt;<span class="number">9</span>)&#123;</span><br><span class="line">      str += currentdate<span class="selector-class">.getDate</span>();</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">      str += &quot;<span class="number">0</span>&quot; + currentdate<span class="selector-class">.getDate</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    if(PSFarr<span class="selector-class">.indexOf</span>(str)&gt;-<span class="number">1</span>)&#123;</span><br><span class="line">        return <span class="number">1</span>;</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        return <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改主题配置文件<code>_config.butterfly.yml</code>，引入js文件</p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">inject:</span><br><span class="line">  bottom:</span><br><span class="line"><span class="addition">+  - &lt;script async src=&quot;/css/gray.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><p>方案二：在需要时手动加入</p><p>新建<code>[BlogRoot]/source/js/gray.css</code></p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">html</span> &#123;</span><br><span class="line">    -webkit-<span class="attribute">filter</span>: <span class="built_in">grayscale</span>(<span class="number">100%</span>);</span><br><span class="line">    <span class="attribute">filter</span>: progid:DXImageTransform.Microsoft.<span class="built_in">BasicImage</span>(graysale=<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改主题配置文件<code>_config.butterfly.yml</code>，引入css文件</p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">  # - &lt;link rel=&quot;stylesheet&quot; href=&quot;/xxx.css&quot;&gt;</span><br><span class="line"><span class="addition">+  - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/gray.css&quot;&gt;</span></span><br></pre></td></tr></table></figure><p>方案三：电脑不在跟前且是服务器部署，修改nginx配置文件（不知道配置文件位置可以借助宝塔，参考<strong>网站监控</strong>中图文说明）</p><figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="section">http</span> &#123;</span><br><span class="line">      ……</span><br><span class="line">    <span class="comment"># 上面为其他配置项</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 全站页面变灰，用于哀悼日</span></span><br><span class="line">    <span class="attribute">sub_filter</span>  <span class="string">&#x27;&lt;/head&gt;&#x27;</span>  <span class="string">&#x27;&lt;style type=&quot;text/css&quot;&gt;html &#123; -webkit-filter: grayscale(100%); -moz-filter: grayscale(100%); -ms-filter: grayscale(100%); -o-filter: grayscale(100%); filter: progid:DXImageTransform.Microsoft.BasicImage(grayscale=1); filter: gray;&#125;&lt;/style&gt;&lt;/head&gt;&#x27;</span>;</span><br><span class="line">    <span class="attribute">sub_filter_types</span> *;</span><br><span class="line">    <span class="attribute">sub_filter_once</span> <span class="literal">off</span>;</span><br><span class="line">&#125;    </span><br></pre></td></tr></table></figure><h3 id="黑幕"><a href="#黑幕" class="headerlink" title="黑幕"></a>黑幕</h3><blockquote><p>原文地址：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.initbili.top/2022/dba42bb67415/">简单、快速地实现萌娘百科黑幕效果 - Initial_heart’s Blog</a></p></blockquote><p>新建<code>[BlogRoot]/source/css/dark span.css</code></p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 萌娘百科 “黑幕” */</span></span><br><span class="line"><span class="comment">/* 以下内容引用自萌娘百科 https://zh.moegirl.org.cn/MediaWiki:Gadget-site-styles.css，感谢！ */</span></span><br><span class="line"><span class="comment">/* MoeGirl Start */</span></span><br><span class="line"><span class="comment">/* 参考https://www.initbili.top/2022/dba42bb67415/ */</span></span><br><span class="line"><span class="comment">/* &lt;span class=&quot;heimu&quot; title=&quot;你知道的太多了&quot;&gt;内容&lt;/span&gt; */</span></span><br><span class="line"><span class="selector-class">.heimu</span>,</span><br><span class="line"><span class="selector-class">.heimu</span> rt&#123;</span><br><span class="line">    <span class="attribute">background-color</span>:gray;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.heimu</span>,</span><br><span class="line"><span class="selector-class">.heimu</span> <span class="selector-tag">a</span>,</span><br><span class="line"><span class="selector-tag">a</span> <span class="selector-class">.heimu</span>,</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-class">.new</span> <span class="selector-class">.heimu</span>,</span><br><span class="line"><span class="selector-tag">span</span><span class="selector-class">.heimu</span> <span class="selector-tag">a</span><span class="selector-class">.new</span>,</span><br><span class="line"><span class="selector-tag">span</span><span class="selector-class">.heimu</span> <span class="selector-tag">a</span><span class="selector-class">.external</span>,</span><br><span class="line"><span class="selector-tag">span</span><span class="selector-class">.heimu</span> <span class="selector-tag">a</span><span class="selector-class">.external</span><span class="selector-pseudo">:visited</span>,</span><br><span class="line"><span class="selector-tag">span</span><span class="selector-class">.heimu</span> <span class="selector-tag">a</span><span class="selector-class">.extiw</span>,</span><br><span class="line"><span class="selector-tag">span</span><span class="selector-class">.heimu</span> <span class="selector-tag">a</span><span class="selector-class">.extiw</span><span class="selector-pseudo">:visited</span>,</span><br><span class="line"><span class="selector-tag">span</span><span class="selector-class">.heimu</span> <span class="selector-tag">a</span><span class="selector-class">.mw-disambig</span>,</span><br><span class="line"><span class="selector-tag">span</span><span class="selector-class">.heimu</span> <span class="selector-tag">a</span><span class="selector-class">.mw-redirect</span>&#123;</span><br><span class="line">    <span class="attribute">transition</span>:color <span class="number">0.13s</span> linear;</span><br><span class="line">    <span class="attribute">color</span>:gray;</span><br><span class="line">    <span class="attribute">text-shadow</span>:none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">span</span><span class="selector-class">.heimu</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-tag">span</span><span class="selector-class">.heimu</span><span class="selector-pseudo">:active</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:white;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">span</span><span class="selector-class">.heimu</span><span class="selector-pseudo">:hover</span> <span class="selector-tag">a</span>,</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> <span class="selector-tag">span</span><span class="selector-class">.heimu</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:lightblue;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">span</span><span class="selector-class">.heimu</span><span class="selector-pseudo">:hover</span> <span class="selector-tag">a</span><span class="selector-pseudo">:visited</span>,</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-pseudo">:visited</span><span class="selector-pseudo">:hover</span> <span class="selector-tag">span</span><span class="selector-class">.heimu</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#C5CAE9</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">span</span><span class="selector-class">.heimu</span><span class="selector-pseudo">:hover</span> <span class="selector-tag">a</span><span class="selector-class">.new</span>,</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-class">.new</span><span class="selector-pseudo">:hover</span> <span class="selector-tag">span</span><span class="selector-class">.heimu</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#FCC</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">span</span><span class="selector-class">.heimu</span> <span class="selector-tag">a</span><span class="selector-class">.new</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">:visited</span>,</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-class">.new</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">:visited</span> <span class="selector-tag">span</span><span class="selector-class">.heimu</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#EF9A9A</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">span</span><span class="selector-class">.heimu</span><span class="selector-pseudo">:hover</span> <span class="selector-tag">a</span><span class="selector-class">.extiw</span><span class="selector-pseudo">:visited</span>,</span><br><span class="line"><span class="selector-tag">a</span><span class="selector-class">.extiw</span><span class="selector-pseudo">:visited</span><span class="selector-pseudo">:hover</span> <span class="selector-tag">span</span><span class="selector-class">.heimu</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#D1C4E9</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改主题配置文件<code>_config.butterfly.yml</code>，引入css文件</p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">    # - &lt;link rel=&quot;stylesheet&quot; href=&quot;/xxx.css&quot;&gt;</span><br><span class="line"><span class="addition">+   - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/dark span.css&quot;&gt;</span></span><br></pre></td></tr></table></figure><h3 id="访客统计与信息"><a href="#访客统计与信息" class="headerlink" title="访客统计与信息"></a>访客统计与信息</h3><blockquote><p>首先注册申请51la，拿到统计代码，可参考<a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.zhheo.com/p/c7c43433.html">51la统计体验报告：很全面的惊喜，Butterfly适配51la统计 | 张洪Heo</a></p><p>原文地址：</p><ul><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.leonus.cn/2022/51la.html">51la统计美化 | Leonus</a></li><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.panghai.top/posts/b20a/#%E6%B7%BB%E5%8A%A0%E4%BE%A7%E8%BE%B9%E6%A0%8F%E8%AE%BF%E9%97%AE%E7%BB%9F%E8%AE%A1">Butterfly博客主题搭建系列：美化魔改教程 | 心流</a></li></ul><p>主题文档：</p><ul><li>侧边栏排序或二次开发参考：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://butterfly.js.org/posts/ea33ab97/">自定义侧边栏 | Butterfly</a></li></ul></blockquote><h4 id="访问统计侧边栏"><a href="#访问统计侧边栏" class="headerlink" title="访问统计侧边栏"></a>访问统计侧边栏</h4><p>新建<code>[BlogRoot]/source/_data/widget.yml</code></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">bottom:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">class_name:</span></span><br><span class="line">    <span class="attr">id_name:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">访问统计</span></span><br><span class="line">    <span class="attr">icon:</span> <span class="string">iconfont</span> <span class="string">icon-tongji</span></span><br><span class="line">    <span class="attr">order:</span> <span class="number">1</span></span><br><span class="line">    <span class="attr">html:</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/visitor.css&quot;&gt;&lt;div</span> <span class="string">id=&quot;visitor&quot;&gt;&lt;div</span> <span class="string">class=&quot;content&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;script</span> <span class="string">src=&quot;/js/visitor.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><p>新建<code>[BlogRoot]/source/js/visitor.js</code>，注意修改51la地址</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 侧边栏访问统计</span></span><br><span class="line"><span class="title function_">fetch</span>(<span class="string">&#x27;https://v6-widget.51.la/v6/xxxxxxxxxxxxxx/quote.js&#x27;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> res.<span class="title function_">text</span>()).<span class="title function_">then</span>(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">	<span class="keyword">let</span> title = [<span class="string">&#x27;最近活跃访客&#x27;</span>, <span class="string">&#x27;今日访问人数&#x27;</span>, <span class="string">&#x27;今日访问量&#x27;</span>, <span class="string">&#x27;昨日人数&#x27;</span>, <span class="string">&#x27;昨日访问量&#x27;</span>, <span class="string">&#x27;本月访问量&#x27;</span>, <span class="string">&#x27;总访问量&#x27;</span>]</span><br><span class="line">	<span class="keyword">let</span> num = data.<span class="title function_">match</span>(<span class="regexp">/(?&lt;=&lt;\/span&gt;&lt;span&gt;).*?(?=&lt;\/span&gt;&lt;\/p&gt;)/g</span>)</span><br><span class="line">	<span class="keyword">let</span> s = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;#visitor .content&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">	<span class="keyword">if</span> (s !== <span class="literal">undefined</span>) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; num.<span class="property">length</span>; i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (i == <span class="number">3</span> || i == <span class="number">4</span>) <span class="keyword">continue</span>;</span><br><span class="line">			s.<span class="property">innerHTML</span> += <span class="string">&#x27;&lt;div&gt;&lt;p&gt;&lt;span id=name&gt;&#x27;</span> + title[i] + <span class="string">&#x27;&lt;/span&gt;&lt;span class=&quot;num&quot;&gt;&#x27;</span> + num[i] + <span class="string">&#x27;&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&#x27;</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;); </span><br></pre></td></tr></table></figure><p>新建<code>[BlogRoot]/source/css/visitor.css</code></p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 侧边栏访问统计样式 */</span></span><br><span class="line"><span class="selector-id">#visitor</span> &#123;</span><br><span class="line">    <span class="attribute">box-sizing</span>: border-box <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0px</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">18px</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">1.7</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">51</span>, <span class="number">51</span>, <span class="number">51</span>) <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>) <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">16px</span> <span class="number">0px</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">rgb</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>) <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">height</span>: auto <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#visitor</span> <span class="selector-tag">div</span> <span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0px</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: left <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#visitor</span> <span class="selector-tag">div</span> <span class="selector-id">#name</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">137</span>, <span class="number">137</span>, <span class="number">137</span>) <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">display</span>: inline-block <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#visitor</span> <span class="selector-tag">div</span> <span class="selector-class">.num</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">51</span>, <span class="number">51</span>, <span class="number">51</span>) <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: bold <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">float</span>: right <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改主题配置文件<code>_config.butterfly.yml</code>，引入css、js文件</p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">  # - &lt;link rel=&quot;stylesheet&quot; href=&quot;/xxx.css&quot;&gt;</span><br><span class="line"><span class="addition">+   - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/visitor.css&quot;&gt;</span></span><br><span class="line">  bottom:</span><br><span class="line">  # - &lt;script src=&quot;xxxx&quot;&gt;&lt;/script&gt;</span><br><span class="line"><span class="addition">+   - &lt;script src=&quot;/js/visitor.js&quot;&gt;&lt;/script&gt; </span></span><br></pre></td></tr></table></figure><h4 id="访客信息"><a href="#访客信息" class="headerlink" title="访客信息"></a>访客信息</h4><blockquote><p>效果预览：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.panghai.top/about/">关于 | 心流</a></p></blockquote><p>只需在md文件中插入</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">## 博客统计</span><br><span class="line"></span><br><span class="line">### 访客统计</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;pvisitor&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">### 访客信息</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;ivisitor&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/css/visitor.css&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="title function_">fetch</span>(<span class="string">&#x27;https://v6-widget.51.la/v6/xxxxxxxxxxxxxx/quote.js&#x27;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> res.<span class="title function_">text</span>()).<span class="title function_">then</span>(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> title = [<span class="string">&#x27;最近活跃访客&#x27;</span>, <span class="string">&#x27;今日访问人数&#x27;</span>, <span class="string">&#x27;今日访问量&#x27;</span>, <span class="string">&#x27;昨日人数&#x27;</span>, <span class="string">&#x27;昨日访问量&#x27;</span>, <span class="string">&#x27;本月访问量&#x27;</span>, <span class="string">&#x27;总访问量&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> num = data.<span class="title function_">match</span>(<span class="regexp">/(?&lt;=&lt;\/span&gt;&lt;span&gt;).*?(?=&lt;\/span&gt;&lt;\/p&gt;)/g</span>)</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> s = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;#pvisitor .content&#x27;</span>)[<span class="number">0</span>]</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; num.<span class="property">length</span>; i++) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (i == <span class="number">3</span> || i == <span class="number">4</span>) <span class="keyword">continue</span>;</span></span><br><span class="line"><span class="language-javascript">        s.<span class="property">innerHTML</span> += <span class="string">&#x27;&lt;div&gt;&lt;span&gt;&#x27;</span> + title[i] + <span class="string">&#x27;&lt;/span&gt;&lt;span class=&quot;num&quot;&gt;&#x27;</span> + num[i] + <span class="string">&#x27;&lt;/span&gt;&lt;/div&gt;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;);</span></span><br><span class="line"><span class="language-javascript"><span class="title function_">fetch</span>(<span class="string">&#x27;https://api.vvhan.com/api/visitor.info&#x27;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> res.<span class="title function_">json</span>()).<span class="title function_">then</span>(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123; <span class="comment">//获取访客信息</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> c = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;#ivisitor .content&#x27;</span>)[<span class="number">0</span>]</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> system = data[<span class="string">&#x27;system&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> addr = data[<span class="string">&#x27;location&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> ipaddr = data[<span class="string">&#x27;ip&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> weather = data[<span class="string">&#x27;tq&#x27;</span>]+<span class="string">&quot;&amp;nbsp&quot;</span>+data[<span class="string">&#x27;high&#x27;</span>].<span class="title function_">replace</span>(<span class="string">&quot;最低 &quot;</span>,<span class="string">&quot;&quot;</span>)+<span class="string">&quot;~&quot;</span>+data[<span class="string">&#x27;high&#x27;</span>].<span class="title function_">replace</span>(<span class="string">&quot;最高 &quot;</span>,<span class="string">&quot;&quot;</span>)</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> tip = data[<span class="string">&#x27;tip&#x27;</span>]</span></span><br><span class="line"><span class="language-javascript">    system = system===<span class="string">&quot;未知操作系统&quot;</span>?<span class="string">&quot;移动端&quot;</span>:system</span></span><br><span class="line"><span class="language-javascript">    addr = addr===<span class="literal">null</span>?<span class="string">&quot;未知&quot;</span>:addr</span></span><br><span class="line"><span class="language-javascript">    ipaddr = ipaddr===<span class="literal">null</span>?<span class="string">&quot;未知&quot;</span>:ipaddr</span></span><br><span class="line"><span class="language-javascript">    weather = weather===<span class="literal">null</span>?<span class="string">&quot;未知&quot;</span>:weather</span></span><br><span class="line"><span class="language-javascript">    tip = tip===<span class="literal">null</span>?<span class="string">&quot;未知&quot;</span>:tip</span></span><br><span class="line"><span class="language-javascript">    c.<span class="property">innerHTML</span> = <span class="string">`&lt;div&gt;&lt;span&gt;系统&lt;/span&gt;&lt;span class=&quot;num&quot;&gt;<span class="subst">$&#123;system&#125;</span>&lt;/span&gt;&lt;/div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">    &lt;div&gt;&lt;span&gt;地址&lt;/span&gt;&lt;span class=&quot;num&quot;&gt;<span class="subst">$&#123;addr&#125;</span>&lt;/span&gt;&lt;/div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">    &lt;div&gt;&lt;span&gt;IP地址&lt;/span&gt;&lt;span class=&quot;num&quot;&gt;<span class="subst">$&#123;ipaddr&#125;</span>&lt;/span&gt;&lt;/div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">    &lt;div&gt;&lt;span&gt;天气&lt;/span&gt;&lt;span class=&quot;num&quot;&gt;<span class="subst">$&#123;weather&#125;</span>&lt;/span&gt;&lt;/div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">    &lt;div&gt;&lt;span&gt;温馨提示&lt;/span&gt;&lt;span class=&quot;num&quot;&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">        &lt;div style=&quot;width:100% !important&quot;&gt;&lt;span style=&quot;font-size:1.5rem;font-weight:bold;display:block;&quot;&gt;<span class="subst">$&#123;tip&#125;</span>&lt;/span&gt;&lt;/div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">    &lt;/span&gt;&lt;/div&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">    `</span></span></span><br><span class="line"><span class="language-javascript">&#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>新建<code>[BlogRoot]/source/css/ivisitor.css</code></p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 关于页面访问统计、访客信息样式 */</span></span><br><span class="line"><span class="selector-id">#pvisitor</span>,</span><br><span class="line"><span class="selector-id">#ivisitor</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--font-color);</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--card-bg);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-id">#pvisitor</span> <span class="selector-class">.content</span>,</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-id">#ivisitor</span> <span class="selector-class">.content</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">    <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-id">#pvisitor</span> <span class="selector-tag">a</span>,</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-id">#ivisitor</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">text-decoration</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#pvisitor</span> <span class="selector-class">.content</span> <span class="selector-tag">div</span>,</span><br><span class="line"><span class="selector-id">#ivisitor</span> <span class="selector-class">.content</span> <span class="selector-tag">div</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#pvisitor</span> <span class="selector-tag">div</span> <span class="selector-tag">span</span>,</span><br><span class="line"><span class="selector-id">#ivisitor</span> <span class="selector-tag">div</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">1.3</span>;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#pvisitor</span> <span class="selector-tag">div</span> <span class="selector-class">.num</span>,</span><br><span class="line"><span class="selector-id">#ivisitor</span> <span class="selector-tag">div</span> <span class="selector-class">.num</span> &#123;</span><br><span class="line">    <span class="attribute">letter-spacing</span>: <span class="number">1px</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: bold;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">1.6rem</span>;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: .<span class="number">8rem</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改主题配置文件<code>_config.butterfly.yml</code>，引入css文件</p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">  # - &lt;link rel=&quot;stylesheet&quot; href=&quot;/xxx.css&quot;&gt;</span><br><span class="line"><span class="addition">+   - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/ivisitor.css&quot;&gt;</span></span><br></pre></td></tr></table></figure><h4 id="访客统计-访客信息合并版"><a href="#访客统计-访客信息合并版" class="headerlink" title="访客统计&amp;访客信息合并版"></a>访客统计&amp;访客信息合并版</h4><blockquote><p>我想把访客统计和访客信息合并在一起，对心流的方案进行了更改，主要变更了<code>innerHTML</code>结构及css样式</p></blockquote><p>新建<code>[BlogRoot]/source/_data/widget.yml</code></p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line">bottom:</span><br><span class="line">  - class_name:</span><br><span class="line">    id_name:</span><br><span class="line">    name: 你好呀</span><br><span class="line">    icon: fa-solid fa-child</span><br><span class="line">    order: 1</span><br><span class="line">    html: <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/css/visitor.css&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;visitor&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;visitor&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;/js/visitor.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>新建<code>[BlogRoot]/source/css/visitor.css</code></p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 侧边栏访问统计样式 */</span></span><br><span class="line"><span class="selector-id">#visitor</span> &#123;</span><br><span class="line">    <span class="attribute">box-sizing</span>: border-box <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0px</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="built_in">var</span>(--global-font-size);</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">1.7</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">51</span>, <span class="number">51</span>, <span class="number">51</span>) <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">height</span>: auto <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 单一行调整间距 */</span></span><br><span class="line"><span class="selector-id">#visitor</span> <span class="selector-tag">div</span> <span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0px</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: left <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 左侧竖列 */</span></span><br><span class="line"><span class="selector-id">#visitor</span> <span class="selector-tag">div</span> <span class="selector-id">#name</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">137</span>, <span class="number">137</span>, <span class="number">137</span>) <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">display</span>: inline-block <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 右侧竖列 */</span></span><br><span class="line"><span class="selector-id">#visitor</span> <span class="selector-tag">div</span> <span class="selector-class">.num</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">51</span>, <span class="number">51</span>, <span class="number">51</span>) <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">letter-spacing</span>: <span class="number">1px</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: bold;</span><br><span class="line">    <span class="attribute">float</span>: right <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>新建<code>[BlogRoot]/source/js/visitor.js</code>，注意修改51la地址</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//获取访客信息</span></span><br><span class="line"><span class="title function_">fetch</span>(<span class="string">&#x27;https://api.vvhan.com/api/visitor.info&#x27;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> res.<span class="title function_">json</span>()).<span class="title function_">then</span>(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123; <span class="comment">//获取访客信息</span></span><br><span class="line">    <span class="keyword">let</span> c = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;#visitor .content&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">var</span> system = data[<span class="string">&#x27;system&#x27;</span>]</span><br><span class="line">    <span class="keyword">var</span> addr = data[<span class="string">&#x27;location&#x27;</span>]</span><br><span class="line">    <span class="keyword">var</span> ipaddr = data[<span class="string">&#x27;ip&#x27;</span>]</span><br><span class="line">    <span class="keyword">var</span> weather = data[<span class="string">&#x27;tq&#x27;</span>] + <span class="string">&quot;&amp;nbsp&quot;</span> + data[<span class="string">&#x27;high&#x27;</span>].<span class="title function_">replace</span>(<span class="string">&quot;最低 &quot;</span>, <span class="string">&quot;&quot;</span>) + <span class="string">&quot;~&quot;</span> + data[<span class="string">&#x27;high&#x27;</span>].<span class="title function_">replace</span>(<span class="string">&quot;最高 &quot;</span>, <span class="string">&quot;&quot;</span>)</span><br><span class="line">    <span class="keyword">var</span> tip = data[<span class="string">&#x27;tip&#x27;</span>]</span><br><span class="line">    <span class="keyword">var</span> f1 = data[<span class="string">&#x27;fl&#x27;</span>]</span><br><span class="line">    system = system === <span class="string">&quot;未知操作系统&quot;</span> ? <span class="string">&quot;移动端&quot;</span> : system</span><br><span class="line">    addr = addr === <span class="literal">null</span> ? <span class="string">&quot;未知&quot;</span> : addr</span><br><span class="line">    ipaddr = ipaddr === <span class="literal">null</span> ? <span class="string">&quot;未知&quot;</span> : ipaddr</span><br><span class="line">    weather = weather === <span class="literal">null</span> ? <span class="string">&quot;未知&quot;</span> : weather</span><br><span class="line">    tip = tip === <span class="literal">null</span> ? <span class="string">&quot;未知&quot;</span> : tip</span><br><span class="line">    f1 = f1 === <span class="literal">null</span> ? <span class="string">&quot;未知&quot;</span> : f1</span><br><span class="line">    c.<span class="property">innerHTML</span> = <span class="string">`&lt;div&gt;&lt;p&gt;&lt;span id=name&gt;系统&lt;/span&gt;&lt;span class=&quot;num&quot;&gt;<span class="subst">$&#123;system&#125;</span>&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;div&gt;&lt;p&gt;&lt;span id=name&gt;地址&lt;/span&gt;&lt;span class=&quot;num&quot;&gt;<span class="subst">$&#123;addr&#125;</span>&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;div&gt;&lt;p&gt;&lt;span id=name&gt;IP地址&lt;/span&gt;&lt;span class=&quot;num&quot;&gt;<span class="subst">$&#123;ipaddr&#125;</span>&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;div&gt;&lt;p&gt;&lt;span id=name&gt;天气&lt;/span&gt;&lt;span class=&quot;num&quot;&gt;<span class="subst">$&#123;weather&#125;</span>&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;div&gt;&lt;p&gt;&lt;span id=name&gt;风级&lt;/span&gt;&lt;span class=&quot;num&quot;&gt;<span class="subst">$&#123;f1&#125;</span>&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;div&gt;&lt;p&gt;&lt;span id=name&gt;温馨提示&lt;/span&gt;&lt;span class=&quot;num&quot;&gt;</span></span><br><span class="line"><span class="string">        &lt;div style=&quot;width:100% !important&quot;&gt;&lt;span style=&quot;font-weight:bold;display:block;&quot;&gt;<span class="subst">$&#123;tip&#125;</span>&lt;/span&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;/p&gt;&lt;/span&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">    `</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取51la统计</span></span><br><span class="line"><span class="title function_">fetch</span>(<span class="string">&#x27;https://v6-widget.51.la/v6/xxxxxxxxxx/quote.js&#x27;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> res.<span class="title function_">text</span>()).<span class="title function_">then</span>(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> title = [<span class="string">&#x27;最近活跃访客&#x27;</span>, <span class="string">&#x27;今日访问人数&#x27;</span>, <span class="string">&#x27;今日访问量&#x27;</span>, <span class="string">&#x27;昨日人数&#x27;</span>, <span class="string">&#x27;昨日访问量&#x27;</span>, <span class="string">&#x27;本月访问量&#x27;</span>, <span class="string">&#x27;总访问量&#x27;</span>]</span><br><span class="line">    <span class="keyword">let</span> num = data.<span class="title function_">match</span>(<span class="regexp">/(?&lt;=&lt;\/span&gt;&lt;span&gt;).*?(?=&lt;\/span&gt;&lt;\/p&gt;)/g</span>)</span><br><span class="line">    <span class="keyword">let</span> s = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;#visitor .content&#x27;</span>)[<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">if</span> (s !== <span class="literal">undefined</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; num.<span class="property">length</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i == <span class="number">3</span> || i == <span class="number">4</span>) <span class="keyword">continue</span>;</span><br><span class="line">            s.<span class="property">innerHTML</span> += <span class="string">&#x27;&lt;div&gt;&lt;p&gt;&lt;span id=name&gt;&#x27;</span> + title[i] + <span class="string">&#x27;&lt;/span id=name&gt;&lt;span class=&quot;num&quot;&gt;&#x27;</span> + num[i] + <span class="string">&#x27;&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="顶部卡片"><a href="#顶部卡片" class="headerlink" title="顶部卡片"></a>顶部卡片</h3><blockquote><p>来源：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.leonus.cn/">Leonus - 进一寸有进一寸的欢喜</a>控制台扒的</p></blockquote><p>Heo哥、Leonus、安知鱼等朋友圈、即刻短文等顶部都有一张卡片，蛮不错，所以扒了一下</p><p>在需要使用的页面顶部插入</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">&lt;!-- 顶部卡片 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;page-top-card&quot;</span> <span class="attr">style</span>=<span class="string">&quot;background-image: url(https://图片地址);&quot;</span>&gt;</span></span></span><br><span class="line"><span class="code">    &lt;div class=&quot;content-item-tips&quot;&gt;动态&lt;/div&gt;</span></span><br><span class="line"><span class="code">    &lt;span class=&quot;content-item-title&quot;&gt;空间说说&lt;/span&gt;</span></span><br><span class="line"><span class="code">    &lt;div class=&quot;content-bottom&quot;&gt;</span></span><br><span class="line"><span class="code">        &lt;div class=&quot;tips&quot;&gt;我的生活、吐槽、闲话...&lt;/div&gt;</span></span><br><span class="line"><span class="code">        &lt;a class=&quot;banner-button&quot; href=&quot;https://www.cn&quot;&gt;</span></span><br><span class="line"><span class="code">            &lt;i class=&quot;fa-solid fa-image&quot;&gt;&lt;/i&gt;&lt;span&gt;关于我&lt;/span&gt;</span></span><br><span class="line"><span class="code">        &lt;/a&gt;</span></span><br><span class="line"><span class="code">    &lt;/div&gt;</span></span><br><span class="line"><span class="code">&lt;/div&gt;</span></span><br><span class="line"><span class="code">&lt;style type=&quot;text/css&quot;&gt;</span></span><br><span class="line"><span class="code">#page-header.not-home-page &#123;</span></span><br><span class="line"><span class="code">    height: 50px;</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code">div#page-site-info &#123;</span></span><br><span class="line"><span class="code">    display: none;</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code">.page-top-card &#123;</span></span><br><span class="line"><span class="code">    background-size: cover;</span></span><br><span class="line"><span class="code">    background-position: center;</span></span><br><span class="line"><span class="code">    height: 20rem;</span></span><br><span class="line"><span class="code">    padding: 10px 2.7rem;</span></span><br><span class="line"><span class="code">    border-radius: 20px;</span></span><br><span class="line"><span class="code">    color: #fff;</span></span><br><span class="line"><span class="code">    position: relative</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code">span.content-item-title &#123;</span></span><br><span class="line"><span class="code">    font-size: 2.3em;</span></span><br><span class="line"><span class="code">    font-weight: 700;</span></span><br><span class="line"><span class="code">    line-height: 1.2</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code">.content-bottom &#123;</span></span><br><span class="line"><span class="code">    display: flex;</span></span><br><span class="line"><span class="code">    justify-content: space-between;</span></span><br><span class="line"><span class="code">    align-items: center;</span></span><br><span class="line"><span class="code">    position: absolute;</span></span><br><span class="line"><span class="code">    width: calc(100% - 5.4rem);</span></span><br><span class="line"><span class="code">    bottom: 1rem</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code">a.banner-button &#123;</span></span><br><span class="line"><span class="code">    cursor: pointer;</span></span><br><span class="line"><span class="code">    color: #fff !important;</span></span><br><span class="line"><span class="code">    backdrop-filter: saturate(180%) blur(20px);</span></span><br><span class="line"><span class="code">    background: rgb(120 120 120 / 30%);</span></span><br><span class="line"><span class="code">    padding: 5px 15px;</span></span><br><span class="line"><span class="code">    border-radius: 100px;</span></span><br><span class="line"><span class="code">    text-decoration: none !important</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code">a.banner-button i &#123;</span></span><br><span class="line"><span class="code">    margin-right: 5px</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code">a.banner-button:hover &#123;</span></span><br><span class="line"><span class="code">    background: var(--btn-bg);</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code">[data-theme=dark] .page-top-card &#123;</span></span><br><span class="line"><span class="code">    opacity: .7</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code">@media screen and (max-width:900px) &#123;</span></span><br><span class="line"><span class="code">    .page-top-card &#123;</span></span><br><span class="line"><span class="code">        padding: 10px 1rem;</span></span><br><span class="line"><span class="code">        height: 12rem;</span></span><br><span class="line"><span class="code">        margin: 0 5px</span></span><br><span class="line"><span class="code">    &#125;</span></span><br><span class="line"><span class="code">    .content-bottom &#123;</span></span><br><span class="line"><span class="code">        width: calc(100% - 2rem)</span></span><br><span class="line"><span class="code">    &#125;</span></span><br><span class="line"><span class="code">    a.banner-button span &#123;</span></span><br><span class="line"><span class="code">        display: none</span></span><br><span class="line"><span class="code">    &#125;</span></span><br><span class="line"><span class="code">    a.banner-button &#123;</span></span><br><span class="line"><span class="code">        width: 50px;</span></span><br><span class="line"><span class="code">        height: 35px;</span></span><br><span class="line"><span class="code">        display: flex;</span></span><br><span class="line"><span class="code">        align-items: center;</span></span><br><span class="line"><span class="code">        justify-content: center</span></span><br><span class="line"><span class="code">    &#125;</span></span><br><span class="line"><span class="code">    a.banner-button i &#123;</span></span><br><span class="line"><span class="code">        margin: 0</span></span><br><span class="line"><span class="code">    &#125;</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code">&lt;/style&gt;</span></span><br></pre></td></tr></table></figure><h3 id="文章目录"><a href="#文章目录" class="headerlink" title="文章目录"></a>文章目录</h3><p>新建<code>[BlogRoot]/source/css/aside_toc.css</code></p><p>方案一，透明目录（Heo化太多了，自己直接做透明了，最好手动调一下颜色让文字鲜艳些以适配自己的背景）</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* PC端下目录透明 */</span></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">900px</span>) &#123;</span><br><span class="line">    <span class="selector-id">#aside-content</span> <span class="selector-class">.card-widget</span><span class="selector-id">#card-toc</span> &#123;</span><br><span class="line">        <span class="attribute">background-color</span>: transparent <span class="meta">!important</span>;</span><br><span class="line">        <span class="attribute">box-shadow</span>: none <span class="meta">!important</span>;</span><br><span class="line">        <span class="attribute">border</span>: none;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="selector-id">#aside-content</span> <span class="selector-id">#card-toc</span> <span class="selector-class">.item-headline</span> &#123;</span><br><span class="line">        <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 去掉主题原先的杠 */</span></span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-id">#card-toc</span> <span class="selector-class">.toc-content</span> &gt; * &gt; <span class="selector-class">.toc-item</span> &gt; <span class="selector-class">.toc-child</span> &#123;</span><br><span class="line">    <span class="attribute">border-left</span>: none <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 当前小节前样式及小杠 */</span></span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-id">#card-toc</span> <span class="selector-class">.toc-content</span> <span class="selector-class">.toc-link</span><span class="selector-class">.active</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.2</span>);</span><br><span class="line">    <span class="attribute">background</span>: none;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--zhsher-lighttext); <span class="comment">/* 第一处颜色 */</span></span><br><span class="line">    <span class="attribute">font-weight</span>: bold;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-id">#card-toc</span> <span class="selector-class">.toc-content</span> <span class="selector-class">.toc-link</span><span class="selector-class">.active</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&quot; &quot;</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">0.8rem</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">margin-right</span>: <span class="number">0.5rem</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0.8rem</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0.2rem</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">0.1rem</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--zhsher-lighttext); <span class="comment">/* 第二处颜色 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 隐藏滚动条 */</span></span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-id">#card-toc</span> <span class="selector-class">.toc-content</span>::-webkit-scrollbar-thumb, #aside-content #card-toc .toc-content::-webkit-scrollbar-corner &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: transparent;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>方案二，heo哥目录（取自heo哥F12）</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 文章目录 */</span></span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-id">#card-toc</span> <span class="selector-class">.toc-content</span> <span class="selector-class">.toc-link</span><span class="selector-class">.active</span> &#123;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.2</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">border-left-color</span>: <span class="built_in">var</span>(--heo-hovertext);</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--heo-card-bg);</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--heo-lighttext);</span><br><span class="line">  <span class="attribute">font-weight</span>: bold;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span><span class="selector-class">.toc</span> <span class="selector-class">.toc-item</span><span class="selector-class">.active</span> <span class="selector-class">.toc-link</span> <span class="selector-class">.toc-text</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--heo-white);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-id">#card-toc</span> <span class="selector-class">.toc-content</span> <span class="selector-class">.toc-item</span><span class="selector-class">.active</span> <span class="selector-class">.toc-link</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-id">#card-toc</span> <span class="selector-class">.toc-content</span> <span class="selector-class">.toc-link</span> &#123;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">1.2</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">border-left</span>: <span class="number">0px</span> solid transparent;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--heo-secondtext);</span><br><span class="line">  <span class="attribute">cursor</span>: default;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-id">#card-toc</span> <span class="selector-class">.toc-content</span> <span class="selector-class">.toc-link</span><span class="selector-pseudo">:not</span>(<span class="selector-class">.active</span>) <span class="selector-tag">span</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.6</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  <span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">1px</span>);</span><br><span class="line">  <span class="attribute">transition</span>: <span class="number">0.3s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-id">#card-toc</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.toc-content</span> <span class="selector-class">.toc-link</span><span class="selector-pseudo">:not</span>(<span class="selector-class">.active</span>) <span class="selector-tag">span</span> &#123;</span><br><span class="line">  <span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">0px</span>);</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-id">#card-toc</span> <span class="selector-class">.toc-content</span> <span class="selector-class">.toc-link</span><span class="selector-pseudo">:not</span>(<span class="selector-class">.active</span>) <span class="selector-tag">span</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--heo-lighttext);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 目录卡片边距 */</span></span><br><span class="line"><span class="selector-id">#card-toc</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0.5rem</span> <span class="number">0.5rem</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改主题配置文件<code>_config.butterfly.yml</code>，引入css文件</p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">  # - &lt;link rel=&quot;stylesheet&quot; href=&quot;/xxx.css&quot;&gt;</span><br><span class="line"><span class="addition">+  - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/aside_toc.css&quot;&gt;</span></span><br></pre></td></tr></table></figure><p>小张比较喜欢简化风格，所以隐藏了除目录外的其它卡片，<code>toc.style_simple: true</code></p><h3 id="Github-贡献日历"><a href="#Github-贡献日历" class="headerlink" title="Github 贡献日历"></a>Github 贡献日历</h3><blockquote><p>原文地址：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://zfe.space/post/hexo-githubcalendar.html">hexo-githubcalendar | 小冰博客</a></p></blockquote><p>安装</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">npm</span> <span class="string">i</span> <span class="string">hexo-githubcalendar</span> <span class="string">--save</span></span><br></pre></td></tr></table></figure><p>修改配置文件 <code>_config.yml</code>，在最后新增</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Ice Kano Plus_in</span></span><br><span class="line"><span class="comment"># Hexo Github Canlendar</span></span><br><span class="line"><span class="comment"># Author: Ice Kano</span></span><br><span class="line"><span class="comment"># Modify: Lete乐特</span></span><br><span class="line"><span class="attr">githubcalendar:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">priority:</span> <span class="number">3</span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">/</span></span><br><span class="line">  <span class="attr">user:</span> <span class="string">GC-ZF</span>  <span class="comment"># &lt;- 改为自己的Github用户名</span></span><br><span class="line">  <span class="attr">layout:</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">id</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">recent-posts</span></span><br><span class="line">    <span class="attr">index:</span> <span class="number">0</span></span><br><span class="line">  <span class="attr">githubcalendar_html:</span> <span class="string">&#x27;&lt;div class=&quot;recent-post-item&quot; style=&quot;width:100%;height:auto;padding:10px;&quot;&gt;&lt;div id=&quot;github_loading&quot; style=&quot;width:10%;height:100%;margin:0 auto;display: block&quot;&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot;  viewBox=&quot;0 0 50 50&quot; style=&quot;enable-background:new 0 0 50 50&quot; xml:space=&quot;preserve&quot;&gt;&lt;path fill=&quot;#d0d0d0&quot; d=&quot;M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z&quot; transform=&quot;rotate(275.098 25 25)&quot;&gt;&lt;animateTransform attributeType=&quot;xml&quot; attributeName=&quot;transform&quot; type=&quot;rotate&quot; from=&quot;0 25 25&quot; to=&quot;360 25 25&quot; dur=&quot;0.6s&quot; repeatCount=&quot;indefinite&quot;&gt;&lt;/animateTransform&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/div&gt;&lt;div id=&quot;github_container&quot;&gt;&lt;/div&gt;&lt;/div&gt;&#x27;</span></span><br><span class="line">  <span class="attr">pc_minheight:</span> <span class="string">280px</span></span><br><span class="line">  <span class="attr">mobile_minheight:</span> <span class="string">0px</span></span><br><span class="line">  <span class="attr">color:</span> <span class="string">&quot;[&#x27;#ebedf0&#x27;, &#x27;#fdcdec&#x27;, &#x27;#fc9bd9&#x27;, &#x27;#fa6ac5&#x27;, &#x27;#f838b2&#x27;, &#x27;#f5089f&#x27;, &#x27;#c4067e&#x27;, &#x27;#92055e&#x27;, &#x27;#540336&#x27;, &#x27;#48022f&#x27;, &#x27;#30021f&#x27;]&quot;</span></span><br><span class="line">  <span class="attr">api:</span> <span class="string">https://gitcalendar.zfe.space/api</span></span><br><span class="line">  <span class="comment"># api: https://python-gitee-calendar-api.vercel.app/api</span></span><br><span class="line">  <span class="attr">calendar_js:</span> <span class="string">https://jsd.onmicrosoft.cn/gh/Zfour/hexo-github-calendar@1.21/hexo_githubcalendar.min.js</span></span><br><span class="line">  <span class="attr">plus_style:</span> <span class="string">&quot;&quot;</span></span><br></pre></td></tr></table></figure><p>在其它页面中挂载，只需在对应md文件中插入</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">name</span>=<span class="string">&quot;我是墙&quot;</span> <span class="attr">id</span>=<span class="string">&quot;history_calendar&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- id=&gt;type  recent-posts=&gt;name    --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">name</span>=<span class="string">&quot;我是画框&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">name</span>=<span class="string">&quot;我是纸&quot;</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--这里通过js挂载githubcalendar，也就是画画--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="文章双栏布局"><a href="#文章双栏布局" class="headerlink" title="文章双栏布局"></a>文章双栏布局</h3><blockquote><p>原文地址：</p><ul><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://zfe.space/post/hexo-butterfly-article-double-row.html">文章双栏布局插件 | 小冰博客</a></li><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://akilar.top/posts/d6b69c49/">店长的双栏、三栏适配方案 - Akilar.top</a></li></ul></blockquote><p>安装</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm i hexo-butterfly-article-double-row --save</span><br></pre></td></tr></table></figure><p>修改配置文件 <code>_config.yml</code>，在最后新增</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">butterfly_article_double_row:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>如果每页文章太少，可以调整<code>index_generator</code>属性</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">index_generator:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="attr">per_page:</span> <span class="number">12</span></span><br><span class="line">  <span class="attr">order_by:</span> <span class="string">-date</span></span><br></pre></td></tr></table></figure><blockquote><p>但是文章最后一页页码按钮会错位，所以不用插件直接用小冰老师的css文件做一个微调</p></blockquote><p>新建<code>[BlogRoot]/source/css/double row.css</code></p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#recent-posts</span> &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>: -<span class="number">1rem</span>; <span class="comment">/*头部抵消间隔*/</span></span><br><span class="line">    <span class="attribute">align-content</span>: flex-start;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">flex-wrap</span>: wrap; <span class="comment">/*规定灵活的项目在必要的时候拆行或拆列。*/</span></span><br><span class="line">    <span class="attribute">justify-content</span>: space-between; <span class="comment">/*。*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#recent-posts</span> &gt; <span class="selector-class">.recent-post-item</span> &#123;</span><br><span class="line">    <span class="comment">/*max-height:324px;*/</span> <span class="comment">/*文章容器最大高度*/</span></span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">1rem</span>; <span class="comment">/*最小间距*/</span></span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">height</span>: auto; <span class="comment">/*高度自动*/</span></span><br><span class="line">    <span class="attribute">width</span>: <span class="number">49%</span>; <span class="comment">/*文章容器容器宽度*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#recent-posts</span> &gt; <span class="selector-class">.recent-post-item</span> <span class="selector-class">.post_cover</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>; <span class="comment">/*图片封面宽度*/</span></span><br><span class="line">    <span class="attribute">height</span>: <span class="number">200px</span>; <span class="comment">/*图片封面高度*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#recent-posts</span> &gt; <span class="selector-class">.recent-post-item</span> <span class="selector-class">.post_cover</span> <span class="selector-tag">img</span><span class="selector-class">.post_bg</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>; <span class="comment">/*图片宽度*/</span></span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>; <span class="comment">/*图片高度*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-id">#recent-posts</span> &gt; <span class="selector-class">.recent-post-item</span> &gt; <span class="selector-class">.recent-post-info</span> &gt; <span class="selector-class">.content</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none; <span class="comment">/*隐藏文章详情*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#recent-posts</span> &gt; <span class="selector-class">.recent-post-item</span> &#123;</span><br><span class="line"></span><br><span class="line">    -webkit-<span class="attribute">flex-direction</span>: column; <span class="comment">/*容器内部纵向排列*/</span></span><br><span class="line">    -ms-<span class="attribute">flex-direction</span>: column; <span class="comment">/*容器内部纵向排列*/</span></span><br><span class="line">    <span class="attribute">flex-direction</span>: column; <span class="comment">/*容器内部纵向排列*/</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#recent-posts</span> &gt; <span class="selector-class">.recent-post-item</span> <span class="selector-class">.left_radius</span> &#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span> <span class="number">8px</span> <span class="number">0</span> <span class="number">0</span>; <span class="comment">/*圆角修改*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#recent-posts</span> &gt; <span class="selector-class">.recent-post-item</span> <span class="selector-class">.right_radius</span> &#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span> <span class="number">8px</span> <span class="number">0</span> <span class="number">0</span>; <span class="comment">/*圆角修改*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.recent-post-item</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: auto <span class="meta">!important</span>; <span class="comment">/*容器高度自动*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.recent-post-info</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">40px</span>; <span class="comment">/*容器内部文字左右间距*/</span></span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">1em</span>; <span class="comment">/*容器内部文字上间距*/</span></span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span> <span class="meta">!important</span>; <span class="comment">/*容器宽度*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#recent-posts</span> &gt; <span class="selector-class">.recent-post-item</span> &gt; <span class="selector-class">.recent-post-info</span> &gt; <span class="selector-class">.article-title</span> &#123;</span><br><span class="line">    -webkit-line-clamp: <span class="number">1</span>; <span class="comment">/*控制标题的行数*/</span></span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">0.3rem</span>; <span class="comment">/*控制标题的上间距*/</span></span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">0.3rem</span>; <span class="comment">/*控制标题的下间距*/</span></span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--text-highlight-color);</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">1.2em</span>; <span class="comment">/*控制标题的字体大小*/</span></span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">1.4</span>; <span class="comment">/*控制标题的行高*/</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#recent-posts</span> &gt; <span class="selector-class">.recent-post-item</span> &gt; <span class="selector-class">.recent-post-info</span> &gt; <span class="selector-class">.article-meta-wrap</span> &#123;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">1rem</span>; <span class="comment">/*控制标题meta信息的底部间距*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">768px</span>) &#123;</span><br><span class="line">    <span class="selector-id">#recent-posts</span> &gt; <span class="selector-class">.recent-post-item</span> &#123;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">100%</span>; <span class="comment">/*控制手机自适应*/</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 小冰老师微调，解决最后一页错误问题 */</span></span><br><span class="line"><span class="selector-tag">nav</span><span class="selector-id">#pagination</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改主题配置文件<code>_config.butterfly.yml</code>，引入css文件</p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">    # - &lt;link rel=&quot;stylesheet&quot; href=&quot;/xxx.css&quot;&gt;</span><br><span class="line"><span class="addition">+   - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/double row.css&quot;&gt;</span></span><br></pre></td></tr></table></figure><h3 id="时钟（已移除）"><a href="#时钟（已移除）" class="headerlink" title="时钟（已移除）"></a>时钟（已移除）</h3><blockquote><p>原文地址：</p><ul><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://zfe.space/post/hexo-electric-clock.html">电子时钟插件 | 小冰博客</a>、<a target="_blank" rel="noopener external nofollow noreferrer" href="https://akilar.top/posts/4e39cf4a/">电子时钟 | Akilarの糖果屋</a>：由于天气接口失效已不适配</li><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://anzhiy.cn/posts/sdxhu.html#Gitcalendar">电子时钟 | 安知鱼</a></li></ul></blockquote><p>安装</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">npm</span> <span class="string">install</span> <span class="string">hexo-butterfly-clock-anzhiyu</span> <span class="string">--save</span></span><br></pre></td></tr></table></figure><p>修改配置文件 <code>_config.yml</code>，在最后新增</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># electric_clock</span></span><br><span class="line"><span class="comment"># see https://anzhiy.cn/posts/fc18.html</span></span><br><span class="line"><span class="attr">electric_clock:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># 开关</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">5</span> <span class="comment">#过滤器优先权</span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">all</span> <span class="comment"># 应用页面</span></span><br><span class="line">  <span class="attr">exclude:</span></span><br><span class="line">    <span class="comment"># - /posts/</span></span><br><span class="line">    <span class="comment"># - /about/</span></span><br><span class="line">  <span class="attr">layout:</span> <span class="comment"># 挂载容器类型</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">class</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">sticky_layout</span></span><br><span class="line">    <span class="attr">index:</span> <span class="number">0</span></span><br><span class="line">  <span class="attr">loading:</span> <span class="string">https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu@1.1.6/lib/loading.gif</span> <span class="comment">#加载动画自定义</span></span><br><span class="line">  <span class="attr">clock_css:</span> <span class="string">https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu@1.1.6/lib/clock.min.css</span></span><br><span class="line">  <span class="attr">clock_js:</span> <span class="string">https://cdn.cbd.int/hexo-butterfly-clock-anzhiyu@1.1.6/lib/clock.min.js</span></span><br><span class="line">  <span class="attr">ip_api:</span> <span class="string">https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0</span></span><br><span class="line">  <span class="attr">qweather_key:</span> <span class="comment"># 和风天气key</span></span><br><span class="line">  <span class="attr">gaud_map_key:</span> <span class="comment"># 高得地图web服务key</span></span><br><span class="line">  <span class="attr">default_rectangle:</span> <span class="literal">true</span> <span class="comment"># 开启后将一直显示rectangle位置的天气，否则将获取访问者的地理位置与天气</span></span><br><span class="line">  <span class="attr">rectangle:</span> <span class="number">112.6534116</span><span class="string">,27.96920845</span> <span class="comment"># 获取访问者位置失败时会显示该位置的天气，同时该位置为开启default_rectangle后的位置</span></span><br></pre></td></tr></table></figure><h3 id="hexo-magnet"><a href="#hexo-magnet" class="headerlink" title="hexo-magnet"></a>hexo-magnet</h3><blockquote><p>原文地址：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://zfe.space/post/hexo-magnet.html">hexo-magnet 插件 1.0 | 小冰博客</a></p><p>功能：</p><ol><li>自定义 tags 或 categories 的排列和展示</li><li>自定义 tags 或 categories 的展示图标，名称</li><li>自定义排列的行数，默认 2 行</li></ol></blockquote><p>安装</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">npm</span> <span class="string">i</span> <span class="string">hexo-magnet</span> <span class="string">--save</span></span><br></pre></td></tr></table></figure><p>修改配置文件 <code>_config.yml</code>，在最后新增</p><ul><li>type：categories&#x2F;tags</li><li>name：分类原名</li><li>display_name：替换名称</li><li>icon：图标</li></ul><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># hexo-magnet</span></span><br><span class="line"><span class="attr">magnet:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">8</span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">/</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">categories</span></span><br><span class="line">  <span class="attr">devide:</span> <span class="number">2</span></span><br><span class="line">  <span class="attr">display:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">小张列传</span></span><br><span class="line">      <span class="attr">display_name:</span> <span class="string">小张列传</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">📚</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">服务器</span></span><br><span class="line">      <span class="attr">display_name:</span> <span class="string">瞎折腾服务器</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">👩‍💻</span></span><br><span class="line">  <span class="attr">color_setting:</span></span><br><span class="line">    <span class="attr">text_color:</span> <span class="string">black</span></span><br><span class="line">    <span class="attr">text_hover_color:</span> <span class="string">white</span></span><br><span class="line">    <span class="attr">background_color:</span> <span class="string">&quot;#f2f2f2&quot;</span></span><br><span class="line">    <span class="attr">background_hover_color:</span> <span class="string">&quot;#b30070&quot;</span></span><br><span class="line">  <span class="attr">layout:</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">id</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">recent-posts</span></span><br><span class="line">    <span class="attr">index:</span> <span class="number">0</span></span><br><span class="line">  <span class="attr">temple_html:</span> <span class="string">&#x27;&lt;div class=&quot;recent-post-item&quot; style=&quot;width:100%;height: auto&quot;&gt;&lt;div id=&quot;catalog_magnet&quot;&gt;$&#123;temple_html_item&#125;&lt;/div&gt;&lt;/div&gt;&#x27;</span></span><br><span class="line">  <span class="attr">plus_style:</span> <span class="string">&quot;&quot;</span></span><br></pre></td></tr></table></figure><h3 id="文章轮播置顶"><a href="#文章轮播置顶" class="headerlink" title="文章轮播置顶"></a>文章轮播置顶</h3><blockquote><p>原文地址： <a target="_blank" rel="noopener external nofollow noreferrer" href="https://akilar.top/posts/8e1264d1/">hexo-butterfly-swiper | Akilarの糖果屋</a></p></blockquote><p>安装</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-butterfly-swiper --save</span><br></pre></td></tr></table></figure><p>修改配置文件 <code>_config.yml</code>，在最下面添加</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># hexo-butterfly-swiper</span></span><br><span class="line"><span class="comment"># see https://akilar.top/posts/8e1264d1/</span></span><br><span class="line"><span class="attr">swiper:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># 开关</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">5</span> <span class="comment">#过滤器优先权</span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">all</span> <span class="comment"># 应用页面</span></span><br><span class="line">  <span class="attr">timemode:</span> <span class="string">date</span> <span class="comment">#date/updated</span></span><br><span class="line">  <span class="attr">layout:</span> <span class="comment"># 挂载容器类型</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">id</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">recent-posts</span></span><br><span class="line">    <span class="attr">index:</span> <span class="number">0</span></span><br><span class="line">  <span class="attr">default_descr:</span> <span class="string">再怎么看我也不知道怎么描述它的啦！</span></span><br><span class="line">  <span class="attr">swiper_css:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css</span> <span class="comment">#swiper css依赖</span></span><br><span class="line">  <span class="attr">swiper_js:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js</span> <span class="comment">#swiper js依赖</span></span><br><span class="line">  <span class="attr">custom_css:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css</span> <span class="comment"># 适配主题样式补丁</span></span><br><span class="line">  <span class="attr">custom_js:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js</span> <span class="comment"># swiper初始化方法</span></span><br></pre></td></tr></table></figure><p>在文章的<code>front_matter</code>中添加<code>swiper_index</code>配置项</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">swiper_index:</span> <span class="number">1</span> <span class="comment">#置顶轮播图顺序，非负整数，数字越大越靠前</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><h3 id="Wowjs"><a href="#Wowjs" class="headerlink" title="Wowjs"></a>Wowjs</h3><blockquote><p>原文地址：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://akilar.top/posts/abab51cf/">Add Blog Animation – Wowjs | Akilarの糖果屋</a></p></blockquote><p>安装</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-butterfly-wowjs --save</span><br></pre></td></tr></table></figure><p>修改配置文件 <code>_config.yml</code>，在最下面添加</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 加载动画</span></span><br><span class="line"><span class="attr">wowjs:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment">#控制动画开关。true是打开，false是关闭</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">10</span> <span class="comment">#过滤器优先级</span></span><br><span class="line">  <span class="attr">mobile:</span> <span class="literal">false</span> <span class="comment">#移动端是否启用，默认移动端禁用</span></span><br><span class="line">  <span class="attr">animateitem:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">recent-post-item</span> <span class="comment">#必填项，需要添加动画的元素的class</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span> <span class="comment">#必填项，需要添加的动画</span></span><br><span class="line">      <span class="attr">duration:</span> <span class="number">1.</span><span class="string">5s</span> <span class="comment">#选填项，动画持续时间，单位可以是ms也可以是s。例如3s，700ms。</span></span><br><span class="line">      <span class="attr">delay:</span> <span class="string">200ms</span> <span class="comment">#选填项，动画开始的延迟时间，单位可以是ms也可以是s。例如3s，700ms。</span></span><br><span class="line">      <span class="attr">offset:</span> <span class="number">30</span> <span class="comment">#选填项，开始动画的距离（相对浏览器底部）</span></span><br><span class="line">      <span class="attr">iteration:</span> <span class="number">1</span> <span class="comment">#选填项，动画重复的次数</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">class:</span> <span class="string">card-widget</span></span><br><span class="line">      <span class="attr">style:</span> <span class="string">animate__zoomIn</span></span><br><span class="line">  <span class="attr">animate_css:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css</span></span><br><span class="line">  <span class="attr">wow_js:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js</span></span><br><span class="line">  <span class="attr">wow_init_js:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js</span></span><br></pre></td></tr></table></figure><h3 id="文章密码"><a href="#文章密码" class="headerlink" title="文章密码"></a>文章密码</h3><blockquote><p>文档地址：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/D0n9X1n/hexo-blog-encrypt/blob/master/ReadMe.zh.md">hexo-blog-encrypt Github</a></p></blockquote><p>安装</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install --save hexo-blog-encrypt</span><br></pre></td></tr></table></figure><p>使用时修改文章的<code>front_matter</code>，<code>password</code>必选，其它选填。也可以将整个分类加密，具体参考文档</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">password:</span> <span class="string">mikemessi</span></span><br><span class="line"><span class="attr">abstract:</span> <span class="string">有东西被加密了,</span> <span class="string">请输入密码查看.</span></span><br><span class="line"><span class="attr">message:</span> <span class="string">您好,</span> <span class="string">这里需要密码.</span></span><br><span class="line"><span class="attr">wrong_pass_message:</span> <span class="string">抱歉,</span> <span class="string">这个密码看着不太对,</span> <span class="string">请再试试.</span></span><br><span class="line"><span class="attr">wrong_hash_message:</span> <span class="string">抱歉,</span> <span class="string">这个文章不能被校验,</span> <span class="string">不过您还是能看看解密后的内容.</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><h3 id="视频"><a href="#视频" class="headerlink" title="视频"></a>视频</h3><blockquote><p>通常用<code>&lt;iframe height=500 width=500 src=&#39;xxxx&#39; frameborder=0 &#39;allowfullscreen&#39;&gt;&lt;/iframe&gt;</code>标签插入视频，但本地markdown软件打开文件总是自动播放，所以借助插件会方便一些</p><p>文档地址：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/MoePlayer/hexo-tag-dplayer">hexo-tag-dplayer | Github</a></p><p>基于<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/DIYgod/DPlayer">DIYgod&#x2F;DPlayer</a>修改，<strong>hexo-tag-dplayer</strong>具体参数可以参考它</p></blockquote><p>安装</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install --save hexo-tag-dplayer</span><br></pre></td></tr></table></figure><p>使用</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;% dplayer &quot;url=xxx&quot; &quot;autoplay=false&quot; %&#125;</span><br></pre></td></tr></table></figure><table><thead><tr><th>选项</th><th>默认值</th><th>描述</th><th>选项</th><th>默认值</th><th>描述</th></tr></thead><tbody><tr><td>url</td><td>必须值</td><td>视频地址</td><td>autoplay</td><td>true</td><td>自动播放，移动端浏览器暂时不支持</td></tr><tr><td>pic</td><td></td><td>视频封面</td><td>loop</td><td>false</td><td>视频循环播放</td></tr><tr><td>screenshot</td><td>false</td><td>视频截图</td><td>hotkey</td><td>true</td><td>开启热键，支持快进、快退、音量控制、播放暂停</td></tr><tr><td>mutex</td><td>true</td><td>阻止多个播放器同时播放</td><td>width,height</td><td></td><td>宽高，例”width&#x3D;854px” “height&#x3D;480px”</td></tr><tr><td>theme</td><td>#ad7a86</td><td>播放器风格色彩设置</td><td>preload</td><td>auto</td><td>视频文件预载入模式，可选项： none, metadata, auto</td></tr><tr><td>lang</td><td>zh-cn</td><td>‘en’, ‘zh-cn’, ‘zh-tw’</td><td>logo</td><td></td><td>url，在左上角展示一个 logo</td></tr><tr><td>volume</td><td>0.7</td><td>播放器音量</td><td></td><td></td><td></td></tr></tbody></table><h3 id="footer底部-跳动的心"><a href="#footer底部-跳动的心" class="headerlink" title="footer底部 跳动的心"></a>footer底部 跳动的心</h3><blockquote><p>原文地址：[【源码开放】Hexo+Github 博客butterfly 和 matery 主题 搭建完全教程【整理】 | 超逸の博客](<a target="_blank" rel="noopener external nofollow noreferrer" href="https://yangchaoyi.vip/posts/520520/#%E9%A1%B5%E9%9D%A2%E5%BA%95%E9%83%A8">https://yangchaoyi.vip/posts/520520/#页面底部</a> footer 跳动的心)</p></blockquote><p>编辑 <code>[BlogRoot]/themes/Butterfly/layout/includes/footer.pug</code></p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line"><span class="deletion">-&amp;copy;$&#123;theme.since&#125; - $&#123;nowYear&#125; By $&#123;config.author&#125;</span></span><br><span class="line"><span class="addition">+&amp;copy;$&#123;theme.footer.owner.since&#125; - $&#123;nowYear + &#x27; &#x27;&#125; &lt;i id=&quot;heartbeat&quot; class=&quot;fa fas fa-heartbeat&quot;&gt;&lt;/i&gt; $&#123;config.author&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="deletion">-&amp;copy;$&#123;nowYear&#125; By $&#123;config.author&#125; </span></span><br><span class="line"><span class="addition">+&amp;copy;$&#123;nowYear + &#x27; &#x27;&#125; &lt;i id=&quot;heartbeat&quot; class=&quot;fa fas fa-heartbeat&quot;&gt;&lt;/i&gt; $&#123;config.author&#125;</span></span><br><span class="line"></span><br><span class="line">//最底部添加</span><br><span class="line"><span class="addition">+&lt;head&gt;&lt;link rel=&quot;stylesheet&quot; href=&quot;https://jsd.onmicrosoft.cn/gh/HCLonely/images@master/others/heartbeat.min.css&quot;&gt;&lt;/head&gt;</span></span><br></pre></td></tr></table></figure><h3 id="朋友圈"><a href="#朋友圈" class="headerlink" title="朋友圈"></a>朋友圈</h3><blockquote><p>文档地址：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://fcircle-doc.js.cool/#/">hexo-filter-fcircle</a></p></blockquote><p>本博客目前采用<strong>GitHub+Leancloud+yyyz前端方案</strong>部署，朋友圈项目迭代特别快，不再详细记录，根据文档最新教程部署即可</p><h3 id="鼠标右击美化"><a href="#鼠标右击美化" class="headerlink" title="鼠标右击美化"></a>鼠标右击美化</h3><blockquote><p>原文地址：</p><ul><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://yisous.xyz/posts/11eb4aac/">butterfly博客自定义右键菜单升级版 | LYXの小破站</a>：小张采用的这个</li><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.zhheo.com/p/5e931b65.html">Butterfly魔改：自定义右键菜单 | 张洪Heo</a></li><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://akilar.top/posts/fd243d7/">SAO UI Plan – SAO Utils WEB 2.0 | Akilarの糖果屋</a></li><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://tzy1997.com/articles/hexo1608/">Hexo + Butterfly 自定义右键菜单 | 唐志远の博客</a></li></ul></blockquote><h4 id="修改PUG"><a href="#修改PUG" class="headerlink" title="修改PUG"></a>修改PUG</h4><p>新建 <code>[BlogRoot]/themes/butterfly/layout/includes/rightmenu.pug</code></p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#rightMenu</span></span><br><span class="line">    <span class="selector-class">.rightMenu-group</span><span class="selector-class">.rightMenu-small</span></span><br><span class="line">        <span class="selector-tag">a</span><span class="selector-class">.rightMenu-item</span>(href=&quot;javascript:window.history.<span class="built_in">back</span>();&quot;)</span><br><span class="line">            <span class="selector-tag">i</span><span class="selector-class">.fa</span><span class="selector-class">.fa-arrow-left</span></span><br><span class="line">        <span class="selector-tag">a</span><span class="selector-class">.rightMenu-item</span>(href=&quot;javascript:window.history.<span class="built_in">forward</span>();&quot;)</span><br><span class="line">            <span class="selector-tag">i</span><span class="selector-class">.fa</span><span class="selector-class">.fa-arrow-right</span></span><br><span class="line">        <span class="selector-tag">a</span><span class="selector-class">.rightMenu-item</span>(href=&quot;javascript:window.location.<span class="built_in">reload</span>();&quot;)</span><br><span class="line">            <span class="selector-tag">i</span><span class="selector-class">.fa</span><span class="selector-class">.fa-refresh</span></span><br><span class="line">        <span class="selector-tag">a</span><span class="selector-class">.rightMenu-item</span>(href=&quot;javascript:rmf.<span class="built_in">scrollToTop</span>();&quot;)</span><br><span class="line">            <span class="selector-tag">i</span><span class="selector-class">.fa</span><span class="selector-class">.fa-arrow-up</span></span><br><span class="line">    <span class="selector-class">.rightMenu-group</span><span class="selector-class">.rightMenu-line</span><span class="selector-class">.hide</span><span class="selector-id">#menu-text</span></span><br><span class="line">        <span class="selector-tag">a</span><span class="selector-class">.rightMenu-item</span>(href=&quot;javascript:rmf.<span class="built_in">copySelect</span>();&quot;)</span><br><span class="line">            <span class="selector-tag">i</span><span class="selector-class">.fa</span><span class="selector-class">.fa-copy</span></span><br><span class="line">            <span class="selector-tag">span</span>=&#x27;复制&#x27;</span><br><span class="line">        <span class="selector-tag">a</span><span class="selector-class">.rightMenu-item</span>(href=&quot;javascript:window.<span class="built_in">open</span>(\<span class="string">&quot;https://www.baidu.com/s?wd=\&quot;+window.getSelection().toString());window.location.reload();&quot;</span>)</span><br><span class="line">            i.fa-solid.fa-magnifying-glass</span><br><span class="line">            span=<span class="string">&#x27;百度搜索&#x27;</span></span><br><span class="line">    .rightMenu-group.rightMenu-line.hide#menu-too</span><br><span class="line">        a.<span class="built_in">rightMenu-item</span>(href=<span class="string">&quot;javascript:window.open(window.getSelection().toString());window.location.reload();&quot;</span>)</span><br><span class="line">            i.fa.fa-link</span><br><span class="line">            span=<span class="string">&#x27;转到链接&#x27;</span></span><br><span class="line">    .rightMenu-group.rightMenu-line.hide#menu-paste</span><br><span class="line">        a.<span class="built_in">rightMenu-item</span>(href=<span class="string">&#x27;javascript:rmf.paste()&#x27;</span>)</span><br><span class="line">            i.fa.fa-copy</span><br><span class="line">            span=<span class="string">&#x27;粘贴&#x27;</span></span><br><span class="line">    .rightMenu-group.rightMenu-line.hide#menu-post</span><br><span class="line">        a.<span class="built_in">rightMenu-item</span>(href=<span class="string">&quot;#post-comment&quot;</span>)</span><br><span class="line">            i.fas.fa-comment</span><br><span class="line">            span=<span class="string">&#x27;空降评论&#x27;</span></span><br><span class="line">        a.<span class="built_in">rightMenu-item</span>(href=<span class="string">&quot;javascript:rmf.copyWordsLink()&quot;</span>)</span><br><span class="line">            i.fa.fa-link</span><br><span class="line">            span=<span class="string">&#x27;复制本文地址&#x27;</span></span><br><span class="line">    .rightMenu-group.rightMenu-line.hide#menu-to</span><br><span class="line">        a.<span class="built_in">rightMenu-item</span>(href=<span class="string">&quot;javascript:rmf.openWithNewTab()&quot;</span>)</span><br><span class="line">            i.fa.fa-window-restore</span><br><span class="line">            span=<span class="string">&#x27;新窗口打开&#x27;</span></span><br><span class="line">        a.rightMenu-item#<span class="built_in">menu-too</span>(href=<span class="string">&quot;javascript:rmf.open()&quot;</span>)</span><br><span class="line">            i.fa.fa-link</span><br><span class="line">            span=<span class="string">&#x27;转到链接&#x27;</span></span><br><span class="line">        a.<span class="built_in">rightMenu-item</span>(href=<span class="string">&quot;javascript:rmf.copyLink()&quot;</span>)</span><br><span class="line">            i.fa.fa-copy</span><br><span class="line">            span=<span class="string">&#x27;复制链接&#x27;</span></span><br><span class="line">    .rightMenu-group.rightMenu-line.hide#menu-img</span><br><span class="line">        a.<span class="built_in">rightMenu-item</span>(href=<span class="string">&quot;./#post-comment&quot;</span>)</span><br><span class="line">            i.fa.fa-download</span><br><span class="line">            span=<span class="string">&#x27;保存图片&#x27;</span></span><br><span class="line">        a.<span class="built_in">rightMenu-item</span>(href=<span class="string">&quot;javascript:rmf.openWithNewTab()&quot;</span>)</span><br><span class="line">            i.fa.fa-window-restore</span><br><span class="line">            span=<span class="string">&#x27;在新窗口打开&#x27;</span></span><br><span class="line">        a.<span class="built_in">rightMenu-item</span>(href=<span class="string">&quot;javascript:rmf.click()&quot;</span>)</span><br><span class="line">            i.fa.fa-arrows-alt</span><br><span class="line">            span=<span class="string">&#x27;全屏显示&#x27;</span></span><br><span class="line">        a.<span class="built_in">rightMenu-item</span>(href=<span class="string">&quot;javascript:rmf.copyLink()&quot;</span>)</span><br><span class="line">            i.fa.fa-copy</span><br><span class="line">            span=<span class="string">&#x27;复制图片链接&#x27;</span></span><br><span class="line">    .rightMenu-group.rightMenu-line</span><br><span class="line">        //a.<span class="built_in">rightMenu-item</span>(href=<span class="string">&quot;javascript:toRandomPost()&quot;</span>)</span><br><span class="line">        //    i.fa.fa-paper-plane</span><br><span class="line">        //    span=<span class="string">&#x27;随便逛逛&#x27;</span></span><br><span class="line">        a.<span class="built_in">rightMenu-item</span>(href=<span class="string">&quot;javascript:rmf.switchDarkMode();&quot;</span>)</span><br><span class="line">            i.fa.fa-moon</span><br><span class="line">            span=<span class="string">&#x27;昼夜切换&#x27;</span></span><br><span class="line">        a.<span class="built_in">rightMenu-item</span>(href=<span class="string">&quot;javascript:rmf.translate();&quot;</span>)</span><br><span class="line">            i.fas.fa-language</span><br><span class="line">            span=<span class="string">&#x27;繁简转换&#x27;</span></span><br><span class="line">        if <span class="built_in">is_home</span>() == false</span><br><span class="line">            a.<span class="built_in">rightMenu-item</span>(href=<span class="string">&quot;javascript:rmf.switchReadMode();&quot;</span>)</span><br><span class="line">                i.fa.fa-book</span><br><span class="line">                span=<span class="string">&#x27;阅读模式&#x27;</span></span><br><span class="line">        a.<span class="built_in">rightMenu-item</span>(href=<span class="string">&quot;javascript:window.location.href=\&quot;/about/\&quot;;&quot;</span>)</span><br><span class="line">            i.fa.fa-info-circle</span><br><span class="line">            span=<span class="string">&#x27;关于小张&#x27;</span></span><br></pre></td></tr></table></figure><p><code>[BlogRoot]/themes/butterfly/layout/includes/layout.pug</code>中引入（注意缩进，去掉+）</p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">    include ./rightside.pug</span><br><span class="line">    include ./additional-js.pug</span><br><span class="line">    !=partial(&#x27;includes/third-party/search/index&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line"><span class="addition">+  !=partial(&#x27;includes/rightmenu&#x27;,&#123;&#125;, &#123;cache:true&#125;)</span></span><br></pre></td></tr></table></figure><h4 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h4><p>新建 <code>[BlogRoot]/themes/butterfly/source/css/rightmenu/rightmenu.css</code></p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* rightMenu */</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&#x27;light&#x27;</span>]</span> <span class="selector-id">#rightMenu</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">    <span class="attribute">position</span>: fixed;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">160px</span>;</span><br><span class="line">    <span class="attribute">height</span>: fit-content;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">10%</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">10%</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--card-bg);</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">rgb</span>(<span class="number">210</span>,<span class="number">210</span>,<span class="number">210</span>);;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">100</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">3px</span> <span class="number">3px</span> <span class="number">5px</span> <span class="number">#88888894</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--zhshier-white-acrylic1);</span><br><span class="line">    backdrop-<span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">30px</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&#x27;dark&#x27;</span>]</span> <span class="selector-id">#rightMenu</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">    <span class="attribute">position</span>: fixed;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">160px</span>;</span><br><span class="line">    <span class="attribute">height</span>: fit-content;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">10%</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">10%</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--card-bg);</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">rgb</span>(<span class="number">210</span>,<span class="number">210</span>,<span class="number">210</span>);;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">100</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">3px</span> <span class="number">3px</span> <span class="number">5px</span> <span class="number">#88888894</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--zhshier-black-acrylic1);</span><br><span class="line">    backdrop-<span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">30px</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span>&#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">7px</span> <span class="number">6px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span><span class="selector-pseudo">:not</span>(<span class="selector-pseudo">:nth-last-child</span>(<span class="number">1</span>))&#123;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="built_in">rgb</span>(<span class="number">180</span>,<span class="number">180</span>,<span class="number">180</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span><span class="selector-class">.rightMenu-small</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span> <span class="selector-class">.rightMenu-item</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">transition</span>: <span class="number">0.3s</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--font-color);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span><span class="selector-class">.rightMenu-line</span> <span class="selector-class">.rightMenu-item</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">40px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">40px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">4px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span> <span class="selector-class">.rightMenu-item</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--text-bg-hover);</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0px</span> <span class="number">0px</span> <span class="number">5px</span> <span class="built_in">var</span>(--zhshier-border);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span> <span class="selector-class">.rightMenu-item</span> <span class="selector-tag">i</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span> <span class="selector-class">.rightMenu-item</span> <span class="selector-tag">span</span>&#123;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">30px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">var</span>(--zhshier-blue);</span><br><span class="line">    <span class="comment">/* box-shadow:0 0 3px var(--zhshier-blue)!important; */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span><span class="selector-class">.rightMenu-line</span> <span class="selector-class">.rightMenu-item</span> *&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">40px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">40px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.rightMenu-group</span><span class="selector-class">.hide</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.rightMenu-item</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:white<span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">background-color</span>:<span class="built_in">var</span>(--zhshier-blue)<span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">:root</span>&#123;</span><br><span class="line">    <span class="attr">--zhshier-border</span>:<span class="number">#c9c9c9</span>;</span><br><span class="line">    <span class="attr">--zhshier-blue</span>:<span class="number">#6cf</span>;</span><br><span class="line">    <span class="attr">--zhshier-black-acrylic1</span>: <span class="number">#0008</span>;</span><br><span class="line">    <span class="attr">--zhshier-white-acrylic1</span>:<span class="number">#fffd</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改主题配置文件<code>_config.butterfly.yml</code>，引入css文件</p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">  # - &lt;link rel=&quot;stylesheet&quot; href=&quot;/xxx.css&quot;&gt;</span><br><span class="line"><span class="addition">+  - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/rightmenu/rightmenu.css&quot;&gt;</span></span><br></pre></td></tr></table></figure><h4 id="iconfont图标"><a href="#iconfont图标" class="headerlink" title="iconfont图标"></a>iconfont图标</h4><p>因为少部分图标使用iconfont，你需要自己添加，下载LYX的<a target="_blank" rel="noopener external nofollow noreferrer" href="https://xydc.lanzouv.com/iRlu409ouaba">iconfont图标包</a>，然后解压把里面的东西扔到 <code>[BlogRoot]/themes/butterfly/source/css/rightmenu/</code>里面即可（图片源自阿里图标，也可以自己直接用主题自带的矢量图标）</p><p>修改主题配置文件<code>_config.butterfly.yml</code>，引入css文件</p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">  # - &lt;link rel=&quot;stylesheet&quot; href=&quot;/xxx.css&quot;&gt;</span><br><span class="line"><span class="addition">+  - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/iconfont.css&quot;&gt;</span></span><br></pre></td></tr></table></figure><h4 id="JS"><a href="#JS" class="headerlink" title="JS"></a>JS</h4><p>新建 <code>[BlogRoot]/themes/butterfly/source/js/rightmenu.js</code></p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(</span><br><span class="line">    <span class="string">&quot;Codes uses GPL Licence&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">insertAtCursor</span>(<span class="params">myField, myValue</span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//IE 浏览器</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="property">selection</span>) &#123;</span><br><span class="line">        myField.<span class="title function_">focus</span>();</span><br><span class="line">        sel = <span class="variable language_">document</span>.<span class="property">selection</span>.<span class="title function_">createRange</span>();</span><br><span class="line">        sel.<span class="property">text</span> = myValue;</span><br><span class="line">        sel.<span class="title function_">select</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//FireFox、Chrome等</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (myField.<span class="property">selectionStart</span> || myField.<span class="property">selectionStart</span> == <span class="string">&#x27;0&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> startPos = myField.<span class="property">selectionStart</span>;</span><br><span class="line">        <span class="keyword">var</span> endPos = myField.<span class="property">selectionEnd</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 保存滚动条</span></span><br><span class="line">        <span class="keyword">var</span> restoreTop = myField.<span class="property">scrollTop</span>;</span><br><span class="line">        myField.<span class="property">value</span> = myField.<span class="property">value</span>.<span class="title function_">substring</span>(<span class="number">0</span>, startPos) + myValue + myField.<span class="property">value</span>.<span class="title function_">substring</span>(endPos, myField.<span class="property">value</span>.<span class="property">length</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (restoreTop &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            myField.<span class="property">scrollTop</span> = restoreTop;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        myField.<span class="title function_">focus</span>();</span><br><span class="line">        myField.<span class="property">selectionStart</span> = startPos + myValue.<span class="property">length</span>;</span><br><span class="line">        myField.<span class="property">selectionEnd</span> = startPos + myValue.<span class="property">length</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        myField.<span class="property">value</span> += myValue;</span><br><span class="line">        myField.<span class="title function_">focus</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> rmf = &#123;&#125;;</span><br><span class="line">rmf.<span class="property">showRightMenu</span> = <span class="keyword">function</span> (<span class="params">isTrue, x = <span class="number">0</span>, y = <span class="number">0</span></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> $rightMenu = $(<span class="string">&#x27;#rightMenu&#x27;</span>);</span><br><span class="line">    $rightMenu.<span class="title function_">css</span>(<span class="string">&#x27;top&#x27;</span>, x + <span class="string">&#x27;px&#x27;</span>).<span class="title function_">css</span>(<span class="string">&#x27;left&#x27;</span>, y + <span class="string">&#x27;px&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (isTrue) &#123;</span><br><span class="line">        $rightMenu.<span class="title function_">show</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        $rightMenu.<span class="title function_">hide</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">rmf.<span class="property">switchDarkMode</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> nowMode = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="title function_">getAttribute</span>(<span class="string">&#x27;data-theme&#x27;</span>) === <span class="string">&#x27;dark&#x27;</span> ? <span class="string">&#x27;dark&#x27;</span> : <span class="string">&#x27;light&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> (nowMode === <span class="string">&#x27;light&#x27;</span>) &#123;</span><br><span class="line">        <span class="title function_">activateDarkMode</span>()</span><br><span class="line">        saveToLocal.<span class="title function_">set</span>(<span class="string">&#x27;theme&#x27;</span>, <span class="string">&#x27;dark&#x27;</span>, <span class="number">2</span>)</span><br><span class="line">        <span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">Snackbar</span> !== <span class="literal">undefined</span> &amp;&amp; btf.<span class="title function_">snackbarShow</span>(<span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">Snackbar</span>.<span class="property">day_to_night</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">activateLightMode</span>()</span><br><span class="line">        saveToLocal.<span class="title function_">set</span>(<span class="string">&#x27;theme&#x27;</span>, <span class="string">&#x27;light&#x27;</span>, <span class="number">2</span>)</span><br><span class="line">        <span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">Snackbar</span> !== <span class="literal">undefined</span> &amp;&amp; btf.<span class="title function_">snackbarShow</span>(<span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">Snackbar</span>.<span class="property">night_to_day</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// handle some cases</span></span><br><span class="line">    <span class="keyword">typeof</span> utterancesTheme === <span class="string">&#x27;function&#x27;</span> &amp;&amp; <span class="title function_">utterancesTheme</span>()</span><br><span class="line">    <span class="keyword">typeof</span> <span class="variable constant_">FB</span> === <span class="string">&#x27;object&#x27;</span> &amp;&amp; <span class="variable language_">window</span>.<span class="title function_">loadFBComment</span>()</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">DISQUS</span> &amp;&amp; <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;disqus_thread&#x27;</span>).<span class="property">children</span>.<span class="property">length</span> &amp;&amp; <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="variable language_">window</span>.<span class="title function_">disqusReset</span>(), <span class="number">200</span>)</span><br><span class="line">&#125;;</span><br><span class="line">rmf.<span class="property">copyWordsLink</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> url = <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span></span><br><span class="line">    <span class="keyword">let</span> txa = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;textarea&quot;</span>);</span><br><span class="line">    txa.<span class="property">value</span> = url;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(txa)</span><br><span class="line">    txa.<span class="title function_">select</span>();</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">execCommand</span>(<span class="string">&quot;Copy&quot;</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">removeChild</span>(txa);</span><br><span class="line">    <span class="title class_">Swal</span>.<span class="title function_">fire</span>(<span class="string">&quot;复制成功！&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">rmf.<span class="property">switchReadMode</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> $body = <span class="variable language_">document</span>.<span class="property">body</span></span><br><span class="line">    $body.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;read-mode&#x27;</span>)</span><br><span class="line">    <span class="keyword">const</span> newEle = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;button&#x27;</span>)</span><br><span class="line">    newEle.<span class="property">type</span> = <span class="string">&#x27;button&#x27;</span></span><br><span class="line">    newEle.<span class="property">className</span> = <span class="string">&#x27;fas fa-sign-out-alt exit-readmode&#x27;</span></span><br><span class="line">    $body.<span class="title function_">appendChild</span>(newEle)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">clickFn</span>(<span class="params"></span>) &#123;</span><br><span class="line">        $body.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;read-mode&#x27;</span>)</span><br><span class="line">        newEle.<span class="title function_">remove</span>()</span><br><span class="line">        newEle.<span class="title function_">removeEventListener</span>(<span class="string">&#x27;click&#x27;</span>, clickFn)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    newEle.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, clickFn)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//复制选中文字</span></span><br><span class="line">rmf.<span class="property">copySelect</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">execCommand</span>(<span class="string">&#x27;Copy&#x27;</span>, <span class="literal">false</span>, <span class="literal">null</span>);</span><br><span class="line">    <span class="comment">//这里可以写点东西提示一下 已复制</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//回到顶部</span></span><br><span class="line">rmf.<span class="property">scrollToTop</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    btf.<span class="title function_">scrollToDest</span>(<span class="number">0</span>, <span class="number">500</span>);</span><br><span class="line">&#125;</span><br><span class="line">rmf.<span class="property">translate</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;translateLink&quot;</span>).<span class="title function_">click</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 右键菜单事件</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">onkeydown</span> = <span class="keyword">function</span> (<span class="params">event</span>) &#123;</span><br><span class="line">    event = (event || <span class="variable language_">window</span>.<span class="property">event</span>);</span><br><span class="line">    <span class="keyword">if</span> (event.<span class="property">keyCode</span> == <span class="number">17</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;你知道的太多了&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">popupMenu</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">//window.oncontextmenu=function()&#123;return false;&#125;</span></span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">oncontextmenu</span> = <span class="keyword">function</span> (<span class="params">event</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(event.<span class="property">ctrlKey</span>)<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(event.<span class="property">keyCode</span>)</span><br><span class="line">        $(<span class="string">&#x27;.rightMenu-group.hide&#x27;</span>).<span class="title function_">hide</span>();</span><br><span class="line">        <span class="comment">//如果有文字选中，则显示 文字选中相关的菜单项</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="title function_">getSelection</span>().<span class="title function_">toString</span>()) &#123;</span><br><span class="line">            $(<span class="string">&#x27;#menu-text&#x27;</span>).<span class="title function_">show</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;post&#x27;</span>)) &#123;</span><br><span class="line">            $(<span class="string">&#x27;#menu-post&#x27;</span>).<span class="title function_">show</span>();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;page&#x27;</span>)) &#123;</span><br><span class="line">                $(<span class="string">&#x27;#menu-post&#x27;</span>).<span class="title function_">show</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> el = <span class="variable language_">window</span>.<span class="property">document</span>.<span class="property">body</span>;</span><br><span class="line">        el = event.<span class="property">target</span>;</span><br><span class="line">        <span class="keyword">var</span> a=<span class="regexp">/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&amp;&#x27;\*\+,;=.]+$/</span></span><br><span class="line">        <span class="keyword">if</span> (a.<span class="title function_">test</span>(<span class="variable language_">window</span>.<span class="title function_">getSelection</span>().<span class="title function_">toString</span>()))&#123;</span><br><span class="line">            $(<span class="string">&#x27;#menu-too&#x27;</span>).<span class="title function_">show</span>()</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (el.<span class="property">tagName</span> == <span class="string">&#x27;A&#x27;</span>) &#123;</span><br><span class="line">            $(<span class="string">&#x27;#menu-to&#x27;</span>).<span class="title function_">show</span>()</span><br><span class="line">            rmf.<span class="property">open</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                location.<span class="property">href</span> = el.<span class="property">href</span></span><br><span class="line">            &#125;</span><br><span class="line">            rmf.<span class="property">openWithNewTab</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                <span class="variable language_">window</span>.<span class="title function_">open</span>(el.<span class="property">href</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            rmf.<span class="property">copyLink</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                <span class="keyword">let</span> url = el.<span class="property">href</span></span><br><span class="line">                <span class="keyword">let</span> txa = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;textarea&quot;</span>);</span><br><span class="line">                txa.<span class="property">value</span> = url;</span><br><span class="line">                <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(txa)</span><br><span class="line">                txa.<span class="title function_">select</span>();</span><br><span class="line">                <span class="variable language_">document</span>.<span class="title function_">execCommand</span>(<span class="string">&quot;Copy&quot;</span>);</span><br><span class="line">                <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">removeChild</span>(txa);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (el.<span class="property">tagName</span> == <span class="string">&#x27;IMG&#x27;</span>) &#123;</span><br><span class="line">            $(<span class="string">&#x27;#menu-img&#x27;</span>).<span class="title function_">show</span>()</span><br><span class="line">            rmf.<span class="property">openWithNewTab</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                <span class="variable language_">window</span>.<span class="title function_">open</span>(el.<span class="property">src</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            rmf.<span class="property">click</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                el.<span class="title function_">click</span>()</span><br><span class="line">            &#125;</span><br><span class="line">            rmf.<span class="property">copyLink</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                <span class="keyword">let</span> url = el.<span class="property">src</span></span><br><span class="line">                <span class="keyword">let</span> txa = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;textarea&quot;</span>);</span><br><span class="line">                txa.<span class="property">value</span> = url;</span><br><span class="line">                <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(txa)</span><br><span class="line">                txa.<span class="title function_">select</span>();</span><br><span class="line">                <span class="variable language_">document</span>.<span class="title function_">execCommand</span>(<span class="string">&quot;Copy&quot;</span>);</span><br><span class="line">                <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">removeChild</span>(txa);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (el.<span class="property">tagName</span> == <span class="string">&quot;TEXTAREA&quot;</span> || el.<span class="property">tagName</span> == <span class="string">&quot;INPUT&quot;</span>) &#123;</span><br><span class="line">            $(<span class="string">&#x27;#menu-paste&#x27;</span>).<span class="title function_">show</span>();</span><br><span class="line">            rmf.<span class="property">paste</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                navigator.<span class="property">permissions</span></span><br><span class="line">                    .<span class="title function_">query</span>(&#123;</span><br><span class="line">                        <span class="attr">name</span>: <span class="string">&#x27;clipboard-read&#x27;</span></span><br><span class="line">                    &#125;)</span><br><span class="line">                    .<span class="title function_">then</span>(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">                        <span class="keyword">if</span> (result.<span class="property">state</span> == <span class="string">&#x27;granted&#x27;</span> || result.<span class="property">state</span> == <span class="string">&#x27;prompt&#x27;</span>) &#123;</span><br><span class="line">                            <span class="comment">//读取剪贴板</span></span><br><span class="line">                            navigator.<span class="property">clipboard</span>.<span class="title function_">readText</span>().<span class="title function_">then</span>(<span class="function"><span class="params">text</span> =&gt;</span> &#123;</span><br><span class="line">                                <span class="variable language_">console</span>.<span class="title function_">log</span>(text)</span><br><span class="line">                                <span class="title function_">insertAtCursor</span>(el, text)</span><br><span class="line">                            &#125;)</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                            <span class="title function_">alert</span>(<span class="string">&#x27;请允许读取剪贴板！&#x27;</span>)</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">let</span> pageX = event.<span class="property">clientX</span> + <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">let</span> pageY = event.<span class="property">clientY</span>;</span><br><span class="line">        <span class="keyword">let</span> rmWidth = $(<span class="string">&#x27;#rightMenu&#x27;</span>).<span class="title function_">width</span>();</span><br><span class="line">        <span class="keyword">let</span> rmHeight = $(<span class="string">&#x27;#rightMenu&#x27;</span>).<span class="title function_">height</span>();</span><br><span class="line">        <span class="keyword">if</span> (pageX + rmWidth &gt; <span class="variable language_">window</span>.<span class="property">innerWidth</span>) &#123;</span><br><span class="line">            pageX -= rmWidth + <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (pageY + rmHeight &gt; <span class="variable language_">window</span>.<span class="property">innerHeight</span>) &#123;</span><br><span class="line">            pageY -= pageY + rmHeight - <span class="variable language_">window</span>.<span class="property">innerHeight</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        rmf.<span class="title function_">showRightMenu</span>(<span class="literal">true</span>, pageY, pageX);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        rmf.<span class="title function_">showRightMenu</span>(<span class="literal">false</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (!(navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i</span>))) &#123;</span><br><span class="line">    <span class="title function_">popupMenu</span>()</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> box = <span class="variable language_">document</span>.<span class="property">documentElement</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">addLongtabListener</span>(<span class="params">target, callback</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> timer = <span class="number">0</span> <span class="comment">// 初始化timer</span></span><br><span class="line"></span><br><span class="line">    target.<span class="property">ontouchstart</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        timer = <span class="number">0</span> <span class="comment">// 重置timer</span></span><br><span class="line">        timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">callback</span>();</span><br><span class="line">            timer = <span class="number">0</span></span><br><span class="line">        &#125;, <span class="number">380</span>) <span class="comment">// 超时器能成功执行，说明是长按</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    target.<span class="property">ontouchmove</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">clearTimeout</span>(timer) <span class="comment">// 如果来到这里，说明是滑动</span></span><br><span class="line">        timer = <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    target.<span class="property">ontouchend</span> = <span class="function">() =&gt;</span> &#123; <span class="comment">// 到这里如果timer有值，说明此触摸时间不足380ms，是点击</span></span><br><span class="line">        <span class="keyword">if</span> (timer) &#123;</span><br><span class="line">            <span class="built_in">clearTimeout</span>(timer)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">addLongtabListener</span>(box, popupMenu)</span><br></pre></td></tr></table></figure><p>因为这个js依赖于jquery，所以还需要引入jquery，修改主题配置文件<code>_config.butterfly.yml</code>，引入js文件</p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">  # - &lt;link rel=&quot;stylesheet&quot; href=&quot;/xxx.css&quot;&gt;</span><br><span class="line">  bottom:</span><br><span class="line">  # - &lt;script src=&quot;xxxx&quot;&gt;&lt;/script&gt;</span><br><span class="line"><span class="addition">+  - &lt;script defer type=&quot;text/javascript&quot; src=&quot;https://jsd.onmicrosoft.cn/npm/jquery@latest/dist/jquery.min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="addition">+  - &lt;script defer type=&quot;text/javascript&quot; src=&quot;/js/rightmenu.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><h3 id="悬浮伸缩侧边栏"><a href="#悬浮伸缩侧边栏" class="headerlink" title="悬浮伸缩侧边栏"></a>悬浮伸缩侧边栏</h3><blockquote><p>原文地址：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.chuckle.top/article/fab5c3df.html">给网站增加悬浮伸缩侧边栏 | 轻笑Chuckle</a></p></blockquote><p>修改<code>[BlogRoot]/themes/butterfly/layout/includes/layout.pug</code>，注意修改歌单id</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">include ./rightside.pug</span><br><span class="line">!=partial(&#x27;includes/third-party/search/index&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">!=partial(&#x27;includes/dorakika/rightmenu&#x27;,&#123;&#125;, &#123;cache:true&#125;)</span><br><span class="line">include ./additional-js.pug</span><br><span class="line">//- 上面的是本来就有的，对齐上面的缩进，加上下面的内容</span><br><span class="line">// 侧边悬浮栏</span><br><span class="line">.contact-info</span><br><span class="line">  .option</span><br><span class="line">	i.fas.fa-rocket</span><br><span class="line">	.bloktop</span><br><span class="line">	.text</span><br><span class="line">	  .strip</span><br><span class="line">	  &lt;div class=&quot;aside_notice&quot;&gt;鉴于评论非即时聊天、问题描述不清晰，可以加我并附上你的问题截图。🐧：1310446718，VX：GC_XiaoZhang（无偿，不要怕社恐小张也紧张！也不需要客气就当好朋友聊天就可以啦！）&lt;br&gt;糖果屋交流群：589330978&lt;br&gt;小N姐姐公益群：641126318&lt;/div&gt;</span><br><span class="line">  .option</span><br><span class="line">	i.fas.fa-cube</span><br><span class="line">	.blok</span><br><span class="line">	.text</span><br><span class="line">	  .strip</span><br><span class="line">	  &lt;div class=&quot;post-reward&quot;&gt;&lt;div class=&quot;reward-button&quot;&gt;&lt;i class=&quot;fa-solid fa-bolt&quot;&gt;&lt;/i&gt;&lt;/div&gt;&lt;div class=&quot;reward-main&quot;&gt;&lt;ul class=&quot;reward-all&quot;&gt;&lt;li class=&quot;reward-item&quot;&gt;&lt;a href=&quot;/Hexo_img/config/wechat.png&quot; target=&quot;_blank&quot;&gt;&lt;img class=&quot;post-qr-code-img entered loaded&quot; src=&quot;/Hexo_img/config/wechat.png&quot; alt=&quot;微信&quot;&gt;&lt;/a&gt;&lt;div class=&quot;post-qr-code-desc&quot;&gt;微信&lt;/div&gt;&lt;/li&gt;&lt;li class=&quot;reward-item&quot;&gt;&lt;a href=&quot;/Hexo_img/config/alipay.jpg&quot; target=&quot;_blank&quot;&gt;&lt;img class=&quot;post-qr-code-img entered loaded&quot; src=&quot;/Hexo_img/config/alipay.jpg&quot; alt=&quot;支付宝&quot;&gt;&lt;/a&gt;&lt;div class=&quot;post-qr-code-desc&quot;&gt;支付宝&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;</span><br><span class="line">  .option</span><br><span class="line">	i.fas.fa-music</span><br><span class="line">	.blokbottom</span><br><span class="line">	.text.aplayertext</span><br><span class="line">	  .strip</span><br><span class="line">	  .aplayer.no-destroy(mutex=&#x27;true&#x27;, listfolded=&#x27;true&#x27;, data-id=&#x27;7041302176&#x27;, data-preload=&quot;none&quot; , data-server=&#x27;netease&#x27;, data-volume=&#x27;0.25&#x27;, data-order=&#x27;random&#x27;, data-type=&#x27;playlist&#x27;, data-fixed=&#x27;true&#x27;, data-autoplay=&#x27;false&#x27;)</span><br></pre></td></tr></table></figure><p>新建<code>[BlogRoot]/source/css/asidefloat.css</code></p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.contact-info</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: fixed;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">22%</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">200</span>;</span><br><span class="line">    <span class="attribute">left</span>: -<span class="number">51px</span>;</span><br><span class="line">    <span class="attribute">transition</span>: <span class="number">0.4s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contact-info</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.option</span> &#123;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.option</span> <span class="selector-tag">i</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">50px</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">60px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgb</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>);</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#b9b9b9</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">transition</span>: <span class="number">0.4s</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">0</span> <span class="number">10px</span> <span class="number">10px</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.option</span><span class="selector-pseudo">:hover</span> <span class="selector-tag">i</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#3498db</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.text</span> &#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">68px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, .<span class="number">85</span>);</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: -<span class="number">1</span>;</span><br><span class="line">    <span class="attribute">left</span>: -<span class="number">136px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">60px</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">transition</span>: <span class="number">0.4s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.aplayertext</span> &#123;</span><br><span class="line">    <span class="attribute">transition</span>: none <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.aplayer</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.aplayer</span><span class="selector-class">.aplayer-fixed</span> <span class="selector-class">.aplayer-body</span> &#123;</span><br><span class="line">    <span class="attribute">left</span>: -<span class="number">60px</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">370px</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">transition</span>: none <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.aplayer</span><span class="selector-class">.aplayer-fixed</span> &#123;</span><br><span class="line">    <span class="attribute">left</span>: -<span class="number">300px</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.option</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.aplayer</span><span class="selector-class">.aplayer-fixed</span> <span class="selector-class">.aplayer-body</span>, <span class="selector-class">.contact-info</span> <span class="selector-class">.option</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.aplayer</span><span class="selector-class">.aplayer-fixed</span> &#123;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0px</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.option</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.text</span> &#123;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">60px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.blok</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: -<span class="number">1</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.bloktop</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">75px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">0px</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: -<span class="number">1</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.blokbottom</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">75px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: -<span class="number">1</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.option</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.blok</span>, <span class="selector-class">.contact-info</span> <span class="selector-class">.option</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.bloktop</span>, <span class="selector-class">.contact-info</span> <span class="selector-class">.option</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.blokbottom</span> &#123;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.option</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.aplayertext</span> &#123;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">60px</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">370px</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">background</span>: transparent <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.aplayer</span><span class="selector-class">.aplayer-fixed</span> <span class="selector-class">.aplayer-miniswitcher</span> &#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">0</span> <span class="number">10px</span> <span class="number">10px</span> <span class="number">0</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.aplayer</span><span class="selector-class">.aplayer-fixed</span> <span class="selector-class">.aplayer-body</span> &#123;</span><br><span class="line">    <span class="attribute">transition</span>: <span class="number">0.28s</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-pic</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">60px</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-info</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">60px</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-list</span><span class="selector-class">.aplayer-list-hide</span> &#123;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">59px</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.aplayer</span><span class="selector-class">.aplayer-fixed</span> <span class="selector-class">.aplayer-list</span> &#123;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">62px</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">max-height</span>: <span class="number">240px</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.aplayer</span><span class="selector-class">.aplayer-fixed</span> <span class="selector-class">.aplayer-info</span> &#123;</span><br><span class="line">    <span class="attribute">transition</span>: none <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.aplayer</span><span class="selector-class">.aplayer-narrow</span> <span class="selector-class">.aplayer-body</span>, <span class="selector-class">.aplayer</span><span class="selector-class">.aplayer-narrow</span> <span class="selector-class">.aplayer-pic</span> &#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.aplayer</span><span class="selector-class">.aplayer-fixed</span> &#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-pic</span> &#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.aplayer</span><span class="selector-class">.aplayer-fixed</span> <span class="selector-class">.aplayer-list</span> &#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span> <span class="number">10px</span> <span class="number">0</span> <span class="number">0</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.option</span> <span class="selector-tag">i</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgb</span>(<span class="number">22</span>, <span class="number">22</span>, <span class="number">22</span>);</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#b9b9b9</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.text</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">23</span>, <span class="number">23</span>, <span class="number">23</span>, <span class="number">0.85</span>);</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.92</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">1300px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.contact-info</span> &#123;</span><br><span class="line">        <span class="attribute">display</span>: none <span class="meta">!important</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.aplayer</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: .<span class="number">93</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span></span><br><span class="line"><span class="selector-class">.aplayer</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgb</span>(<span class="number">22</span>, <span class="number">22</span>, <span class="number">22</span>) <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span></span><br><span class="line"><span class="selector-class">.aplayer</span><span class="selector-class">.aplayer-fixed</span> <span class="selector-class">.aplayer-body</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgb</span>(<span class="number">22</span>, <span class="number">22</span>, <span class="number">22</span>) <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span></span><br><span class="line"><span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-list</span> <span class="selector-tag">ol</span> <span class="selector-tag">li</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#3b3b3b</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span></span><br><span class="line"><span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-list</span> <span class="selector-tag">ol</span> <span class="selector-tag">li</span><span class="selector-class">.aplayer-list-light</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#686868</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span></span><br><span class="line"><span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-info</span> <span class="selector-class">.aplayer-controller</span> <span class="selector-class">.aplayer-time</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#d4d4d4</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span></span><br><span class="line"><span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-list</span> <span class="selector-tag">ol</span> <span class="selector-tag">li</span> <span class="selector-class">.aplayer-list-index</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#d4d4d4</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span></span><br><span class="line"><span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-list</span> <span class="selector-tag">ol</span> <span class="selector-tag">li</span> <span class="selector-class">.aplayer-list-author</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#d4d4d4</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span></span><br><span class="line"><span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-info</span> <span class="selector-class">.aplayer-controller</span> <span class="selector-class">.aplayer-time</span> <span class="selector-class">.aplayer-icon</span> path &#123;</span><br><span class="line">    fill: <span class="number">#d4d4d4</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.text</span> <span class="selector-class">.strip</span> &#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">36px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">20</span>, <span class="number">163</span>, <span class="number">230</span>, <span class="number">0.8</span>);</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: -<span class="number">1</span>;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">transition</span>: <span class="number">0.4s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.aplayertext</span> <span class="selector-class">.strip</span> &#123;</span><br><span class="line">    <span class="attribute">transition</span>: none <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.option</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.aplayertext</span> <span class="selector-class">.strip</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: transparent;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-miniswitcher</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">23</span>, <span class="number">23</span>, <span class="number">23</span>, <span class="number">0.85</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.aplayer</span> <span class="selector-class">.aplayer-miniswitcher</span> <span class="selector-class">.aplayer-icon</span> path &#123;</span><br><span class="line">    fill: <span class="number">#3498db</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.option</span><span class="selector-pseudo">:hover</span> <span class="selector-tag">i</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#3498db</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.option</span> <span class="selector-class">.text</span> <span class="selector-class">.post-reward</span> <span class="selector-class">.tip-button__text</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">25px</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.option</span> <span class="selector-class">.text</span> <span class="selector-class">.post-reward</span> <span class="selector-class">.reward-main</span> <span class="selector-class">.reward-all</span> &#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">12px</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.option</span> <span class="selector-class">.text</span> <span class="selector-class">.post-reward</span> <span class="selector-class">.reward-button</span> <span class="selector-class">.reward-main</span> <span class="selector-class">.reward-all</span> &#123;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">999</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.option</span> <span class="selector-class">.text</span> <span class="selector-class">.post-reward</span> <span class="selector-class">.tip-button</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>: solid <span class="number">2px</span> <span class="built_in">rgba</span>(<span class="number">236</span>, <span class="number">233</span>, <span class="number">233</span>, <span class="number">0.8</span>);</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#043749d0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 基于chuckle的微调，可能与你的博客不适配，根据注释微调 */</span></span><br><span class="line"><span class="comment">/* 第一个按钮的滚动通知 */</span></span><br><span class="line"><span class="comment">/* 通知栏大小 文字行高调整 */</span></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.option</span><span class="selector-pseudo">:first</span>-child<span class="selector-pseudo">:hover</span> <span class="selector-class">.text</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 小图标调整 */</span></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.option</span><span class="selector-pseudo">:first</span>-child<span class="selector-pseudo">:hover</span> <span class="selector-class">.text</span> <span class="selector-class">.strip</span> &#123;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">33px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.option</span> <span class="selector-class">.text</span> <span class="selector-class">.aside_notice</span>&#123;</span><br><span class="line">    <span class="attribute">word-wrap</span>:break-word;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">20px</span>;</span><br><span class="line">    <span class="comment">/*color: transparent; !*偷个懒不做位移直接透明*!*/</span></span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 文字滚动动画 */</span></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.option</span><span class="selector-pseudo">:first</span>-child<span class="selector-pseudo">:hover</span> <span class="selector-class">.text</span> <span class="selector-class">.aside_notice</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#0A84FF</span>;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">animation</span>: notice <span class="number">5s</span> linear <span class="number">0s</span> infinite normal forwards;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 鼠标悬停时停止滚动 */</span></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.option</span> <span class="selector-class">.text</span> <span class="selector-class">.aside_notice</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">animation-play-state</span>: paused<span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 文字滚动动画 */</span></span><br><span class="line"><span class="keyword">@keyframes</span> notice &#123;</span><br><span class="line">    <span class="number">0%</span> &#123;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">90px</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">100%</span> &#123;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">100%</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 打赏按钮大小与布局 */</span></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.option</span> <span class="selector-class">.text</span> <span class="selector-class">.post-reward</span> <span class="selector-class">.reward-button</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-flex;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">90%</span>;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">left</span>: -<span class="number">9.7px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">15px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.option</span> <span class="selector-class">.text</span> <span class="selector-class">.post-reward</span> &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">0px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 二维码横向排列 */</span></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.option</span> <span class="selector-class">.text</span> <span class="selector-class">.post-reward</span> <span class="selector-class">.reward-main</span> <span class="selector-class">.reward-all</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-flex;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 二维码靠边对齐 */</span></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.option</span> <span class="selector-class">.text</span> <span class="selector-class">.post-reward</span> <span class="selector-class">.reward-main</span> &#123;</span><br><span class="line">    <span class="attribute">left</span>: -<span class="number">60px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">30px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 倒三角位置 */</span></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.option</span> <span class="selector-class">.text</span> <span class="selector-class">.post-reward</span> <span class="selector-class">.reward-main</span> <span class="selector-class">.reward-all</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">110px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 充电矢量图动画 */</span></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.option</span> <span class="selector-class">.text</span> <span class="selector-class">.post-reward</span> <span class="selector-class">.reward-button</span> <span class="selector-tag">i</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: yellow;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">animation</span>: Breath <span class="number">1.2s</span> linear <span class="number">1s</span> infinite;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--btn-bg) <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">46px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> Breath &#123;</span><br><span class="line">    <span class="number">0%</span> &#123;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0.8</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">50%</span> &#123;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="number">100%</span> &#123;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0.8</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 打赏按钮hover动画 */</span></span><br><span class="line"><span class="selector-class">.contact-info</span> <span class="selector-class">.option</span> <span class="selector-class">.text</span> <span class="selector-class">.post-reward</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.reward-button</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(to left, yellow <span class="number">50%</span>, <span class="built_in">var</span>(--btn-bg) <span class="number">50%</span>);</span><br><span class="line">    <span class="attribute">background-size</span>: <span class="number">200%</span>;</span><br><span class="line">    <span class="attribute">background-position</span>-x: -<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">transition</span>: .<span class="number">5s</span> ease-out;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改主题配置文件<code>_config.butterfly.yml</code>，引入css文件</p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">  # - &lt;link rel=&quot;stylesheet&quot; href=&quot;/xxx.css&quot;&gt;</span><br><span class="line"><span class="addition">+   - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/twikoo.css&quot;&gt;</span></span><br></pre></td></tr></table></figure><h3 id="即刻短文-Memos"><a href="#即刻短文-Memos" class="headerlink" title="即刻短文 Memos"></a>即刻短文 Memos</h3><blockquote><p>原文地址：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.leonus.cn/2023/memeos.html">基于Memos实现说说和清单功能 | Leonus</a></p><p>其它Memos教程：</p><ul><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.leonus.cn/2023/photos.html">基于memos实现动态相册 | Leonus</a></li><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://immmmm.com/hi-memos/">Hi，Memos :: 木木木木木</a></li><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://immmmm.com/memos-diy-style/">Memos 自定义代码片段：：木木木木木</a></li></ul><p>Memos需要服务器部署，类似无服务器的项目：</p><ul><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.zhheo.com/p/557c9e72.html">Hexo的Butterfly魔改：即刻短文静态部署版 | 张洪Heo</a></li><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://kkapi-doc.vercel.app/guide/">说明 | KK Api</a>、<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.antmoe.com/posts/7ec820ee/">给bber换个皮肤 | 小康博客</a></li></ul></blockquote><h4 id="说说功能"><a href="#说说功能" class="headerlink" title="说说功能"></a>说说功能</h4><p>创建说说页面<code>hexo new page zone</code>，并粘贴以下代码</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span></span><br><span class="line">/* 页面初始化 <span class="emphasis">*/</span></span><br><span class="line"><span class="emphasis">div#page &#123;</span></span><br><span class="line"><span class="emphasis">    background: none;</span></span><br><span class="line"><span class="emphasis">    border: 0;</span></span><br><span class="line"><span class="emphasis">    padding: 0;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">[data-theme=dark] #twikoo .tk-content,</span></span><br><span class="line"><span class="emphasis">#twikoo .tk-content &#123;</span></span><br><span class="line"><span class="emphasis">    padding: 0;</span></span><br><span class="line"><span class="emphasis">    background: transparent;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">.talk_item,</span></span><br><span class="line"><span class="emphasis">.tk-expand,</span></span><br><span class="line"><span class="emphasis">.tk-comments-container&gt;.tk-comment,</span></span><br><span class="line"><span class="emphasis">.tk-submit:nth-child(1)&#123;</span></span><br><span class="line"><span class="emphasis">    background: var(--card-bg);</span></span><br><span class="line"><span class="emphasis">    border: 1px solid #e0e3ed;</span></span><br><span class="line"><span class="emphasis">    box-shadow: 0 5px 10px rgb(189 189 189 / 10%);</span></span><br><span class="line"><span class="emphasis">    transition: all .3s ease-in-out;</span></span><br><span class="line"><span class="emphasis">    border-radius: 12px;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis">.talk_item:hover,</span></span><br><span class="line"><span class="emphasis">.tk-comments-container&gt;.tk-comment:hover,</span></span><br><span class="line"><span class="emphasis">.tk-submit:nth-child(1):hover &#123;</span></span><br><span class="line"><span class="emphasis">    border-color: #49b1f5;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">.tk-submit &#123;</span></span><br><span class="line"><span class="emphasis">    padding: 20px 10px 0;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">.tk-comments-container&gt;.tk-comment &#123;</span></span><br><span class="line"><span class="emphasis">    padding: 15px;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">/*</span> 页面初始化结束 <span class="emphasis">*/</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">#talk&#123;</span></span><br><span class="line"><span class="emphasis">    margin-top: 1rem;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">#talk .loading &#123;</span></span><br><span class="line"><span class="emphasis">    display: flex;</span></span><br><span class="line"><span class="emphasis">    align-items: center;</span></span><br><span class="line"><span class="emphasis">    justify-content: center;</span></span><br><span class="line"><span class="emphasis">    flex-direction: column;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">#talk .loading img &#123;</span></span><br><span class="line"><span class="emphasis">    width: 200px;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">.talk_item &#123;</span></span><br><span class="line"><span class="emphasis">    display: flex;</span></span><br><span class="line"><span class="emphasis">    flex-direction: column;</span></span><br><span class="line"><span class="emphasis">    padding: 20px;</span></span><br><span class="line"><span class="emphasis">    margin-bottom: 15px;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">.avatar &#123;</span></span><br><span class="line"><span class="emphasis">    margin: 0 !important;</span></span><br><span class="line"><span class="emphasis">    width: 60px;</span></span><br><span class="line"><span class="emphasis">    height: 60px;</span></span><br><span class="line"><span class="emphasis">    border-radius: 10px;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">.talk_bottom,</span></span><br><span class="line"><span class="emphasis">.talk_meta &#123;</span></span><br><span class="line"><span class="emphasis">    display: flex;</span></span><br><span class="line"><span class="emphasis">    align-items: center;</span></span><br><span class="line"><span class="emphasis">    width: 100%;</span></span><br><span class="line"><span class="emphasis">    line-height: 1.5;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis">.talk_bottom&#123;</span></span><br><span class="line"><span class="emphasis">    justify-content: space-between;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis">.info &#123;</span></span><br><span class="line"><span class="emphasis">    display: flex;</span></span><br><span class="line"><span class="emphasis">    flex-direction: column;</span></span><br><span class="line"><span class="emphasis">    margin-left: 10px;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis">span.talk_nick &#123;</span></span><br><span class="line"><span class="emphasis">    color: #6dbdc3;</span></span><br><span class="line"><span class="emphasis">    font-size: 1.2rem;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis">svg.is-badge.icon &#123;</span></span><br><span class="line"><span class="emphasis">    width: 15px;</span></span><br><span class="line"><span class="emphasis">    margin-left: 5px;</span></span><br><span class="line"><span class="emphasis">    padding-top: 3px;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis">span.talk_date &#123;</span></span><br><span class="line"><span class="emphasis">    opacity: .6;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">.talk_content &#123;</span></span><br><span class="line"><span class="emphasis">    line-height: 1.5;</span></span><br><span class="line"><span class="emphasis">    margin-top: 10px;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis">.zone_imgbox &#123;</span></span><br><span class="line"><span class="emphasis">    display: flex;</span></span><br><span class="line"><span class="emphasis">    flex-wrap: wrap;</span></span><br><span class="line"><span class="emphasis">    --w: calc(25% - 8px);</span></span><br><span class="line"><span class="emphasis">    gap: 10px;</span></span><br><span class="line"><span class="emphasis">    margin-top: 5px;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis">.zone_imgbox a &#123;</span></span><br><span class="line"><span class="emphasis">    display: block;</span></span><br><span class="line"><span class="emphasis">    border-radius: 12px;</span></span><br><span class="line"><span class="emphasis">    width: var(--w);</span></span><br><span class="line"><span class="emphasis">    aspect-ratio: 1/1;</span></span><br><span class="line"><span class="emphasis">    position: relative;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">.zone_imgbox img &#123;</span></span><br><span class="line"><span class="emphasis">    width: 100%;</span></span><br><span class="line"><span class="emphasis">    height: 100%;</span></span><br><span class="line"><span class="emphasis">    margin: 0 !important;</span></span><br><span class="line"><span class="emphasis">    object-fit: cover;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis">/*</span> 底部 <span class="emphasis">*/</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">.talk_bottom &#123;</span></span><br><span class="line"><span class="emphasis">    opacity: .9;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis">.talk_bottom .icon &#123;</span></span><br><span class="line"><span class="emphasis">    color: var(--font-color);</span></span><br><span class="line"><span class="emphasis">    float: right;</span></span><br><span class="line"><span class="emphasis">    transition: all .3s;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">.talk_bottom .icon:hover &#123;</span></span><br><span class="line"><span class="emphasis">    color: #49b1f5;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">span.talk_tag&#123;</span></span><br><span class="line"><span class="emphasis">    font-size: 14px;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis">.talk_content&gt;a &#123;</span></span><br><span class="line"><span class="emphasis">    margin: 0 3px;</span></span><br><span class="line"><span class="emphasis">    color: #ff7d73 !important;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis">.talk_content&gt;a:hover&#123;</span></span><br><span class="line"><span class="emphasis">    text-decoration: none !important;</span></span><br><span class="line"><span class="emphasis">    color: #ff5143 !important</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">/*</span> 提醒 <span class="emphasis">*/</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">.limit &#123;</span></span><br><span class="line"><span class="emphasis">    transition: all .3s ease-in-out;</span></span><br><span class="line"><span class="emphasis">    color: rgba(76, 73, 72, 0.6);</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">[data-theme=dark] .limit &#123;</span></span><br><span class="line"><span class="emphasis">    color: rgba(255, 255, 255, 0.5);</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">.limit &#123;</span></span><br><span class="line"><span class="emphasis">    display: none;</span></span><br><span class="line"><span class="emphasis">    text-align: center;</span></span><br><span class="line"><span class="emphasis">    margin-top: 20px;</span></span><br><span class="line"><span class="emphasis">    color: var(--font-color);</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis">@media screen and (max-width: 900px) &#123;</span></span><br><span class="line"><span class="emphasis">    .zone_imgbox &#123;</span></span><br><span class="line"><span class="emphasis">        --w: calc(33% - 5px);</span></span><br><span class="line"><span class="emphasis">    &#125;</span></span><br><span class="line"><span class="emphasis">    #talk&#123;</span></span><br><span class="line"><span class="emphasis">        margin: 10px 3px 0</span></span><br><span class="line"><span class="emphasis">    &#125;</span></span><br><span class="line"><span class="emphasis">    #post-comment&#123;</span></span><br><span class="line"><span class="emphasis">        margin: 0 3px</span></span><br><span class="line"><span class="emphasis">    &#125;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">@media screen and (max-width: 768px) &#123;</span></span><br><span class="line"><span class="emphasis">    .zone_imgbox &#123;</span></span><br><span class="line"><span class="emphasis">        gap: 6px;</span></span><br><span class="line"><span class="emphasis">    &#125;</span></span><br><span class="line"><span class="emphasis">    .zone_imgbox &#123;</span></span><br><span class="line"><span class="emphasis">        --w: calc(50% - 3px);</span></span><br><span class="line"><span class="emphasis">    &#125;</span></span><br><span class="line"><span class="emphasis">    span.talk_date &#123;</span></span><br><span class="line"><span class="emphasis">        font-size: 14px;</span></span><br><span class="line"><span class="emphasis">    &#125;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis"><span class="language-xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;talk&quot;</span>&gt;</span></span></span></span><br><span class="line"><span class="emphasis"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&#x27;loading&#x27;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;/img/loading.svg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;加载中...&quot;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="emphasis"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;limit&quot;</span>&gt;</span></span>- 只展示最近30条说说 -<span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="emphasis"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></span></span><br><span class="line"><span class="emphasis">pageTalk();</span></span><br><span class="line"><span class="emphasis">// 页面说说</span></span><br><span class="line"><span class="emphasis">function pageTalk() &#123;</span></span><br><span class="line"><span class="emphasis">    fetch(&#x27;https://你的memos地址/api/v1/memo?creatorId=1&amp;tag=说说&amp;limit=30&#x27;).then(res =&gt; res.json()).then(data =&gt; &#123; // 注意修改域名</span></span><br><span class="line"><span class="emphasis">        let items = [],</span></span><br><span class="line"><span class="emphasis">            html = &#x27;&#x27;,</span></span><br><span class="line"><span class="emphasis">            icon = &#x27;<span class="language-xml"><span class="language-javascript">&lt;svg viewBox=<span class="string">&quot;0 0 512 512&quot;</span>xmlns=<span class="string">&quot;http://www.w3.org/2000/svg&quot;</span><span class="keyword">class</span>=<span class="string">&quot;is-badge icon&quot;</span>&gt;</span></span><span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">&quot;m512 268c0 17.9-4.3 34.5-12.9 49.7s-20.1 27.1-34.6 35.4c.4 2.7.6 6.9.6 12.6 0 27.1-9.1 50.1-27.1 69.1-18.1 19.1-39.9 28.6-65.4 28.6-11.4 0-22.3-2.1-32.6-6.3-8 16.4-19.5 29.6-34.6 39.7-15 10.2-31.5 15.2-49.4 15.2-18.3 0-34.9-4.9-49.7-14.9-14.9-9.9-26.3-23.2-34.3-40-10.3 4.2-21.1 6.3-32.6 6.3-25.5 0-47.4-9.5-65.7-28.6-18.3-19-27.4-42.1-27.4-69.1 0-3 .4-7.2 1.1-12.6-14.5-8.4-26-20.2-34.6-35.4-8.5-15.2-12.8-31.8-12.8-49.7 0-19 4.8-36.5 14.3-52.3s22.3-27.5 38.3-35.1c-4.2-11.4-6.3-22.9-6.3-34.3 0-27 9.1-50.1 27.4-69.1s40.2-28.6 65.7-28.6c11.4 0 22.3 2.1 32.6 6.3 8-16.4 19.5-29.6 34.6-39.7 15-10.1 31.5-15.2 49.4-15.2s34.4 5.1 49.4 15.1c15 10.1 26.6 23.3 34.6 39.7 10.3-4.2 21.1-6.3 32.6-6.3 25.5 0 47.3 9.5 65.4 28.6s27.1 42.1 27.1 69.1c0 12.6-1.9 24-5.7 34.3 16 7.6 28.8 19.3 38.3 35.1 9.5 15.9 14.3 33.4 14.3 52.4zm-266.9 77.1 105.7-158.3c2.7-4.2 3.5-8.8 2.6-13.7-1-4.9-3.5-8.8-7.7-11.4-4.2-2.7-8.8-3.6-13.7-2.9-5 .8-9 3.2-12 7.4l-93.1 140-42.9-42.8c-3.8-3.8-8.2-5.6-13.1-5.4-5 .2-9.3 2-13.1 5.4-3.4 3.4-5.1 7.7-5.1 12.9 0 5.1 1.7 9.4 5.1 12.9l58.9 58.9 2.9 2.3c3.4 2.3 6.9 3.4 10.3 3.4 6.7-.1 11.8-2.9 15.2-8.7z&quot;</span><span class="attr">fill</span>=<span class="string">&quot;#1da1f2&quot;</span>&gt;</span></span></span></span><span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;/<span class="name">path</span>&gt;</span></span></span></span><span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span></span></span>&#x27;;</span></span><br><span class="line"><span class="emphasis">        data.data.forEach(item =&gt; &#123; items.push(Format(item)) &#125;);</span></span><br><span class="line"><span class="emphasis">        if (items.length == 30) document.querySelector(&#x27;.limit&#x27;).style.display = &#x27;block&#x27;;</span></span><br><span class="line"><span class="emphasis">        items.forEach(item =&gt; &#123;</span></span><br><span class="line"><span class="emphasis">            html += `<span class="language-xml"><span class="language-javascript">&lt;div <span class="keyword">class</span>=<span class="string">&quot;talk_item&quot;</span>&gt;</span></span><span class="language-xml"><span class="language-javascript">&lt;div <span class="keyword">class</span>=<span class="string">&quot;talk_meta&quot;</span>&gt;</span></span><span class="language-xml"><span class="language-javascript">&lt;img <span class="keyword">class</span>=<span class="string">&quot;no-lightbox avatar&quot;</span> src=<span class="string">&quot;https://q1.qlogo.cn/g?b=qq&amp;nk=553344777&amp;s=5&quot;</span>&gt;</span></span><span class="language-xml"><span class="language-javascript">&lt;div <span class="keyword">class</span>=<span class="string">&quot;info&quot;</span>&gt;</span></span><span class="language-xml"><span class="language-javascript">&lt;span <span class="keyword">class</span>=<span class="string">&quot;talk_nick&quot;</span>&gt;</span></span>Leonus$&#123;icon&#125;<span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span></span><span class="language-xml"><span class="language-javascript">&lt;span <span class="keyword">class</span>=<span class="string">&quot;talk_date&quot;</span>&gt;</span></span>$&#123;item.date&#125;<span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span></span><span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><span class="language-xml"><span class="language-javascript">&lt;div <span class="keyword">class</span>=<span class="string">&quot;talk_content&quot;</span>&gt;</span></span>$&#123;item.content&#125;<span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><span class="language-xml"><span class="language-javascript">&lt;div <span class="keyword">class</span>=<span class="string">&quot;talk_bottom&quot;</span>&gt;</span></span><span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span><span class="language-xml"><span class="language-javascript">&lt;span <span class="keyword">class</span>=<span class="string">&quot;talk_tag&quot;</span>&gt;</span></span># $&#123;item.tag&#125;<span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span></span><span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:;&quot;</span><span class="attr">onclick</span>=<span class="string">&quot;goComment(&#x27;$&#123;item.text&#125;&#x27;)&quot;</span>&gt;</span></span></span></span><span class="language-xml"><span class="language-javascript">&lt;span <span class="keyword">class</span>=<span class="string">&quot;icon&quot;</span>&gt;</span></span><span class="language-xml"><span class="language-javascript">&lt;i <span class="keyword">class</span>=<span class="string">&quot;fa-solid fa-message fa-fw&quot;</span>&gt;</span></span><span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span></span><span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span></span><span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span></span><span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span>` // 注意修改头像链接和名称</span></span><br><span class="line"><span class="emphasis">        &#125;)</span></span><br><span class="line"><span class="emphasis">        document.getElementById(&#x27;talk&#x27;).innerHTML = html</span></span><br><span class="line"><span class="emphasis">    &#125;)</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis">// 页面评论</span></span><br><span class="line"><span class="emphasis">function goComment(e) &#123;</span></span><br><span class="line"><span class="emphasis">    var n = document.querySelector(&quot;.el-textarea<span class="strong">__inner&quot;)</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">    n.value = `&gt; $&#123;e&#125;\n\n`;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">    n.focus();</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">    btf.snackbarShow(&quot;无需删除空行，直接输入评论即可&quot;, !1, 2e3);</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">&#125;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">// 页面内容格式化</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">function Format(item) &#123;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">    let date = getTime(new Date(item.createdTs * 1000).toString()),</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">        content = item.content,</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">        tag = item.content.match(/\&#123;(.*?)\&#125;)/g),</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">        imgls = content.match(/!\[.*\]\(.*?\)/g), // 2023-02-06更新</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">        text = &#x27;&#x27;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">    text = content.replace(/#(.*?)\s/g, &#x27;&#x27;).replace(/\!\[(.*?)\]\((.*?)\)/g, &#x27;&#x27;).replace(/\&#123;(.*?)\&#125;/g, &#x27;&#x27;)</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">    content = text.replace(/\[(.*?)\]\((.*?)\)/g, `<span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;$2&quot;</span>&gt;</span></span></span></span>@$1<span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span></span>`);</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">    if (imgls) &#123;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">        content += `<span class="language-xml"><span class="language-javascript">&lt;div <span class="keyword">class</span>=<span class="string">&quot;zone_imgbox&quot;</span>&gt;</span></span>`</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">        imgls.map(item =&gt; &#123; return item.replace(/!\[.*\]\((.*?)\)/, &#x27;$1&#x27;) &#125;).forEach(e =&gt; content += `<span class="language-xml"><span class="language-javascript">&lt;a href=<span class="string">&quot;$&#123;e&#125;&quot;</span> data-fancybox=<span class="string">&quot;gallery&quot;</span> <span class="keyword">class</span>=<span class="string">&quot;fancybox&quot;</span> data-thumb=<span class="string">&quot;$&#123;e&#125;&quot;</span>&gt;</span></span><span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;$&#123;e&#125;&quot;</span>&gt;</span></span></span></span><span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span></span>` // 2023-02-06更新</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">        )</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">        content += &#x27;<span class="language-xml"><span class="language-handlebars"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span>&#x27;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">    &#125;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">    return &#123;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">        content: content,</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">        tag: tag ? tag[0].replace(/\&#123;(.*?)\&#125;/,&#x27;$1&#x27;) : &#x27;无标签&#x27;,</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">        date: date,</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">        text: text.replace(/\[(.*?)\]\((.*?)\)/g, &#x27;[链接]&#x27; + `$&#123;imgls?&#x27;[图片]&#x27;:&#x27;&#x27;&#125;`)</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">    &#125;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">&#125;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">// 页面时间格式化</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">function getTime(time) &#123;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">    let d = new Date(time),</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">        ls = [d.getFullYear(), d.getMonth() + 1, d.getDate(), d.getHours(), d.getMinutes(), d.getSeconds()];</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">    for (let i = 0; i &lt; ls.length; i++) &#123;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">        ls[i] = ls[i] &lt;= 9 ? &#x27;0&#x27; + ls[i] : ls[i] + &#x27;&#x27;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">    &#125;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">    if (new Date().getFullYear() == ls[0]) return ls[1] + &#x27;月&#x27; + ls[2] + &#x27;日 &#x27; + ls[3] +&#x27;:&#x27;+ ls[4]</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">    else return ls[0] + &#x27;年&#x27; + ls[1] + &#x27;月&#x27; + ls[2] + &#x27;日 &#x27; + ls[3] +&#x27;:&#x27;+ ls[4]</span></span></span><br><span class="line"><span class="strong"><span class="emphasis">&#125;</span></span></span><br><span class="line"><span class="strong"><span class="emphasis"><span class="language-xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span></span></span><br></pre></td></tr></table></figure><p>使用格式，其中**#说说<strong>固定，用于获取Memos内所有的带</strong>#说说**标签的内容（如果图片加载失败，配置主题文件<code>lazyload.field:post</code>）</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#说说 &#123;说说标签&#125; 我是内容 [我是链接](链接地址) ![](图片链接)</span><br></pre></td></tr></table></figure><h4 id="首页轮播"><a href="#首页轮播" class="headerlink" title="首页轮播"></a>首页轮播</h4><p>修改<code>[BlogRoot]/themes/butterfly/layout/includes/layout.pug</code></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">include ./header/index.pug</span><br><span class="line">...上面原本的内容...</span><br><span class="line">if (is_home())</span><br><span class="line">  #main_top</span><br><span class="line">    #bber-talk.wow.animate__flipInX(onclick=`pjax.loadUrl(&quot;/zone/&quot;)`)</span><br><span class="line">      svg.icon(t=&#x27;1660960757124&#x27;, viewBox=&#x27;0 0 1024 1024&#x27;, version=&#x27;1.1&#x27;, xmlns=&#x27;http://www.w3.org/2000/svg&#x27;, p-id=&#x27;3946&#x27;, width=&#x27;200&#x27;, height=&#x27;200&#x27;)</span><br><span class="line">        path(d=&#x27;M526.432 924.064c-20.96 0-44.16-12.576-68.96-37.344L274.752 704H192c-52.928 0-96-43.072-96-96V416c0-52.928 43.072-96 96-96h82.752l182.624-182.624c24.576-24.576 47.744-37.024 68.864-37.024C549.184 100.352 576 116 576 160v704c0 44.352-26.72 60.064-49.568 60.064zM192 384c-17.632 0-32 14.368-32 32v192c0 17.664 14.368 32 32 32h96c8.48 0 16.64 3.36 22.624 9.376l192.064 192.096c3.392 3.36 6.496 6.208 9.312 8.576V174.016a145.824 145.824 0 0 0-9.376 8.608l-192 192C304.64 380.64 296.48 384 288 384h-96zM687.584 730.368a31.898 31.898 0 0 1-18.656-6.016c-14.336-10.304-17.632-30.304-7.328-44.672l12.672-17.344C707.392 617.44 736 578.624 736 512c0-69.024-25.344-102.528-57.44-144.928-5.664-7.456-11.328-15.008-16.928-22.784-10.304-14.336-7.04-34.336 7.328-44.672 14.368-10.368 34.336-7.04 44.672 7.328 5.248 7.328 10.656 14.464 15.968 21.504C764.224 374.208 800 421.504 800 512c0 87.648-39.392 141.12-74.144 188.32l-12.224 16.736c-6.272 8.704-16.064 13.312-26.048 13.312z&#x27;, p-id=&#x27;3947&#x27;)</span><br><span class="line">        path(d=&#x27;M796.448 839.008a31.906 31.906 0 0 1-21.088-7.936c-13.28-11.648-14.624-31.872-2.976-45.152C836.608 712.672 896 628.864 896 512s-59.392-200.704-123.616-273.888c-11.648-13.312-10.304-33.504 2.976-45.184 13.216-11.648 33.44-10.336 45.152 2.944C889.472 274.56 960 373.6 960 512s-70.528 237.472-139.488 316.096c-6.368 7.232-15.2 10.912-24.064 10.912z&#x27;, p-id=&#x27;3948&#x27;)</span><br><span class="line">      ul.talk-list 说说加载中。。。</span><br><span class="line">...下面原本的内容...</span><br><span class="line">main#content-inner.layout(class=hideAside)</span><br></pre></td></tr></table></figure><p>新建<code>[BlogRoot]/source/css/memos.css</code></p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* maintop */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-id">#main_top</span> &#123;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">max-width</span>: <span class="number">1200px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">20px</span> auto -<span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">15px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">2000px</span>) &#123;</span><br><span class="line">    <span class="selector-tag">div</span><span class="selector-id">#main_top</span> &#123;</span><br><span class="line">        <span class="attribute">max-width</span>: <span class="number">1500px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#bber-talk</span> &#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: none;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#e0e3ed</span>;</span><br><span class="line">    <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">3s</span> ease-in-out;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">50px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--card-bg);</span><br><span class="line">    <span class="attribute">padding</span>: .<span class="number">5rem</span> <span class="number">1rem</span>;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#bber-talk</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">border-color</span>: <span class="number">#49b1f5</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#bber-talk</span>,</span><br><span class="line"><span class="selector-id">#bber-talk</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--font-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#bber-talk</span> svg<span class="selector-class">.icon</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">1em</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">1em</span>;</span><br><span class="line">    <span class="attribute">vertical-align</span>: -.<span class="number">15em</span>;</span><br><span class="line">    fill: currentColor;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#bber-talk</span> <span class="selector-class">.item</span> <span class="selector-tag">i</span> &#123;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#bber-talk</span>&gt;<span class="selector-tag">i</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">1.1rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#bber-talk</span> <span class="selector-class">.talk-list</span> &#123;</span><br><span class="line">    <span class="attribute">flex</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">max-height</span>: <span class="number">32px</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#bber-talk</span> <span class="selector-class">.talk-list</span> <span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#49b1f5</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">2s</span> ease-in-out;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#bber-talk</span> <span class="selector-class">.talk-list</span> <span class="selector-tag">li</span> &#123;</span><br><span class="line">    <span class="attribute">list-style</span>: none;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">    <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">768px</span>) &#123;</span><br><span class="line">    <span class="selector-id">#bber-talk</span> <span class="selector-class">.talk-list</span> &#123;</span><br><span class="line">        <span class="attribute">text-align</span>: center;</span><br><span class="line">        <span class="attribute">margin-right</span>: <span class="number">20px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>新建<code>[BlogRoot]/source/js/memos.js</code></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 存数据</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">saveData</span>(<span class="params">name, data</span>) &#123; <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(name, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123; <span class="string">&#x27;time&#x27;</span>: <span class="title class_">Date</span>.<span class="title function_">now</span>(), <span class="string">&#x27;data&#x27;</span>: data &#125;)) &#125;;</span><br><span class="line"><span class="comment">// 取数据</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">loadData</span>(<span class="params">name, time</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> d = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(name));</span><br><span class="line">    <span class="comment">// 过期或有错误返回 0 否则返回数据</span></span><br><span class="line">    <span class="keyword">if</span> (d) &#123;</span><br><span class="line">        <span class="keyword">let</span> t = <span class="title class_">Date</span>.<span class="title function_">now</span>() - d.<span class="property">time</span></span><br><span class="line">        <span class="keyword">if</span> (-<span class="number">1</span> &lt; t &amp;&amp; t &lt; (time * <span class="number">60000</span>)) <span class="keyword">return</span> d.<span class="property">data</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> talkTimer = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">indexTalk</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (talkTimer) &#123;</span><br><span class="line">        <span class="built_in">clearInterval</span>(talkTimer)</span><br><span class="line">        talkTimer = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;bber-talk&#x27;</span>)) <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">toText</span>(<span class="params">ls</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> text = []</span><br><span class="line">        ls.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">            text.<span class="title function_">push</span>(item.<span class="property">content</span>.<span class="title function_">replace</span>(<span class="regexp">/#(.*?)\s/g</span>, <span class="string">&#x27;&#x27;</span>).<span class="title function_">replace</span>(<span class="regexp">/\&#123;(.*?)\&#125;/g</span>, <span class="string">&#x27;&#x27;</span>).<span class="title function_">replace</span>(<span class="regexp">/\!\[(.*?)\]\((.*?)\)/g</span>, <span class="string">&#x27;&lt;i class=&quot;fa-solid fa-image&quot;&gt;&lt;/i&gt;&#x27;</span>).<span class="title function_">replace</span>(<span class="regexp">/(?&lt;!!)\[(.*?)\]\((.*?)\)/g</span>, <span class="string">&#x27;&lt;i class=&quot;fa-solid fa-link&quot;&gt;&lt;/i&gt;&#x27;</span>))</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">return</span> text</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">talk</span>(<span class="params">ls</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> html = <span class="string">&#x27;&#x27;</span></span><br><span class="line">        ls.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item, i</span>) =&gt;</span> &#123; html += <span class="string">`&lt;li class=&quot;item item-<span class="subst">$&#123;i + <span class="number">1</span>&#125;</span>&quot;&gt;<span class="subst">$&#123;item&#125;</span>&lt;/li&gt;`</span> &#125;);</span><br><span class="line">        <span class="keyword">let</span> box = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#bber-talk .talk-list&quot;</span>)</span><br><span class="line">        box.<span class="property">innerHTML</span> = html;</span><br><span class="line">        talkTimer = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            box.<span class="title function_">appendChild</span>(box.<span class="property">children</span>[<span class="number">0</span>]);</span><br><span class="line">        &#125;, <span class="number">3000</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> d = <span class="title function_">loadData</span>(<span class="string">&#x27;talk&#x27;</span>, <span class="number">10</span>);</span><br><span class="line">    <span class="keyword">if</span> (d) <span class="title function_">talk</span>(d);</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">fetch</span>(<span class="string">&#x27;https://你的memos地址/api/v1/memo?creatorId=1&amp;tag=说说&amp;limit=10&#x27;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> res.<span class="title function_">json</span>()).<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span> &#123; <span class="comment">// 更改地址</span></span><br><span class="line">            data = <span class="title function_">toText</span>(data.<span class="property">data</span>)</span><br><span class="line">            <span class="title function_">talk</span>(data);</span><br><span class="line">            <span class="title function_">saveData</span>(<span class="string">&#x27;talk&#x27;</span>, data);</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">indexTalk</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// pjax注释掉上面的 indexTalk(); 使用如下方法：</span></span><br><span class="line"><span class="comment">// function whenDOMReady() &#123;</span></span><br><span class="line"><span class="comment">//     indexTalk();</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// whenDOMReady()</span></span><br><span class="line"><span class="comment">// document.addEventListener(&quot;pjax:complete&quot;, whenDOMReady)</span></span><br></pre></td></tr></table></figure><p>修改主题配置文件<code>_config.butterfly.yml</code>，引入css、js文件</p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">  # - &lt;link rel=&quot;stylesheet&quot; href=&quot;/xxx.css&quot;&gt;</span><br><span class="line"><span class="addition">+   - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/memos.css&quot;&gt;</span></span><br><span class="line">  bottom:</span><br><span class="line">  # - &lt;script src=&quot;xxxx&quot;&gt;&lt;/script&gt;</span><br><span class="line"><span class="addition">+   - &lt;script async src=&quot;/js/memos.js&quot;&gt;&lt;/script&gt; </span></span><br></pre></td></tr></table></figure><h4 id="清单功能"><a href="#清单功能" class="headerlink" title="清单功能"></a>清单功能</h4><p>创建说说页面<code>hexo new page todo</code>，并粘贴以下代码</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span></span><br><span class="line">/* 页面初始化 <span class="emphasis">*/</span></span><br><span class="line"><span class="emphasis">div#page &#123;</span></span><br><span class="line"><span class="emphasis">    background: none;</span></span><br><span class="line"><span class="emphasis">    border: 0;</span></span><br><span class="line"><span class="emphasis">    padding: 0;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis">[data-theme=dark] #twikoo .tk-content,</span></span><br><span class="line"><span class="emphasis">#twikoo .tk-content &#123;</span></span><br><span class="line"><span class="emphasis">    padding: 0;</span></span><br><span class="line"><span class="emphasis">    background: transparent;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">.tk-comments-container&gt;.tk-comment,</span></span><br><span class="line"><span class="emphasis">.tk-submit:nth-child(1)&#123;</span></span><br><span class="line"><span class="emphasis">    background: var(--card-bg);</span></span><br><span class="line"><span class="emphasis">    border: 1px rgba(188, 188, 188, 0.8) solid;</span></span><br><span class="line"><span class="emphasis">    box-shadow: 0 5px 10px rgb(189 189 189 / 10%);</span></span><br><span class="line"><span class="emphasis">    transition: all .3s ease-in-out;</span></span><br><span class="line"><span class="emphasis">    border-radius: 12px;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">.tk-comments-container&gt;.tk-comment:hover,</span></span><br><span class="line"><span class="emphasis">.tk-submit:nth-child(1):hover &#123;</span></span><br><span class="line"><span class="emphasis">    border-color: #6dc3fd;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">.tk-submit &#123;</span></span><br><span class="line"><span class="emphasis">    padding: 20px 10px 0;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">.tk-comments-container&gt;.tk-comment &#123;</span></span><br><span class="line"><span class="emphasis">    padding: 15px;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">/*</span> 页面初始化结束 <span class="emphasis">*/</span></span><br><span class="line"><span class="emphasis">div#todolist &#123;</span></span><br><span class="line"><span class="emphasis">    display: flex;</span></span><br><span class="line"><span class="emphasis">    flex-wrap: wrap;</span></span><br><span class="line"><span class="emphasis">    margin-top: 1rem;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis">.list_item &#123;</span></span><br><span class="line"><span class="emphasis">    display: inline-block;</span></span><br><span class="line"><span class="emphasis">    width: calc(50% - .4rem);</span></span><br><span class="line"><span class="emphasis">    background: #ffe3dd;</span></span><br><span class="line"><span class="emphasis">    border-radius: 12px;</span></span><br><span class="line"><span class="emphasis">    padding: 10px 1rem 1.2rem;</span></span><br><span class="line"><span class="emphasis">    border: 2px dashed #f7a796;</span></span><br><span class="line"><span class="emphasis">    --todo-border: 1px solid #f7a796;</span></span><br><span class="line"><span class="emphasis">    margin-right: 1rem;</span></span><br><span class="line"><span class="emphasis">    margin-bottom: 1rem;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis">.list_item h3 &#123;</span></span><br><span class="line"><span class="emphasis">    margin: 0;</span></span><br><span class="line"><span class="emphasis">    border-bottom: var(--todo-border);</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis">.list_item ul &#123;</span></span><br><span class="line"><span class="emphasis">    font-size: 17px;</span></span><br><span class="line"><span class="emphasis">    padding: 0 !important;</span></span><br><span class="line"><span class="emphasis">    margin: 0;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis"> .list_item li&#123;</span></span><br><span class="line"><span class="emphasis">    margin: 0 !important;</span></span><br><span class="line"><span class="emphasis">    border-bottom: var(--todo-border);</span></span><br><span class="line"><span class="emphasis"> &#125;</span></span><br><span class="line"><span class="emphasis">.list_item li::marker &#123;</span></span><br><span class="line"><span class="emphasis">  content: none;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis">li.achieve &#123;</span></span><br><span class="line"><span class="emphasis">    opacity: .8;</span></span><br><span class="line"><span class="emphasis">    text-decoration: line-through;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis">@media screen and (max-width: 900px) &#123;</span></span><br><span class="line"><span class="emphasis">  div#todolist &#123;</span></span><br><span class="line"><span class="emphasis">    margin: 1rem 5px 0;</span></span><br><span class="line"><span class="emphasis">  &#125;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis">@media screen and (max-width: 768px) &#123;</span></span><br><span class="line"><span class="emphasis">  .list_item&#123;</span></span><br><span class="line"><span class="emphasis">    width: 100%;</span></span><br><span class="line"><span class="emphasis">  &#125;</span></span><br><span class="line"><span class="emphasis">&#125;</span></span><br><span class="line"><span class="emphasis"><span class="language-xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;todolist&quot;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span></span></span><br><span class="line"><span class="emphasis">// 瀑布流函数，不用管</span></span><br><span class="line"><span class="emphasis">function waterfall(t)&#123;function e(t,e)&#123;var n=window.getComputedStyle(e);return parseFloat(n[&quot;margin&quot;+t])||0&#125;function n(t)&#123;return t+&quot;px&quot;&#125;function r(t)&#123;return parseFloat(t.style.left)&#125;function o(t)&#123;return t.clientWidth&#125;function l(t)&#123;return function(t)&#123;return parseFloat(t.style.top)&#125;(t)+function(t)&#123;return t.clientHeight&#125;(t)+e(&quot;Bottom&quot;,t)&#125;function i(t)&#123;return r(t)+o(t)+e(&quot;Right&quot;,t)&#125;function u(t)&#123;t=t.sort((function(t,e)&#123;return l(t)===l(e)?r(e)-r(t):l(e)-l(t)&#125;))&#125;function a(e)&#123;o(t)!=h&amp;&amp;(e.target.removeEventListener(e.type,arguments.callee),waterfall(t))&#125;&quot;string&quot;==typeof t&amp;&amp;(t=document.querySelector(t));var s=[].map.call(t.children,(function(t)&#123;return t.style.position=&quot;absolute&quot;,t&#125;));t.style.position=&quot;relative&quot;;var f=[];s.length&amp;&amp;(s[0].style.top=&quot;0px&quot;,s[0].style.left=n(e(&quot;Left&quot;,s[0])),f.push(s[0]));for(var p=1;p<span class="language-xml"><span class="language-javascript">&lt;s.<span class="property">length</span>;p++)&#123;<span class="keyword">var</span> c=s[p-<span class="number">1</span>],y=s[p];<span class="keyword">if</span>(!(<span class="title function_">i</span>(c)+<span class="title function_">o</span>(y)&lt;=<span class="title function_">o</span>(t)))<span class="keyword">break</span>;y.<span class="property">style</span>.<span class="property">top</span>=c.<span class="property">style</span>.<span class="property">top</span>,y.<span class="property">style</span>.<span class="property">left</span>=<span class="title function_">n</span>(<span class="title function_">i</span>(c)+<span class="title function_">e</span>(<span class="string">&quot;Left&quot;</span>,y)),f.<span class="title function_">push</span>(y)&#125;<span class="keyword">for</span>(;p&lt;s.<span class="property">length</span>;p++)&#123;<span class="title function_">u</span>(f);y=s[p];<span class="keyword">var</span> d=f.<span class="title function_">pop</span>();y.<span class="property">style</span>.<span class="property">top</span>=<span class="title function_">n</span>(<span class="title function_">l</span>(d)+<span class="title function_">e</span>(<span class="string">&quot;Top&quot;</span>,y)),y.<span class="property">style</span>.<span class="property">left</span>=<span class="title function_">n</span>(<span class="title function_">r</span>(d)),f.<span class="title function_">push</span>(y)&#125;<span class="title function_">u</span>(f);<span class="keyword">var</span> v=f[<span class="number">0</span>];t.<span class="property">style</span>.<span class="property">height</span>=<span class="title function_">n</span>(<span class="title function_">l</span>(v));<span class="keyword">var</span> h=<span class="title function_">o</span>(t);<span class="variable language_">window</span>.<span class="property">addEventListener</span>?<span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;resize&quot;</span>,a):<span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">onresize</span>=a&#125;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="emphasis"></span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="emphasis"><span class="comment">// 清单函数</span></span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="emphasis"><span class="title function_">todolist</span>();</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="emphasis"><span class="keyword">function</span> <span class="title function_">todolist</span>(<span class="params"></span>) &#123;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="emphasis">    <span class="title function_">fetch</span>(<span class="string">&#x27;https://你的memos地址/api/v1/memo?creatorId=1&amp;tag=清单&#x27;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span></span></span> res.json()).then(data =&gt; &#123; // 注意替换链接</span></span><br><span class="line"><span class="emphasis">        // 获取并处理数据</span></span><br><span class="line"><span class="emphasis">        data = data.data</span></span><br><span class="line"><span class="emphasis">        let box = document.getElementById(&#x27;todolist&#x27;)</span></span><br><span class="line"><span class="emphasis">        data.forEach(item =&gt; &#123;</span></span><br><span class="line"><span class="emphasis">            // 处理数据</span></span><br><span class="line"><span class="emphasis">            let content = item.content,</span></span><br><span class="line"><span class="emphasis">                title = content.match(/(?&lt;=#.*</span>\[)(.<span class="emphasis">*?)(?=\])/g);</span></span><br><span class="line"><span class="emphasis">            // 去掉多余内容，替换清单内容</span></span><br><span class="line"><span class="emphasis">            content = content.replace(/#.*</span>\s/g, &#x27;&#x27;).replace(/(-\s\[\s\]\s)(.<span class="emphasis">*)(?=\s*</span>)/g, <span class="code">`&lt;li&gt;&lt;i style=&quot;margin-right: 5px;&quot; class=&quot;fa-regular fa-circle&quot;&gt;&lt;/i&gt;$2&lt;/li&gt;`</span>).replace(/(-\s\[x\]\s)(.<span class="emphasis">*)(?=\s*</span>)/g, <span class="code">`&lt;li class=&quot;achieve&quot;&gt;&lt;i style=&quot;margin-right: 5px;&quot; class=&quot;fa-regular fa-circle-check&quot;&gt;&lt;/i&gt;$2&lt;/li&gt;`</span>);</span><br><span class="line"><span class="code">            // 渲染数据</span></span><br><span class="line"><span class="code">            let div = document.createElement(&#x27;div&#x27;);</span></span><br><span class="line"><span class="code">            div.className = &#x27;list_item&#x27;;</span></span><br><span class="line"><span class="code">            div.innerHTML = `&lt;h3&gt;$&#123;title&#125;&lt;/h3&gt;&lt;ul&gt;$&#123;content&#125;&lt;/ul&gt;`;</span></span><br><span class="line"><span class="code">            box.appendChild(div);</span></span><br><span class="line"><span class="code">        &#125;);</span></span><br><span class="line"><span class="code">        waterfall(&#x27;#todolist&#x27;);</span></span><br><span class="line"><span class="code">    &#125;).catch()</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code">&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><p>使用</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#清单 [计划]</span><br><span class="line">- [ ] 测试Memos</span><br><span class="line">- [x] 测试Memos</span><br></pre></td></tr></table></figure><h3 id="Heo同款loading动画"><a href="#Heo同款loading动画" class="headerlink" title="Heo同款loading动画"></a>Heo同款loading动画</h3><blockquote><p>原文地址：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://anzhiy.cn/posts/52d8.html">安知鱼 - 生活明朗 万物可爱</a></p></blockquote><p>修改<code>[BlogRoot]/themes/butterfly/layout/includes/loading/fullpage-loading.pug</code></p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line"><span class="deletion">-#loading-box</span></span><br><span class="line"><span class="deletion">-  .loading-left-bg</span></span><br><span class="line"><span class="deletion">-  .loading-right-bg</span></span><br><span class="line"><span class="deletion">-  .spinner-box</span></span><br><span class="line"><span class="deletion">-    .configure-border-1</span></span><br><span class="line"><span class="deletion">-      .configure-core</span></span><br><span class="line"><span class="deletion">-    .configure-border-2</span></span><br><span class="line"><span class="deletion">-      .configure-core</span></span><br><span class="line"><span class="deletion">-    .loading-word= _p(&#x27;loading&#x27;)</span></span><br><span class="line"><span class="addition">+#loading-box(onclick=&#x27;document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)&#x27;)</span></span><br><span class="line"><span class="addition">+  .loading-bg</span></span><br><span class="line"><span class="addition">+    div.loading-img</span></span><br><span class="line"><span class="addition">+    .loading-image-dot</span></span><br></pre></td></tr></table></figure><p>修改<code>[BlogRoot]/themes/butterfly/layout/includes/loading/index.pug</code></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">if theme.preloader.source === 1</span><br><span class="line">  include ./fullpage-loading.pug</span><br><span class="line">else if theme.preloader.source === 2</span><br><span class="line">  include ./pace.pug</span><br><span class="line">else</span><br><span class="line">  include ./fullpage-loading.pug</span><br><span class="line">  include ./pace.pug</span><br></pre></td></tr></table></figure><p>新建<code>source/css/progress_bar.css</code>，也可以不做这一步下面配置文件<code>pace_css_url</code>这一项就要留空,，这一步是修改 pace 加载的胶囊 💊 样式用的</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.pace</span> &#123;</span><br><span class="line">  -webkit-<span class="attribute">pointer-events</span>: none;</span><br><span class="line">  <span class="attribute">pointer-events</span>: none;</span><br><span class="line">  -webkit-user-select: none;</span><br><span class="line">  -moz-user-select: none;</span><br><span class="line">  user-select: none;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">2000</span>;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">margin</span>: auto;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">4rem</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#eaecf2</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> <span class="number">#e3e8f7</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pace-inactive</span> <span class="selector-class">.pace-progress</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">transition</span>: <span class="number">0.3s</span> ease-in;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pace</span> <span class="selector-class">.pace-progress</span> &#123;</span><br><span class="line">  -webkit-<span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  -moz-<span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  -ms-<span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  -o-<span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  -webkit-<span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  -moz-<span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  -ms-<span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  -o-<span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">2000</span>;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(-<span class="number">45deg</span>, <span class="number">#ee7752</span>, <span class="number">#e73c7e</span>, <span class="number">#23a6d5</span>, <span class="number">#23d5ab</span>);</span><br><span class="line">  <span class="attribute">animation</span>: gradient <span class="number">1.5s</span> ease infinite;</span><br><span class="line">  <span class="attribute">background-size</span>: <span class="number">200%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pace</span><span class="selector-class">.pace-inactive</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">transition</span>: <span class="number">0.3s</span>;</span><br><span class="line">  <span class="attribute">top</span>: -<span class="number">8px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> gradient &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0%</span> <span class="number">50%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">50%</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">100%</span> <span class="number">50%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: <span class="number">0%</span> <span class="number">50%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改<code>themes/butterfly/source/css/_layout/loading.styl</code>，注意其中颜色代码<code>--anzhiyu-card-bg</code>等需自行替换为自己的色值。</p><figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;preloader&#x27;</span>)</span><br><span class="line">  <span class="selector-class">.loading-bg</span></span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">position</span>: fixed;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--anzhiyu-card-bg);</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">1001</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">transition</span>: .<span class="number">3s</span>;</span><br><span class="line"></span><br><span class="line">  <span class="selector-id">#loading-box</span></span><br><span class="line">    <span class="selector-class">.loading-img</span></span><br><span class="line">      <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">      <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">      <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">      <span class="attribute">margin</span>: auto;</span><br><span class="line">      <span class="attribute">border</span>: <span class="number">4px</span> solid <span class="number">#f0f0f2</span>;</span><br><span class="line">      <span class="attribute">animation-duration</span>: .<span class="number">3s</span>;</span><br><span class="line">      <span class="attribute">animation-name</span>: loadingAction;</span><br><span class="line">      <span class="attribute">animation-iteration-count</span>: infinite;</span><br><span class="line">      <span class="attribute">animation-direction</span>: alternate;</span><br><span class="line">    <span class="selector-class">.loading-image-dot</span></span><br><span class="line">      <span class="attribute">width</span>: <span class="number">30px</span>;</span><br><span class="line">      <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">      <span class="attribute">background</span>: <span class="number">#6bdf8f</span>;</span><br><span class="line">      <span class="attribute">position</span>: absolute;</span><br><span class="line">      <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">      <span class="attribute">border</span>: <span class="number">6px</span> solid <span class="number">#fff</span>;</span><br><span class="line">      <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">      <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">      <span class="attribute">transform</span>: <span class="built_in">translate</span>(<span class="number">18px</span>, <span class="number">24px</span>);</span><br><span class="line">    &amp;<span class="selector-class">.loaded</span></span><br><span class="line">      <span class="selector-class">.loading-bg</span></span><br><span class="line">        <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">        <span class="attribute">z-index</span>: -<span class="number">1000</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">@keyframes</span> loadingAction</span><br><span class="line">    <span class="number">0%</span> &#123;</span><br><span class="line">        <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="number">100%</span> &#123;</span><br><span class="line">        <span class="attribute">opacity</span>: .<span class="number">4</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>在合适的地方加上自定义 css， 其中 <code>background</code> 的 <code>url 即为 loading 的图片地址</code>。</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.loading-img</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">https://q1.qlogo.cn/g?b=qq&amp;nk=1310446718&amp;s=5</span>) no-repeat center center;</span><br><span class="line">  <span class="attribute">background-size</span>: cover;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改主题配置文件<code>_config.butterfly.yml</code>，<code>source: 1</code>为满屏加载无<code>pace胶囊</code>，<code>source: 2</code>为<code>pace胶囊</code>无满屏动画，<code>source: 3</code>是两者都启用。</p><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Loading Animation (加载动画)</span></span><br><span class="line"><span class="attr">preloader:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># source</span></span><br><span class="line">  <span class="comment"># 1. fullpage-loading</span></span><br><span class="line">  <span class="comment"># 2. pace (progress bar)</span></span><br><span class="line">  <span class="comment"># else all</span></span><br><span class="line">  <span class="attr">source:</span> <span class="number">3</span></span><br><span class="line">  <span class="comment"># pace theme (see https://codebyzach.github.io/pace/)</span></span><br><span class="line">  <span class="attr">pace_css_url:</span> <span class="string">/css/progress_bar.css</span></span><br></pre></td></tr></table></figure><h3 id="导航栏"><a href="#导航栏" class="headerlink" title="导航栏"></a>导航栏</h3><blockquote><p>原文地址：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://anzhiy.cn/posts/8e53.html">butterfly导航栏修改方案(自用方案) | 安知鱼</a></p><p>其它教程：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://yisous.xyz/posts/895003b5/#%E5%88%86%E7%A6%BB%E6%90%9C%E7%B4%A2%E6%A0%8F%E4%B8%8E%E8%8F%9C%E5%8D%95%E6%A0%8F">关于Butterfly的导航栏的一些教程 | Ariasakaの小窝</a></p></blockquote><p>新建<code>[BlogRoot]/source/css/nav_menu.css</code></p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#nav</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--zhsher-theme);</span><br><span class="line">    <span class="attribute">transition</span>: <span class="number">0.3s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#nav-totop</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.totopbtn</span> <span class="selector-tag">i</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#nav-totop</span> <span class="selector-id">#percent</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--zhsher-white);</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--zhsher-theme);</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">25px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">25px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">35px</span>;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">justify-content</span>: center;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">    <span class="attribute">transition</span>: <span class="number">0.3s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.nav-fixed</span> <span class="selector-id">#nav-totop</span> <span class="selector-id">#percent</span>,</span><br><span class="line"><span class="selector-class">.page</span> <span class="selector-id">#nav-totop</span> <span class="selector-id">#percent</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--font-color);</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--card-bg);</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">13px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#nav-totop</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">35px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#page-header</span><span class="selector-pseudo">:not</span>(<span class="selector-class">.is-top-bar</span>) <span class="selector-id">#percent</span> &#123;</span><br><span class="line">    <span class="attribute">transition</span>: <span class="number">0.3s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#page-header</span><span class="selector-pseudo">:not</span>(<span class="selector-class">.is-top-bar</span>) <span class="selector-id">#nav-totop</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">transition</span>: width <span class="number">0.3s</span>, opacity <span class="number">0.2s</span>;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">0</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#nav-totop</span> <span class="selector-id">#percent</span> &#123;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#nav-totop</span><span class="selector-pseudo">:hover</span> <span class="selector-id">#percent</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.5</span>);</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#page-header</span> <span class="selector-id">#nav</span> <span class="selector-id">#nav-right</span> <span class="selector-tag">div</span> &#123;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">0.5rem</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#nav-totop</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">    <span class="attribute">justify-content</span>: center;</span><br><span class="line">    <span class="attribute">transition</span>: <span class="number">0.3s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.nav-button</span> &#123;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-id">#menus</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#page-header</span> <span class="selector-id">#nav</span> <span class="selector-class">.nav-button</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">35px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">35px</span>;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">    <span class="attribute">justify-content</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#nav</span> <span class="selector-class">.site-page</span> &#123;</span><br><span class="line">    <span class="attribute">padding-bottom</span>: <span class="number">0px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#nav</span> *<span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: transparent <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 顶栏修改 */</span></span><br><span class="line"><span class="selector-id">#nav</span> <span class="selector-class">.menus_items</span> <span class="selector-class">.menus_item</span> <span class="selector-class">.menus_item_child</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">2px</span> <span class="number">16px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#nav</span> <span class="selector-class">.menus_items</span> <span class="selector-class">.menus_item</span> <span class="selector-class">.menus_item_child</span> <span class="selector-tag">li</span><span class="selector-pseudo">:hover</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: white <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#nav</span> <span class="selector-class">.menus_items</span> <span class="selector-class">.menus_item</span> <span class="selector-class">.menus_item_child</span> <span class="selector-tag">li</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">6px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">transition</span>: all <span class="number">0.3s</span>;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">3px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#nav</span> <span class="selector-class">.menus_items</span> <span class="selector-class">.menus_item</span> <span class="selector-class">.menus_item_child</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">top</span>: -<span class="number">19px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#site-name</span>,</span><br><span class="line"><span class="selector-class">.shuoshuo</span> &#123;</span><br><span class="line">    <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#site-name</span> &#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">    <span class="attribute">justify-content</span>: center;</span><br><span class="line">    <span class="attribute">transition</span>: <span class="number">0.3s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#blog-info</span> <span class="selector-id">#site-name</span> <span class="selector-tag">i</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#blog-info</span> <span class="selector-id">#site-name</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.title</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#blog-info</span> <span class="selector-id">#site-name</span><span class="selector-pseudo">:hover</span> <span class="selector-tag">i</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.01</span>);</span><br><span class="line">    <span class="attribute">color</span>: white;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 圆角隐藏 */</span></span><br><span class="line"><span class="selector-tag">ul</span><span class="selector-class">.menus_item_child</span> &#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 一级菜单居中 */</span></span><br><span class="line"><span class="selector-id">#nav</span> <span class="selector-class">.menus_items</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">width</span>: fit-content;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translateX</span>(-<span class="number">50%</span>);</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">flex-direction</span>: row;</span><br><span class="line">    <span class="attribute">justify-content</span>: center;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#nav</span> <span class="selector-class">.menus_items</span> <span class="selector-class">.menus_item</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.menus_item_child</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translateX</span>(-<span class="number">50%</span>);</span><br><span class="line">    <span class="attribute">right</span>: auto;</span><br><span class="line">    <span class="attribute">left</span>: auto <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">6px</span> <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">box-sizing</span>: content-box;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">35px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#nav</span> <span class="selector-class">.menus_items</span> <span class="selector-class">.menus_item</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">5px</span> <span class="number">27px</span> <span class="number">5px</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: -<span class="number">14.5px</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#nav</span> <span class="selector-class">.menus_items</span> <span class="selector-class">.menus_item</span> <span class="selector-class">.menus_item_child</span> &#123;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">44px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">768px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.page</span> <span class="selector-class">.menus_item</span><span class="selector-pseudo">:hover</span> &gt; <span class="selector-tag">a</span><span class="selector-class">.site-page</span> &#123;</span><br><span class="line">        <span class="attribute">color</span>: <span class="built_in">var</span>(--zhsher-white) <span class="meta">!important</span>;</span><br><span class="line">        <span class="attribute">background</span>: <span class="built_in">var</span>(--zhsher-theme);</span><br><span class="line">        <span class="attribute">transition</span>: <span class="number">0.3s</span>;</span><br><span class="line">        <span class="attribute">box-shadow</span>: <span class="built_in">var</span>(--zhsher-shadow-main);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.nav-fixed</span> <span class="selector-id">#nav</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">58px</span>) <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#nav</span> &#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="built_in">calc</span>((<span class="number">100%</span> - <span class="number">1420px</span>) / <span class="number">2</span>);</span><br><span class="line">    backdrop-<span class="attribute">filter</span>: <span class="built_in">saturate</span>(<span class="number">180%</span>) <span class="built_in">blur</span>(<span class="number">20px</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#nav</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--font-color);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.page</span> <span class="selector-id">#nav</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--zhsher-white) <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--zhsher-theme);</span><br><span class="line">    <span class="attribute">transition</span>: <span class="number">0.3s</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="built_in">var</span>(--zhsher-shadow-main);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#menus</span> &gt; <span class="selector-tag">div</span><span class="selector-class">.menus_items</span> &gt; <span class="selector-tag">div</span> &gt; <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">letter-spacing</span>: <span class="number">0.3rem</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0em</span> <span class="number">0.3em</span> <span class="number">0em</span> <span class="number">0.5em</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">35px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">35px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#nav</span> <span class="selector-class">.menus_items</span> <span class="selector-class">.menus_item</span> &#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">flex-direction</span>: column;</span><br><span class="line">    <span class="attribute">margin</span>: auto;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#nav</span> <span class="selector-tag">div</span><span class="selector-id">#toggle-menu</span> &#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">2px</span> <span class="number">0</span> <span class="number">4px</span> <span class="number">6px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#nav-totop</span> <span class="selector-class">.totopbtn</span> <span class="selector-tag">i</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#page-name</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">color</span>: white <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&quot;回到顶部&quot;</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--zhsher-theme);</span><br><span class="line">    <span class="attribute">transition</span>: all <span class="number">0.3s</span>;</span><br><span class="line">    -webkit-<span class="attribute">transition</span>: all <span class="number">0.3s</span>;</span><br><span class="line">    -moz-<span class="attribute">transition</span>: all <span class="number">0.3s</span>;</span><br><span class="line">    -ms-<span class="attribute">transition</span>: all <span class="number">0.3s</span>;</span><br><span class="line">    -o-<span class="attribute">transition</span>: all <span class="number">0.3s</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">3px</span> <span class="built_in">var</span>(--zhsher-theme);</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">45px</span>; <span class="comment">/*如果垂直位置不居中可以微调此值，也可以删了*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#page-name</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#name-container</span> &#123;</span><br><span class="line">    <span class="attribute">transition</span>: all <span class="number">0.3s</span>;</span><br><span class="line">    -webkit-<span class="attribute">transition</span>: all <span class="number">0.3s</span>;</span><br><span class="line">    -moz-<span class="attribute">transition</span>: all <span class="number">0.3s</span>;</span><br><span class="line">    -ms-<span class="attribute">transition</span>: all <span class="number">0.3s</span>;</span><br><span class="line">    -o-<span class="attribute">transition</span>: all <span class="number">0.3s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#name-container</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translateX</span>(-<span class="number">50%</span>) <span class="built_in">scale</span>(<span class="number">1.03</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#page-name</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">30px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">center<span class="selector-id">#name-container</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translateX</span>(-<span class="number">50%</span>);</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">&quot;ZhuZiAYuanJWD&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.nav-fixed</span><span class="selector-class">.nav-visible</span> <span class="selector-id">#name-container</span> &#123;</span><br><span class="line">    <span class="attribute">transition</span>: <span class="number">0.3s</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>, <span class="number">60px</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.nav-fixed</span><span class="selector-class">.nav-visible</span> <span class="selector-id">#menus</span> <span class="selector-class">.menus_items</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>);</span><br><span class="line">    <span class="attribute">transition</span>: <span class="number">0.3s</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">60px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.nav-fixed</span> <span class="selector-id">#menus</span> <span class="selector-class">.menus_items</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate</span>(-<span class="number">50%</span>, -<span class="number">60px</span>);</span><br><span class="line">    <span class="attribute">transition</span>: <span class="number">0.3s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.nav-fixed</span> <span class="selector-id">#name-container</span> &#123;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">15%</span>;</span><br><span class="line">    <span class="attribute">transition</span>: <span class="number">0.3s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#name-container</span> &#123;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">60px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.mask-name-container</span> &#123;</span><br><span class="line">    <span class="attribute">max-width</span>: <span class="number">1200px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translateX</span>(-<span class="number">50%</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">992px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.mask-name-container</span> &#123;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">65%</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">768px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.mask-name-container</span> &#123;</span><br><span class="line">        <span class="attribute">display</span>: none;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#sidebar</span> <span class="selector-id">#sidebar-menus</span> <span class="selector-class">.menus_items</span> <span class="selector-class">.site-page</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--zhsher-white);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="built_in">var</span>(--zhsher-border-radius);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#nav</span> <span class="selector-class">.menus_items</span> <span class="selector-class">.menus_item</span> &gt; <span class="selector-tag">a</span> &gt; <span class="selector-tag">i</span><span class="selector-pseudo">:last-child</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#nav</span> <span class="selector-id">#search-button</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">1.3em</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">900px</span>) &#123;</span><br><span class="line">    <span class="selector-id">#nav</span> <span class="selector-class">.back-home-button</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">        <span class="attribute">box-shadow</span>: <span class="built_in">var</span>(--zhsher-shadow-main);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.back-home-button</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--zhsher-theme);</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--zhsher-white) <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.back-home-button</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">35px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">35px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">    <span class="attribute">justify-content</span>: center;</span><br><span class="line">    <span class="attribute">margin-right</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">transition</span>: <span class="number">0.3s</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.back-home-button</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.back-menu-list-groups</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">transition</span>: <span class="number">0.3s</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">55px</span>;</span><br><span class="line">    <span class="attribute">pointer-events</span>: auto;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.back-home-button</span> <span class="selector-class">.back-menu-list-groups</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">65px</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--zhsher-card-bg);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="built_in">var</span>(--style-border);</span><br><span class="line">    <span class="attribute">flex-direction</span>: column;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--zhsher-secondtext);</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="built_in">var</span>(--zhsher-shadow-border);</span><br><span class="line">    <span class="attribute">transition</span>: <span class="number">0s</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">pointer-events</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.back-home-button</span> <span class="selector-class">.back-menu-list-group</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">flex-direction</span>: column;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.back-home-button</span> <span class="selector-class">.back-menu-list-group</span> <span class="selector-class">.back-menu-list-title</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">8px</span> <span class="number">0</span> <span class="number">0</span> <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">transition</span>: <span class="number">0.3s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.back-home-button</span> <span class="selector-class">.back-menu-list</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="comment">/* 微调 */</span></span><br><span class="line">    <span class="attribute">flex-direction</span>: row;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">332px</span>;</span><br><span class="line">    <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">    <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.back-home-button</span> <span class="selector-class">.back-menu-list</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: -<span class="number">22px</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">25px</span>;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.back-home-button</span> <span class="selector-class">.back-menu-list-group</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.back-menu-list-title</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--zhsher-theme);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.back-home-button</span> <span class="selector-class">.back-menu-list-groups</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="built_in">var</span>(--style-border-hover);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.back-home-button</span> <span class="selector-class">.back-menu-list</span> <span class="selector-class">.back-menu-item</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">4px</span> <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">4px</span> <span class="number">8px</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">transition</span>: <span class="number">0.3s</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">150px</span>;<span class="comment">/* 调整 */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.back-home-button</span> <span class="selector-class">.back-menu-list</span> <span class="selector-class">.back-menu-item</span> <span class="selector-class">.back-menu-item-text</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="built_in">var</span>(--global-font-size);</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">0.5rem</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--zhsher-fontcolor);</span><br><span class="line">    <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#nav</span> <span class="selector-id">#blog-info</span> &#123;</span><br><span class="line">    <span class="attribute">flex-wrap</span>: nowrap;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">    <span class="comment">/* z-index: 102; */</span></span><br><span class="line">    <span class="attribute">transition</span>: <span class="number">0.3s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.back-home-button</span> <span class="selector-class">.back-menu-list</span> <span class="selector-class">.back-menu-item</span> <span class="selector-class">.back-menu-item-icon</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">24px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">24px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">24px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--zhsher-secondbg);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#page-header</span> <span class="selector-id">#nav</span> <span class="selector-class">.back-home-button</span> &#123;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">1300px</span>) &#123;</span><br><span class="line">    <span class="selector-id">#nav</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.03</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.back-home-button</span> <span class="selector-class">.back-menu-list</span> <span class="selector-class">.back-menu-item</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.back-menu-item-text</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--zhsher-white);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.back-menu-item-icon</span><span class="selector-class">.loading</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">25px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#page-header</span> <span class="selector-id">#nav</span> <span class="selector-id">#menus</span> <span class="selector-class">.nav-button</span><span class="selector-class">.long</span> <span class="selector-tag">a</span><span class="selector-class">.totopbtn</span>,</span><br><span class="line"><span class="selector-id">#page-header</span> <span class="selector-id">#nav</span> <span class="selector-id">#menus</span> <span class="selector-class">.nav-button</span><span class="selector-class">.long</span>,</span><br><span class="line"><span class="selector-id">#page-header</span> <span class="selector-id">#nav</span> <span class="selector-id">#menus</span> <span class="selector-class">.nav-button</span><span class="selector-class">.long</span> <span class="selector-tag">a</span><span class="selector-class">.totopbtn</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">70px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#page-header</span> <span class="selector-id">#nav</span> <span class="selector-id">#menus</span> <span class="selector-class">.nav-button</span><span class="selector-class">.long</span> <span class="selector-tag">a</span><span class="selector-class">.totopbtn</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">35px</span>;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">justify-content</span>: center;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">    <span class="attribute">transition</span>: <span class="number">0.3s</span>;</span><br><span class="line">    <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#page-header</span> <span class="selector-id">#nav</span> <span class="selector-id">#menus</span> <span class="selector-class">.nav-button</span><span class="selector-class">.long</span> <span class="selector-tag">a</span><span class="selector-class">.totopbtn</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">35px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#nav</span> <span class="selector-id">#search-button</span> &#123;</span><br><span class="line">    <span class="attribute">padding-left</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#page-header</span> <span class="selector-id">#nav</span> <span class="selector-class">.nav-button</span> &#123;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">0.5rem</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#page-header</span><span class="selector-pseudo">:not</span>(<span class="selector-class">.is-top-bar</span>) <span class="selector-id">#nav-totop</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#search-button</span> <span class="selector-tag">a</span><span class="selector-class">.site-page</span><span class="selector-class">.social-icon</span><span class="selector-class">.search</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 微调 */</span></span><br><span class="line"><span class="selector-id">#nav</span> <span class="selector-id">#blog-info</span> &#123;</span><br><span class="line">    <span class="attribute">overflow</span>: unset;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>新建<code>[BlogRoot]/source/js/nav_menu.js</code></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 返回顶部 显示网页阅读进度</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">onscroll</span> = percent; <span class="comment">// 执行函数</span></span><br><span class="line"><span class="comment">// 页面百分比</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">percent</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> a = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span> || <span class="variable language_">window</span>.<span class="property">pageYOffset</span>, <span class="comment">// 卷去高度</span></span><br><span class="line">        b =</span><br><span class="line">            <span class="title class_">Math</span>.<span class="title function_">max</span>(</span><br><span class="line">                <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollHeight</span>,</span><br><span class="line">                <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollHeight</span>,</span><br><span class="line">                <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">offsetHeight</span>,</span><br><span class="line">                <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">offsetHeight</span>,</span><br><span class="line">                <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">clientHeight</span>,</span><br><span class="line">                <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">clientHeight</span></span><br><span class="line">            ) - <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">clientHeight</span>, <span class="comment">// 整个网页高度 减去 可视高度</span></span><br><span class="line">        result = <span class="title class_">Math</span>.<span class="title function_">round</span>((a / b) * <span class="number">100</span>), <span class="comment">// 计算百分比</span></span><br><span class="line">        btn = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#percent&quot;</span>); <span class="comment">// 获取图标</span></span><br><span class="line"></span><br><span class="line">    result &lt;= <span class="number">99</span> || (result = <span class="number">99</span>), (btn.<span class="property">innerHTML</span> = result);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;page-name&quot;</span>).<span class="property">innerText</span> = <span class="variable language_">document</span>.<span class="property">title</span>.<span class="title function_">split</span>(<span class="string">&quot; | 张时贰&quot;</span>)[<span class="number">0</span>];</span><br></pre></td></tr></table></figure><p>修改主题配置文件<code>_config.butterfly.yml</code>，引入css、js文件</p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">  # - &lt;link rel=&quot;stylesheet&quot; href=&quot;/xxx.css&quot;&gt;</span><br><span class="line"><span class="addition">+   - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/nav_menu.css&quot;&gt;</span></span><br><span class="line">  bottom:</span><br><span class="line">  # - &lt;script src=&quot;xxxx&quot;&gt;&lt;/script&gt;</span><br><span class="line"><span class="addition">+   - &lt;script data-pjax src=&quot;/js/nav_menu.js&quot;&gt;&lt;/script&gt; </span></span><br></pre></td></tr></table></figure><p>为了处理顶栏一闪而过的 bug 修改<code>[BlogRoot]/themes/butterfly/source/js/main.js</code>，注意有<strong>引用线上</strong>版本的话一定要使用本地版本改完再自行上传线上版本</p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">if (currentTop &gt; 56) &#123;</span><br><span class="line"><span class="addition">+  $header.classList.add(&#x27;is-top-bar&#x27;)</span></span><br><span class="line">if (isDown) &#123;</span><br><span class="line"></span><br><span class="line">if (currentTop <span class="comment">=== 0) &#123;</span></span><br><span class="line"><span class="deletion">- $header.classList.remove(&#x27;nav-fixed&#x27;, &#x27;nav-visible&#x27;)</span></span><br><span class="line"><span class="addition">+ $header.classList.remove(&#x27;is-top-bar&#x27;)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改<code>[BlogRoot]/themes/butterfly/layout/includes/header/index.pug</code></p><p>其中<code>nav-visible</code>可以控制默认显示的是站点标题还是导航栏菜单。</p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">  if top_img !== false</span><br><span class="line">    - var imgSource = top_img &amp;&amp; top_img.indexOf(&#x27;/&#x27;) !== -1 ? `background-image: url(&#x27;$&#123;url_for(top_img)&#125;&#x27;)` : `background: $&#123;top_img&#125;`</span><br><span class="line">    - var bg_img = top_img ? imgSource : &#x27;&#x27;</span><br><span class="line">    - var site_title = page.title || page.tag || page.category || config.title</span><br><span class="line"><span class="deletion">-   - var isHomeClass = is_home() ? &#x27;full_page&#x27; : &#x27;not-home-page&#x27;</span></span><br><span class="line"><span class="addition">+   - var isHomeClass = is_home() ? &#x27;full_page nav-fixed nav-visible&#x27; : &#x27;not-home-page&#x27;</span></span><br><span class="line">    - is_post() ? isHomeClass = &#x27;post-bg&#x27; : isHomeClass</span><br><span class="line">  else</span><br><span class="line">    - var isHomeClass = &#x27;not-top-img&#x27;</span><br></pre></td></tr></table></figure><p>全部替换<code>[BlogRoot]/themes/butterfly/layout/includes/header/nav.pug</code></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">nav#nav</span><br><span class="line">  span#blog-info</span><br><span class="line">    .back-home-button(tabindex=&#x27;-1&#x27;)</span><br><span class="line">      i.back-home-button-icon.fas.fa-grip-vertical</span><br><span class="line">      .back-menu-list-groups</span><br><span class="line">        .back-menu-list-group</span><br><span class="line">          .back-menu-list-title 网页</span><br><span class="line">          .back-menu-list</span><br><span class="line">            a.back-menu-item(href=&#x27;/&#x27;, title=&#x27;前往博客主页&#x27;, target=&#x27;_blank&#x27;, one-link-mark=&#x27;yes&#x27;)</span><br><span class="line">              img.back-menu-item-icon(src=&#x27;https://q1.qlogo.cn/g?b=qq&amp;nk=1310446718&amp;s=5&#x27;)</span><br><span class="line">              span.back-menu-item-text 博客</span><br><span class="line"></span><br><span class="line">            a.back-menu-item(href=&#x27;https://status.zhsher.cn/status/friend&#x27;, rel=&#x27;external nofollow&#x27;, title=&#x27;前往友链监控&#x27;, target=&#x27;_blank&#x27;, one-link-mark=&#x27;yes&#x27;)</span><br><span class="line">              img.back-menu-item-icon(src=&#x27;https://zhsher.cn/Hexo_img/config/nav_uptime.webp&#x27;)</span><br><span class="line">              span.back-menu-item-text 友链监控</span><br><span class="line"></span><br><span class="line">            a.back-menu-item(href=&#x27;https://rv.zhsher.cn/Game_box/game/&#x27;, rel=&#x27;external nofollow&#x27;, title=&#x27;前往游戏盒&#x27;, target=&#x27;_blank&#x27;, one-link-mark=&#x27;yes&#x27;)</span><br><span class="line">              img.back-menu-item-icon(src=&#x27;https://zhsher.cn/Hexo_img/config/nav_box.webp&#x27;)</span><br><span class="line">              span.back-menu-item-text 游戏盒</span><br><span class="line">        .back-menu-list-group</span><br><span class="line">          .back-menu-list-title 项目</span><br><span class="line">          .back-menu-list</span><br><span class="line">            a.back-menu-item(href=&#x27;https://github.com/GC-ZF/hexo-hot-article&#x27;, title=&#x27;前往阅读统计&#x27;, target=&#x27;_blank&#x27;, rel=&#x27;noopener nofollow&#x27;, one-link-mark=&#x27;yes&#x27;)</span><br><span class="line">              img.back-menu-item-icon(src=&#x27;https://zhsher.cn/Hexo_img/config/nav_article.webp&#x27;)</span><br><span class="line">              span.back-menu-item-text 占位</span><br><span class="line"></span><br><span class="line">    a#site-name(href=url_for(&#x27;/&#x27;))</span><br><span class="line">      .title #[=config.title]</span><br><span class="line">      i.fa-solid.fa-house</span><br><span class="line"></span><br><span class="line">  div.mask-name-container</span><br><span class="line">    center(id=&quot;name-container&quot;)</span><br><span class="line">      a(id=&quot;page-name&quot; href=&quot;javascript:rmf.scrollToTop()&quot;) PAGE_NAME</span><br><span class="line"></span><br><span class="line">  #menus</span><br><span class="line">    if (theme.algolia_search.enable || theme.local_search.enable || theme.docsearch.enable)</span><br><span class="line">      div.nav-button#search-button</span><br><span class="line">        a.site-page.social-icon.search(href=&quot;javascript:void(0);&quot;)</span><br><span class="line">          i.fas.fa-search.fa-fw</span><br><span class="line">          span=&#x27; &#x27;+_p(&#x27;search.title&#x27;)</span><br><span class="line"></span><br><span class="line">    if theme.darkmode.enable &amp;&amp; theme.darkmode.button</span><br><span class="line">      div.nav-button#darkmode_navswitch</span><br><span class="line">        a.darkmode_switchbutton(type=&quot;button&quot; title=_p(&#x27;rightside.night_mode_title&#x27;) onclick=&quot;rmf.switchDarkMode()&quot;)</span><br><span class="line">          i.fas.fa-adjust</span><br><span class="line"></span><br><span class="line">    div.nav-button#nav-totop</span><br><span class="line">      a.totopbtn</span><br><span class="line">        i.fas.fa-arrow-up</span><br><span class="line">        span#percent(onclick=&quot;btf.scrollToDest(0,500)&quot;) 0</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    !=partial(&#x27;includes/header/menu_item&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line"></span><br><span class="line">    #toggle-menu</span><br><span class="line">      a.site-page</span><br><span class="line">        i.fas.fa-bars.fa-fw</span><br></pre></td></tr></table></figure><h3 id="社交卡片"><a href="#社交卡片" class="headerlink" title="社交卡片"></a>社交卡片</h3><blockquote><p>来源：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://anzhiy.cn/">安知鱼 - 生活明朗 万物可爱</a>站点扒的</p></blockquote><p>全部替换<code>[BlogRoot]/themes/butterfly/layout/includes/widget/card_author.pug</code></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">if theme.aside.card_author.enable</span><br><span class="line">  .card-widget.card-info</span><br><span class="line">    .author-info-top</span><br><span class="line">      .card-info-avatar</span><br><span class="line">        a.avatar-img(href=&#x27;/about&#x27;)</span><br><span class="line">          img(src=url_for(theme.avatar.img) onerror=`this.onerror=null;this.src=&#x27;` + url_for(theme.error_img.flink) + `&#x27;` alt=&quot;avatar&quot;)</span><br><span class="line">        .author-status-box</span><br><span class="line">          .author-status</span><br><span class="line">            g-emoji.g-emoji(alias=&#x27;palm_tree&#x27;, fallback-src=&#x27;https://zhsher.cn/Hexo_img/config/social_card2.webp&#x27;) 🌴</span><br><span class="line">            span On vacation</span><br><span class="line">    .author-info__sayhi#author-info__sayhi</span><br><span class="line">    h1.author-info__name= config.author</span><br><span class="line">    .author-info__description!= theme.aside.card_author.description || config.description</span><br><span class="line">    .banner-button-group</span><br><span class="line">      a.banner-button(href=&#x27;/about&#x27;)</span><br><span class="line">        i.fas.fa-circle-arrow-up-right</span><br><span class="line">        span.banner-button-text 了解更多</span><br><span class="line"></span><br><span class="line">    if(theme.social)</span><br><span class="line">      .card-info-social-icons.is-center</span><br><span class="line">        !=fragment_cache(&#x27;social&#x27;, function()&#123;return partial(&#x27;includes/header/social&#x27;)&#125;)</span><br></pre></td></tr></table></figure><p>新建<code>[BlogRoot]/source/css/social_card.css</code></p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">div</span><span class="selector-id">#author-info__sayhi</span> &#123;</span><br><span class="line">    <span class="attribute">text-align</span>: left;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--zhsher-white-op);</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--font-color);</span><br><span class="line">    <span class="attribute">border</span>: <span class="built_in">var</span>(--style-border);</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">margin-right</span>: auto;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">5px</span> <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">width</span>: fit-content;</span><br><span class="line">    <span class="attribute">display</span>: inline;</span><br><span class="line">    <span class="attribute">margin-left</span>: -<span class="number">1px</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.card-widget</span> <span class="selector-class">.author-info-top</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">15px</span> auto <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">justify-content</span>: center</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.card-widget</span> <span class="selector-class">.card-info-avatar</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">position</span>: relative</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.card-widget</span><span class="selector-class">.card-info</span> <span class="selector-class">.banner-button-group</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">5px</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">display</span>: flex</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#aside-content</span> <span class="selector-class">.card-info</span> <span class="selector-class">.banner-button</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">40px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">justify-content</span>: center</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.card-widget</span><span class="selector-class">.card-info</span> <span class="selector-class">.banner-button-group</span> <span class="selector-class">.banner-button</span> &#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">20px</span> <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--zhsher-theme);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--zhsher-white);</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">3s</span> ease <span class="number">0s</span>;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.card-widget</span><span class="selector-class">.card-info</span> <span class="selector-class">.banner-button-group</span> <span class="selector-class">.banner-button</span> <span class="selector-class">.fas</span><span class="selector-class">.fa-circle-arrow-up-right</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">1.3rem</span>;</span><br><span class="line">    <span class="attribute">margin-right</span>: <span class="number">10px</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.card-widget</span><span class="selector-class">.card-info</span> <span class="selector-class">.banner-button-group</span> <span class="selector-class">.banner-button</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--zhsher-main-op-deep);</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--zhsher-white)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.card-info-avatar</span> <span class="selector-class">.avatar-img</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">display</span>: block</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.card-info-avatar</span> <span class="selector-class">.author-status-box</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="built_in">calc</span>(<span class="number">100%</span> - <span class="number">28px</span>);</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">28px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">28px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="built_in">var</span>(--style-border);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">2em</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--zhsher-card-bg);</span><br><span class="line">    <span class="attribute">transition</span>: .<span class="number">3s</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.card-info-avatar</span> <span class="selector-class">.author-status-box</span> <span class="selector-class">.author-status</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">    <span class="attribute">justify-content</span>: center;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">28px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">5px</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.card-info-avatar</span> <span class="selector-class">.author-status-box</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">105px</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.card-info-avatar</span> <span class="selector-class">.author-status-box</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.author-status</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">105px</span>;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">4px</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.card-info-avatar</span> <span class="selector-class">.author-status-box</span> <span class="selector-class">.author-status</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">    <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">    <span class="attribute">transition</span>: .<span class="number">3s</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#aside-content</span> &gt; <span class="selector-class">.card-info</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#fff</span> <span class="built_in">url</span>(<span class="string">https://img02.anheyu.com/adminuploads/1/2022/10/26/6358a07bf21fc.webp</span>) top -<span class="number">24%</span> center no-repeat;</span><br><span class="line">    <span class="attribute">position</span>: relative</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span> <span class="selector-id">#aside-content</span> &gt; <span class="selector-class">.card-info</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--zhsher-card-bg)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">992px</span>) &#123;</span><br><span class="line">    <span class="selector-id">#aside-content</span> &gt; <span class="selector-class">.card-info</span> &#123;</span><br><span class="line">        <span class="attribute">background-size</span>: <span class="number">100%</span> <span class="number">70%</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.card-widget</span> <span class="selector-class">.author-info__name</span> &#123;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">1.5em</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">4px</span> <span class="number">0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>新建<code>[BlogRoot]/source/js/social_card.js</code></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> zhsher = &#123;</span><br><span class="line">    <span class="attr">getTimeState</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> element = (<span class="keyword">new</span> <span class="title class_">Date</span>).<span class="title function_">getHours</span>(), time = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span> &lt;= element &amp;&amp; element &lt;= <span class="number">5</span> ? time = <span class="string">&quot;晚安😴&quot;</span> : <span class="number">5</span> &lt; element &amp;&amp; element &lt;= <span class="number">10</span> ? time = <span class="string">&quot;早上好👋&quot;</span> : <span class="number">10</span> &lt; element &amp;&amp; element &lt;= <span class="number">14</span> ? time = <span class="string">&quot;中午好👋&quot;</span> : <span class="number">14</span> &lt; element &amp;&amp; element &lt;= <span class="number">18</span> ? time = <span class="string">&quot;下午好👋&quot;</span> : <span class="number">18</span> &lt; element &amp;&amp; element &lt;= <span class="number">24</span> &amp;&amp; (time = <span class="string">&quot;晚上好👋&quot;</span>), time</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">sayhi</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> element = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;author-info__sayhi&quot;</span>);</span><br><span class="line">        element &amp;&amp; (element.<span class="property">innerHTML</span> = zhsher.<span class="title function_">getTimeState</span>() + <span class="string">&quot;！我是&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">zhsher.<span class="title function_">sayhi</span>();</span><br></pre></td></tr></table></figure><p>修改主题配置文件<code>_config.butterfly.yml</code>，引入css、js文件</p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">  # - &lt;link rel=&quot;stylesheet&quot; href=&quot;/xxx.css&quot;&gt;</span><br><span class="line"><span class="addition">+   - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/social_card.css&quot;&gt;</span></span><br><span class="line">  bottom:</span><br><span class="line">  # - &lt;script src=&quot;xxxx&quot;&gt;&lt;/script&gt;</span><br><span class="line"><span class="addition">+   - &lt;script data-pjax src=&quot;/js/social_card.js&quot;&gt;&lt;/script&gt; </span></span><br></pre></td></tr></table></figure><h3 id="随便逛逛（未启用仅记录）"><a href="#随便逛逛（未启用仅记录）" class="headerlink" title="随便逛逛（未启用仅记录）"></a>随便逛逛（未启用仅记录）</h3><blockquote><p>原文地址：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.zhheo.com/p/c116857c.html">Hexo的Butterfly魔改：随机网页跳转（无缝版） | 张洪Heo</a></p></blockquote><p>新建<code>[BlogRoot]/themes/butterfly/scripts/helpers/random.js</code></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">hexo.<span class="property">extend</span>.<span class="property">generator</span>.<span class="title function_">register</span>(<span class="string">&#x27;random&#x27;</span>, <span class="keyword">function</span> (<span class="params">locals</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> config = hexo.<span class="property">config</span>.<span class="property">random</span> || &#123;&#125;</span><br><span class="line">    <span class="keyword">const</span> posts = []</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> post <span class="keyword">of</span> locals.<span class="property">posts</span>.<span class="property">data</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (post.<span class="property">random</span> !== <span class="literal">false</span>) posts.<span class="title function_">push</span>(post.<span class="property">path</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">path</span>: config.<span class="property">path</span> || <span class="string">&#x27;zhheo/random.js&#x27;</span>,</span><br><span class="line">        <span class="attr">data</span>: <span class="string">`var posts=<span class="subst">$&#123;<span class="built_in">JSON</span>.stringify(posts)&#125;</span>;function toRandomPost()&#123;pjax.loadUrl(&#x27;/&#x27;+posts[Math.floor(Math.random() * posts.length)]);&#125;;`</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>没有开启pjax用下面的代码</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">hexo.<span class="property">extend</span>.<span class="property">generator</span>.<span class="title function_">register</span>(<span class="string">&#x27;random&#x27;</span>, <span class="keyword">function</span> (<span class="params">locals</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> config = hexo.<span class="property">config</span>.<span class="property">random</span> || &#123;&#125;</span><br><span class="line">    <span class="keyword">const</span> posts = []</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> post <span class="keyword">of</span> locals.<span class="property">posts</span>.<span class="property">data</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (post.<span class="property">random</span> !== <span class="literal">false</span>) posts.<span class="title function_">push</span>(post.<span class="property">path</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">path</span>: config.<span class="property">path</span> || <span class="string">&#x27;zhheo/random.js&#x27;</span>,</span><br><span class="line">        <span class="attr">data</span>: <span class="string">`var posts=<span class="subst">$&#123;<span class="built_in">JSON</span>.stringify(posts)&#125;</span>;function toRandomPost()&#123;window.open(&#x27;/&#x27;+posts[Math.floor(Math.random() * posts.length)],&quot;_self&quot;);&#125;;`</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>修改主题配置文件<code>_config.butterfly.yml</code>，引入js文件</p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">    # - &lt;link rel=&quot;stylesheet&quot; href=&quot;/xxx.css&quot;&gt;</span><br><span class="line">  bottom:</span><br><span class="line">    # - &lt;script src=&quot;xxxx&quot;&gt;&lt;/script&gt;</span><br><span class="line"><span class="addition">+   - &lt;script src=&quot;/zhheo/random.js&quot;&gt;&lt;/script&gt; </span></span><br></pre></td></tr></table></figure><p>在需要调用的位置执行<code>toRandomPost()</code>函数即可。</p><p>比如任意dom添加<code>onclick=&quot;toRandomPost()&quot;</code></p><p>例如主题配置文件<code>_config.butterfly.yml</code>导航栏中需要的位置添加，<code>宝藏博主: javascript:travelling() || fas fa-bus</code></p><h3 id="右侧悬浮按钮刷新页面（未启用仅记录）"><a href="#右侧悬浮按钮刷新页面（未启用仅记录）" class="headerlink" title="右侧悬浮按钮刷新页面（未启用仅记录）"></a>右侧悬浮按钮刷新页面（未启用仅记录）</h3><blockquote><p>借鉴控制台：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.chuckle.top/">轻笑Chuckle</a></p></blockquote><p>新建<code>[BlogRoot]/source/js/refresh.js</code></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">refreshCache</span>(<span class="params"></span>)&#123;<span class="title function_">confirm</span>(<span class="string">&quot;是否确定刷新缓存&quot;</span>)&amp;&amp;location.<span class="title function_">reload</span>(!<span class="number">0</span>)&#125;</span><br></pre></td></tr></table></figure><p>修改主题配置文件<code>_config.butterfly.yml</code>，引入css文件</p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">    # - &lt;link rel=&quot;stylesheet&quot; href=&quot;/xxx.css&quot;&gt;</span><br><span class="line"><span class="addition">+   - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/refresh.css&quot;&gt;</span></span><br></pre></td></tr></table></figure><p>修改<code>[BlogRoot]/themes/butterfly/layout/includes/rightside.pug</code></p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">mixin rightsideItem(array)</span><br><span class="line">  each item in array</span><br><span class="line">    case item</span><br><span class="line"><span class="addition">+     when &#x27;refresh&#x27;</span></span><br><span class="line"><span class="addition">+       button#refresh-cache(type=&#x27;button&#x27;,title=&#x27;刷新缓存&#x27;,onclick=&#x27;refreshCache()&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="deletion">-  - const hideArray = enable ? hide &amp;&amp; hide.split(&#x27;,&#x27;) :[&#x27;readmode&#x27;,&#x27;translate&#x27;,&#x27;darkmode&#x27;,&#x27;hideAside&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="addition">+  - const hideArray = enable ? hide &amp;&amp; hide.split(&#x27;,&#x27;) :[&#x27;readmode&#x27;,&#x27;translate&#x27;,&#x27;darkmode&#x27;,&#x27;hideAside&#x27;,&#x27;refresh&#x27;]</span></span><br></pre></td></tr></table></figure><h3 id="人潮汹涌轮播组件（未启用仅记录）"><a href="#人潮汹涌轮播组件（未启用仅记录）" class="headerlink" title="人潮汹涌轮播组件（未启用仅记录）"></a>人潮汹涌轮播组件（未启用仅记录）</h3><blockquote><p>插件地址：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.npmjs.com/package/hexo-butterfly-swiper-anzhiyu-pro">hexo-butterfly-swiper-anzhiyu-pro - npm</a></p></blockquote><p>安装</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-butterfly-swiper-anzhiyu-pro --save</span><br></pre></td></tr></table></figure><p>修改配置文件 <code>_config.yml</code>，在最下面添加</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 人潮汹涌</span></span><br><span class="line"><span class="attr">swiper:</span></span><br><span class="line"> <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># 开关</span></span><br><span class="line"> <span class="attr">randomenable:</span> <span class="literal">true</span> <span class="comment"># 人潮汹涌开关</span></span><br><span class="line"> <span class="attr">priority:</span> <span class="number">5</span> <span class="comment">#过滤器优先权</span></span><br><span class="line"> <span class="attr">enable_page:</span> <span class="string">/</span> <span class="comment"># 应用页面</span></span><br><span class="line"> <span class="attr">timemode:</span> <span class="string">date</span> <span class="comment">#date/updated</span></span><br><span class="line"> <span class="attr">layout:</span> <span class="comment"># 挂载容器类型</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">id</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">home_top</span></span><br><span class="line">  <span class="attr">index:</span> <span class="number">1</span></span><br><span class="line"> <span class="attr">category:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">前端</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">/categories/前端/</span></span><br><span class="line">    <span class="attr">shadow:</span> <span class="string">var(--anzhiyu-shadow-blue)</span></span><br><span class="line">    <span class="attr">class:</span> <span class="string">blue</span></span><br><span class="line">    <span class="attr">icon:</span> <span class="string">fas</span> <span class="string">fa-dove</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">大学</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">/categories/大学/</span></span><br><span class="line">    <span class="attr">shadow:</span> <span class="string">var(--anzhiyu-shadow-red)</span></span><br><span class="line">    <span class="attr">class:</span> <span class="string">red</span></span><br><span class="line">    <span class="attr">icon:</span> <span class="string">fas</span> <span class="string">fa-burn</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">生活</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">/categories/生活/</span></span><br><span class="line">    <span class="attr">shadow:</span> <span class="string">var(--anzhiyu-shadow-green)</span></span><br><span class="line">    <span class="attr">class:</span> <span class="string">green</span></span><br><span class="line">    <span class="attr">icon:</span> <span class="string">fas</span> <span class="string">fa-book</span></span><br><span class="line"> <span class="attr">default_descr:</span> <span class="string">再怎么看我也不知道怎么描述它的啦！</span></span><br><span class="line"> <span class="attr">swiper_css:</span> <span class="string">https://cdn.cbd.int/hexo-butterfly-swiper-anzhiyu-pro/lib/swiper.min.css</span> <span class="comment">#swiper css依赖</span></span><br><span class="line"> <span class="attr">swiper_js:</span> <span class="string">https://npm.elemecdn.com/anzhiyu-blog@1.1.6/js/swiper.min.js</span> <span class="comment">#swiper js依赖 #swiper js依赖</span></span><br><span class="line"> <span class="attr">custom_css:</span> <span class="string">https://cdn.cbd.int/hexo-butterfly-swiper-anzhiyu-pro/lib/swiperstyle.css</span> <span class="comment"># 适配主题样式补丁</span></span><br><span class="line"> <span class="attr">custom_js:</span> <span class="string">https://cdn.cbd.int/hexo-butterfly-swiper-anzhiyu-pro/lib/swiper_init.js</span> <span class="comment"># swiper初始化方法</span></span><br><span class="line"> <span class="attr">gsap_js:</span> <span class="string">https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/gsap/3.9.1/gsap.min.js</span></span><br><span class="line"> <span class="attr">people_js:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-swiper-anzhiyu-pro/lib/people.min.js</span></span><br><span class="line"> <span class="attr">categorygroup_css:</span> <span class="string">https://cdn.cbd.int/hexo-butterfly-swiper-anzhiyu-pro/lib/categoryGroup.css</span></span><br></pre></td></tr></table></figure><p>新建<code>[BlogRoot]/source/css/home_top.css</code></p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#home_top</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">1rem</span> auto <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0px</span> <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">1450px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改主题配置文件<code>_config.butterfly.yml</code>，引入css文件</p><figure class="highlight diff"><table><tr><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">    # - &lt;link rel=&quot;stylesheet&quot; href=&quot;/xxx.css&quot;&gt;</span><br><span class="line"><span class="addition">+   - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/home_top.css&quot;&gt;</span></span><br></pre></td></tr></table></figure><p>修改<code>[BlogRoot]/themes/butterfly/layout/includes/header/index.pug</code>，最后一行加</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#home_top</span></span><br></pre></td></tr></table></figure><p>使用时在文章的<code>front_matter</code>中添加<code>swiper_index</code>、<code>top_group_index</code>配置项</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">文章标题</span></span><br><span class="line"><span class="attr">date:</span> <span class="string">创建日期</span></span><br><span class="line"><span class="attr">updated:</span> <span class="string">更新日期</span></span><br><span class="line"><span class="attr">cover:</span> <span class="string">文章封面</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">文章描述</span></span><br><span class="line"><span class="attr">swiper_index:</span> <span class="number">1</span> <span class="comment">#置顶轮播图顺序，需填非负整数，数字越大越靠前</span></span><br><span class="line"><span class="attr">top_group_index:</span> <span class="number">1</span> <span class="comment">#右侧磁帖顺序，需填非负整数，数字越大越靠前</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><h2 id="八、部署至服务器"><a href="#八、部署至服务器" class="headerlink" title="八、部署至服务器"></a>八、部署至服务器</h2><blockquote><p>注意一：如果仅是玩Hexo博客，不需要浪费这个钱购买服务器，使用Github、Vercel等这类托管服务即可</p><p>注意贰：此方法已过时，因为仅是服务器部署且比较繁琐，第六小节中的自动化部署无脑简单方便更适合实际生产！</p><p>2022.05.31日，没错！我买服务器啦！！！微信里加了各种平台的运营、经销商之类，早上告我腾讯云618在搞促销，我当时在上课没回复，可能以为我没兴趣，中午转了我个红包？！”帮我完成一下考核，随便买个域名”，小张岂能是无功受禄之人？”不用了，我买个服务器给你冲KPI吧！”，废话不多说开始教学，从买服务器开始吧</p></blockquote><h3 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h3><p>域名：阿里云域名28元一年</p><p>服务器：腾讯云新用户首购45元一年，Ubuntu 轻量型 2核2G 40GB 4M带宽 300G流量 。博客轻量型足够，毕竟学生党嘛</p><p>shell工具（仁者见仁智者见智，不分好坏）：Aechoterm(首推)&#x3D;CMD+vim命令&#x3D;XShell(连接服务器)+Xftp 6(与服务器互传文件)+VScode或Notepad++(编辑服务器里的文件)</p><p>先前部署在Github上，不需要备案，但是服务器建在国内就必须做了</p><ol><li>在服务器厂商(阿里云&#x2F;腾讯云)申请ICP备案（十天左右通过审核，ICP必须备否则域名无法访问）</li><li>给域名申请SSL证书</li><li>ICP备案通过后在<a target="_blank" rel="noopener external nofollow noreferrer" href="http://www.beian.gov.cn/">全国公安机关互联网站安全管理服务平台</a>进行公安备案（公安备案看地方，原则上是强制性的，但有的地方不管，博客备非交互式的www服务，如果安装了评论则备交互式且需要面审）</li></ol><p>这部分全是提交申请也没什么好写的，参考：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.csdn.net/efew212efe/article/details/124260731">腾讯云完整建站过程</a>、<a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.csdn.net/weixin_43778559/article/details/125980018">阿里云域名SSL证书申请</a>，之后就可以部署服务器了，也可以先部署只是没ICP备案，部署好网站打不开(如果你和我一样在写教程，截图中公网IP不要暴露)</p><h3 id="安装宝塔"><a href="#安装宝塔" class="headerlink" title="安装宝塔"></a>安装宝塔</h3><p>买下服务器先重置密码</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.zhsher.cn/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA17.png" alt="Hexo博客搭建17"></p><p>打开命令行窗口连接服务器：<code>ssh root@公网IP</code>，输入密码，如果你不是CentOS，<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.bt.cn/new/download.html">宝塔面板官网</a>看一下安装指令</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.zhsher.cn/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA18.png" alt="Hexo博客搭建18"></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">yum install -y wget &amp;&amp; wget -O install.sh http://download.bt.cn/install/install_6.0.sh &amp;&amp; sh install.sh ed8484bec</span><br></pre></td></tr></table></figure><p>确认安装宝塔，输入y等待执行完即可，返回信息如下。这个窗口不要关，第五行外网地址，第七、八行是账号密码</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">success</span><br><span class="line">==================================================================</span><br><span class="line">Congratulations! Installed successfully!</span><br><span class="line">==================================================================</span><br><span class="line">外网面板地址: http://服务器ip:8888/5b50213c</span><br><span class="line">内网面板地址: http://服务器ip:8888/5b50213c</span><br><span class="line">username: mpspyztn</span><br><span class="line">password: 14871f82</span><br><span class="line">If you cannot access the panel,</span><br><span class="line">release the following panel port [8888] in the security group</span><br><span class="line">若无法访问面板，请检查防火墙/安全组是否有放行面板[8888]端口</span><br><span class="line">==================================================================</span><br><span class="line">Time consumed: 0 Minute!</span><br></pre></td></tr></table></figure><p>在防火墙为宝塔添加端口8888，阿里叫添加安全组</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.zhsher.cn/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA19.png" alt="Hexo博客搭建19"></p><p>接下来访问外网地址<code>http://服务器ip:8888/5b50213c</code>，第一次进来默认安装LNMP，为我们一键安装所需要的环境。顺便在面板设置里改下登录用户名和密码</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.zhsher.cn/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA20.png" alt="Hexo博客搭建20"></p><h3 id="方法一-Github-Action"><a href="#方法一-Github-Action" class="headerlink" title="方法一 Github Action"></a>方法一 Github Action</h3><blockquote><p>注意：原理及优化已在<strong>第六小节自动化部署</strong>中总结，方法一已过时</p><p>视频教程：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.bilibili.com/video/BV1Cb4y1773P?spm_id_from=333.1007.top_right_bar_window_history.content.click">自动部署到服务器和github page bilibili</a>。不得不多说，看了一些其它方法，卷二兔是最省事最简单无脑的教学(包括之前的教学)</p></blockquote><p>打开宝塔面板，输入自己的域名（上文域名已做好解析）</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.zhsher.cn/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA21.png" alt="Hexo博客搭建21"></p><p>新建<code>[BlogRoot]/.github/workflows/autodeploy.yml</code>，51~53行为Github用户名和邮箱，68行宝塔根目录</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 当有改动推送到master分支时，启动Action</span></span><br><span class="line"><span class="attr">name:</span> <span class="string">自动部署</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">branches:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">main</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">release:</span></span><br><span class="line">    <span class="attr">types:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">published</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">checkout:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">检查分支</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/checkout@v2</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">ref:</span> <span class="string">main</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">安装</span> <span class="string">Node</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/setup-node@v1</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">node-version:</span> <span class="string">&quot;12.x&quot;</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">安装</span> <span class="string">Hexo</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          export TZ=&#x27;Asia/Shanghai&#x27;</span></span><br><span class="line"><span class="string">          npm install hexo-cli -g</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">缓存</span> <span class="string">Hexo</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/cache@v1</span></span><br><span class="line">        <span class="attr">id:</span> <span class="string">cache</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">path:</span> <span class="string">node_modules</span></span><br><span class="line">          <span class="attr">key:</span> <span class="string">$&#123;&#123;runner.OS&#125;&#125;-$&#123;&#123;hashFiles(&#x27;**/package-lock.json&#x27;)&#125;&#125;</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">安装依赖</span></span><br><span class="line">        <span class="attr">if:</span> <span class="string">steps.cache.outputs.cache-hit</span> <span class="type">!=</span> <span class="string">&#x27;true&#x27;</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          npm install --save</span></span><br><span class="line"><span class="string">          git clone -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">生成静态文件</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          hexo clean</span></span><br><span class="line"><span class="string">          hexo generate</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">部署到github</span> <span class="string">pages</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          git config --global user.name &quot;xxxx&quot;</span></span><br><span class="line"><span class="string">          git config --global user.email &quot;xxxx@gmail.com&quot;</span></span><br><span class="line"><span class="string">          # git clone https://github.com/xxx/xxx.github.io.git .deploy_git</span></span><br><span class="line"><span class="string">          # 此处务必用HTTPS链接。SSH链接可能有权限报错的隐患</span></span><br><span class="line"><span class="string">          # =====注意.deploy_git前面有个空格=====</span></span><br><span class="line"><span class="string">          # 这行指令的目的是clone博客静态文件仓库，防止Hexo推送时覆盖整个静态文件仓库，而是只推送有更改的文件</span></span><br><span class="line"><span class="string">          # 我注释掉了是为了刷新整个仓库，也可以选择不注释掉，但是可能出现没有识别到的情况</span></span><br><span class="line"><span class="string">          hexo deploy</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">部署到云服务器</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">cross-the-world/scp-pipeline@master</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">host:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.USER_HOST</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">user:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.USER_NAME</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">pass:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.USER_PASS</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">connect_timeout:</span> <span class="string">10s</span></span><br><span class="line">          <span class="attr">local:</span> <span class="string">&#x27;./.deploy_git/*&#x27;</span></span><br><span class="line">          <span class="attr">remote:</span> <span class="string">/www/wwwroot/zhsher.cn</span></span><br></pre></td></tr></table></figure><p>在博客备份的仓库，注意是<strong>备份</strong>，不是渲染好的静态页面<code>github.io</code>仓库，添加Secrets</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.zhsher.cn/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA22.png" alt="Hexo博客搭建22"></p><p>回到博客路径下</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&quot;添加Action&quot;</span></span><br><span class="line">git push</span><br></pre></td></tr></table></figure><p>如果这里显示到自动部署，等待执行完毕后为绿色则部署成功</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.zhsher.cn/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA23.png" alt="Hexo博客搭建23"></p><h3 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h3><blockquote><p>原理：通过在服务器内创建Git仓库，利用Git钩子将文件显示在站点路径下</p><p>参考：</p><ul><li><p>首推<a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.csdn.net/qq_52350480/article/details/122688896">Hexo博客部署至服务器_</a></p></li><li><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.csdn.net/weixin_45284594/article/details/123721560">阿里云服务器使用宝塔面板进行Hexo建站</a>通过可视化宝塔配置</p></li><li><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.csdn.net/jiaweilovemingming/article/details/124067428">腾讯云 将 hexo 部署到云服务器_</a>主要通过命令窗口配置</p></li></ul><p>命令行或者宝塔面板操作都可以，这里以命令操作为例</p></blockquote><h4 id="环境搭建-服务器端配置"><a href="#环境搭建-服务器端配置" class="headerlink" title="环境搭建-服务器端配置"></a>环境搭建-服务器端配置</h4><blockquote><p>因为服务器也需要搭建环境，和我们的本地是一样的，连接服务器后操作</p></blockquote><p>服务器安装git（ubuntu系统自带git）</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum install git</span><br></pre></td></tr></table></figure><p>添加用户</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">adduser git</span><br></pre></td></tr></table></figure><p>设置<code>/etc/sudoers</code>文件权限</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">chmod</span> 740 /etc/sudoers</span><br></pre></td></tr></table></figure><p>编辑<code>/etc/sudoers</code></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vi /etc/sudoers</span><br></pre></td></tr></table></figure><p>输入 <code>i</code> 进入 insert 模式 ，找到 <code>root ALL=(ALL) ALL</code> ，在其下方加入一行 <code>git ALL=(ALL) ALL</code></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git ALL=(ALL) ALL	<span class="comment"># 按 ESC ，输入 :wq ，保存文件</span></span><br></pre></td></tr></table></figure><p>变更<code>/etc/sudoers</code>文件权限</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">chmod</span> 400 /etc/sudoers</span><br></pre></td></tr></table></figure><p>设置git账户密码</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo passwd git</span><br></pre></td></tr></table></figure><p>切换git账户，创建 <code>~/.ssh</code> 文件夹和 <code>~/.ssh/authorized_keys</code> 文件</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">su git</span><br><span class="line"><span class="built_in">mkdir</span> ~/.ssh</span><br><span class="line">vim ~/.ssh/authorized_keys</span><br></pre></td></tr></table></figure><p>输入 <code>i</code> 进入 insert 模式，将电脑本地的<code>id_rsa.pub</code>公钥复制进去(可以和Github密钥公用一个或者重新建一个)，按 <code>ESC</code> ，输入 <code>:wq</code> ，保存文件</p><p>配置权限</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">chmod</span> 600 /home/git/.ssh/authorized_keys</span><br><span class="line"><span class="built_in">chmod</span> 700 /home/git/.ssh</span><br></pre></td></tr></table></figure><p>测试，在本地电脑端连接，输入yes</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh -i ~\.ssh\私钥文件名 git@服务器ip地址或域名</span><br></pre></td></tr></table></figure><blockquote><p>以上服务器端Git已配置好，相当于在自己的服务器创建了一个Github用户及密码(root权限太高所以用git用户操作)，接下来就是新建仓库</p></blockquote><p>切换root账户</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo su root</span><br></pre></td></tr></table></figure><p>创建仓库目录，在var目录下创建repo作为Git仓库目录并添加权限</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> /var/repo		<span class="comment"># 新建文件夹</span></span><br><span class="line"><span class="built_in">chown</span> -R git:git /var/repo		<span class="comment"># 为git用户设置权限</span></span><br><span class="line"><span class="built_in">chmod</span> -R 755 /var/repo			<span class="comment"># 设置权限</span></span><br></pre></td></tr></table></figure><p>创建 hexo目录作为网站根目录</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> /www/wwwroot/hexo			<span class="comment"># 新建文件夹</span></span><br><span class="line"><span class="built_in">chown</span> -R git:git /www/wwwroot/hexo	<span class="comment"># 为git用户设置权限</span></span><br><span class="line"><span class="built_in">chmod</span> -R 755 /www/wwwroot/hexo		<span class="comment"># 设置权限</span></span><br></pre></td></tr></table></figure><p>创建git仓库</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /var/repo</span><br><span class="line">git init --bare hexo.git</span><br></pre></td></tr></table></figure><p>因为Linux系统下，Git仓库文件不会显示存在，钩子就是说把<code>hexo.git</code>这个仓库的文件内容显示在<code>/www/wwwroot/hexo</code>目录下</p><p>编辑Git钩子</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim /var/repo/hexo.git/hooks/post-receive</span><br></pre></td></tr></table></figure><p>按<code>i</code>进入编辑模式，添加下面的代码，按<code>esc</code>输入<code>:wq</code> 保存</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git --work-tree=/www/wwwroot/hexo --git-dir=/var/repo/hexo.git checkout -f</span><br></pre></td></tr></table></figure><p>更改权限</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">chown</span> -R git:git /var/repo/hexo.git/hooks/post-receive</span><br><span class="line"><span class="built_in">chmod</span> +x /var/repo/hexo.git/hooks/post-receive</span><br></pre></td></tr></table></figure><h4 id="配置宝塔"><a href="#配置宝塔" class="headerlink" title="配置宝塔"></a>配置宝塔</h4><p>宝塔面板中<code>网页-&gt;添加站点</code>。注意根目录设置！！！</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.zhsher.cn/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA24.png" alt="Hexo博客搭建24"></p><p>在域名服务商添加解析，地址为自己的服务器公网IP</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.zhsher.cn/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA25.png" alt="Hexo博客搭建25"></p><h4 id="配置本地部署"><a href="#配置本地部署" class="headerlink" title="配置本地部署"></a>配置本地部署</h4><p>修改配置文件 <code>_config.yml</code>，找到deploy，配置自己的公网ip。为了测试先注释掉Github仓库</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">    <span class="attr">repository:</span></span><br><span class="line">      <span class="comment">#github: https://github.com/xxx/xxxx.github.io.git	&lt;-注释掉</span></span><br><span class="line">      <span class="attr">tecent:</span> <span class="string">git@xxx.xx.xxx.xxx:/var/repo/hexo.git</span>		<span class="comment"># tecent随便命名</span></span><br><span class="line">    <span class="attr">branch:</span> <span class="string">main</span></span><br></pre></td></tr></table></figure><p><code>hexo clean &amp; hexo g &amp; hexo d</code>三连上去，上传成功在面板文件的<code>/www/wwwroot/hexo</code>查看</p><p>设置同时上传服务器与Github，注意格式与之前不同！我的踩坑记录：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/hexojs/hexo-deployer-git/issues/258">appear a new branch?how do I do that？ · Issue #258</a>、<a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/hexojs/hexo/discussions/4988">appear a new branch?how do I do that · Discussion #4988</a></p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">    <span class="attr">repository:</span></span><br><span class="line">      <span class="attr">github:</span> <span class="string">https://github.com/xxx/xxx.github.io.git,main</span></span><br><span class="line">      <span class="attr">tecent:</span> <span class="string">root@xxx.xx.xxx.xxx:/var/repo/hexo.git,master</span></span><br></pre></td></tr></table></figure><h3 id="SSL证书添加"><a href="#SSL证书添加" class="headerlink" title="SSL证书添加"></a>SSL证书添加</h3><p>在阿里云下载Nginx格式证书</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.zhsher.cn/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA26.png" alt="Hexo博客搭建26"></p><p>宝塔面板为网站添加证书</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.zhsher.cn/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA27.png" alt="Hexo博客搭建27"></p><h3 id="添加备案信息"><a href="#添加备案信息" class="headerlink" title="添加备案信息"></a>添加备案信息</h3><p>修改主题配置文件<code>_config.butterfly.yml</code>，将备案信息添加至页脚</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Footer Settings</span></span><br><span class="line"><span class="comment"># --------------------------------------</span></span><br><span class="line"><span class="attr">footer:</span></span><br><span class="line">  <span class="attr">owner:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">since:</span> <span class="number">2022</span></span><br><span class="line">	<span class="attr">custom_text:</span> <span class="string">&lt;div&gt;&lt;a</span> <span class="string">onclick=&quot;window.open(&#x27;https://beian.miit.gov.cn/#/Integrated/index&#x27;)&quot;</span> <span class="string">class=&quot;footer-a&quot;&gt;晋ICP备2022005322号&lt;/a&gt;&lt;/div&gt;</span></span><br><span class="line">  <span class="attr">copyright:</span> <span class="literal">true</span> <span class="comment"># Copyright of theme and framework</span></span><br></pre></td></tr></table></figure><h2 id="特别鸣谢"><a href="#特别鸣谢" class="headerlink" title="特别鸣谢"></a>特别鸣谢</h2><p>一百个Chocolate博客搭建整理以及部分魔改，他的博客里还有好多好多魔改，大家可以去参考参考，他有的都取消了，可能美化的终极就是简化吧哈哈哈(就是因为这个学长所以学的Hexo！)</p><ul><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://yangchaoyi.vip/posts/520520/">【源码开放】Hexo+Github 博客butterfly 和 matery 主题 搭建完全教程【整理】 | 超逸の博客</a></li></ul><p>你真是一个美好的人类，B站系列教程及博客，对萌新简直太友好！</p><ul><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.bilibili.com/video/BV1W34y1o7yK/?spm_id_from=333.788">使用Hexo搭建个人博客手摸手教学(17)|博客SEO优化引擎收录_哔哩哔哩_bilibili</a></li><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.juanertu.com/archives/5b20fbd0.html">Hexo 框架 (十三)：关于博客主题持续更新的问题和我的新配置方式 | 你真是一个美好的人类</a></li></ul><p>小冰老师系列教程</p><ul><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://zfe.space/categories/%E6%95%99%E7%A8%8B/">分类: 教程 | 小冰博客</a></li></ul><p>Akilarの糖果屋系列教程</p><ul><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://akilar.top/posts/f99b208/">Butterfly主题美化日记 | Akilarの糖果屋</a></li><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://akilar.top/posts/ebf20e02/">Custom Beautify | Akilarの糖果屋</a></li></ul><p>Heo哥</p><ul><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.zhheo.com/tags/Hexo/">Hexo | 张洪Heo</a></li><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://butterfly.zhheo.com/docs/#%E4%BB%8B%E7%BB%8D">人人都可以去自定义 | Butterfly主题美化教程</a></li></ul><p>Leonus</p><ul><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.leonus.cn/categories/%E5%8D%9A%E5%AE%A2%E7%9B%B8%E5%85%B3/">博客相关 | Leonus</a></li></ul><p>轻笑Chuckle</p><ul><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.chuckle.top/">轻笑Chuckle</a>控制台爬的hhh</li></ul><p>安知鱼</p><ul><li><a target="_blank" rel="noopener external nofollow noreferrer" href="http://www.anzhiy.cn/posts/sdxhu.html">butterfly 重装日记 | 安知鱼</a></li></ul><p>Ariasaka</p><ul><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://yisous.xyz/categories/Hexo%E9%AD%94%E6%94%B9/">Hexo魔改 | Ariasakaの小窝</a></li></ul><p>心流</p><ul><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://blog.panghai.top/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/">博客搭建 | 心流</a></li></ul><blockquote><p><strong>完结撒花，以上有任何看不懂的地方，可以直接评论或者滴滴我的QQ</strong></p></blockquote></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者:</span> <span class="post-copyright-info"><a href="https://zhsher.cn">张时贰</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接:</span> <span class="post-copyright-info"><a href="https://zhsher.cn/posts/41646/">https://zhsher.cn/posts/41646/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明:</span> <span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://zhsher.cn" target="_blank">张时贰</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Hexo/">Hexo</a></div><div class="post_share"><div class="social-share" data-image="/Hexo_img/top_img/hexo.webp" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://npm.elemecdn.com/butterfly-extsrc@latest/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://npm.elemecdn.com/butterfly-extsrc@latest/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/Hexo_img/config/wechat.png" target="_blank"><img class="post-qr-code-img" src="/Hexo_img/config/wechat.png" alt="wechat"></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="/Hexo_img/config/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="/Hexo_img/config/alipay.jpg" alt="alipay"></a><div class="post-qr-code-desc">alipay</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/45649/" title="3ds Max 实验六 三维图形修改器的综合应用"><img class="cover" src="/Hexo_img/top_img/3ds%E5%AE%9E%E9%AA%8C%E5%85%AD.png" onerror='onerror=null,src="/Hexo_img/config/404.jpg"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">3ds Max 实验六 三维图形修改器的综合应用</div></div></a></div><div class="next-post pull-right"><a href="/posts/8380/" title="JAVA WEB开发技术作业 JS 实现学生列表及增加、删除修改"><img class="cover" src="/Hexo_img/top_img/javaweb.png" onerror='onerror=null,src="/Hexo_img/config/404.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">JAVA WEB开发技术作业 JS 实现学生列表及增加、删除修改</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/posts/8779/" title="Hexo博客利用Github Action自动化部署"><img class="cover" src="/Hexo_img/top_img/Github%20Actions.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-08-20</div><div class="title">Hexo博客利用Github Action自动化部署</div></div></a></div><div><a href="/posts/33638/" title="Twikoo评论定时备份方案"><img class="cover" src="/Hexo_img/top_img/Twikoo%E8%AF%84%E8%AE%BA%E5%AE%9A%E6%97%B6%E5%A4%87%E4%BB%BD%E6%96%B9%E6%A1%88.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-09-27</div><div class="title">Twikoo评论定时备份方案</div></div></a></div><div><a href="/posts/12205/" title="hexo-hot-article 实时文章排行及访客地图"><img class="cover" src="/Hexo_img/top_img/Hexo%E5%8D%9A%E5%AE%A2%E5%AE%9E%E6%97%B6%E6%96%87%E7%AB%A0%E6%8E%92%E8%A1%8C%E5%8F%8A%E8%AE%BF%E5%AE%A2%E5%9C%B0%E5%9B%BE.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-12-26</div><div class="title">hexo-hot-article 实时文章排行及访客地图</div></div></a></div><div><a href="/posts/33243/" title="基于Artitalk的说说和清单功能"><img class="cover" src="/Hexo_img/top_img/Nonebot2.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-01-21</div><div class="title">基于Artitalk的说说和清单功能</div></div></a></div><div><a href="/posts/23204/" title="基于腾讯存储桶&#x2F;Lsky实现动态相册"><img class="cover" src="https://img.zhsher.cn/%E5%9F%BA%E4%BA%8E%E8%85%BE%E8%AE%AF%E5%AD%98%E5%82%A8%E6%A1%B6Lsky%E5%AE%9E%E7%8E%B0%E5%8A%A8%E6%80%81%E7%9B%B8%E5%86%8C/photo%20wall06.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-06-24</div><div class="title">基于腾讯存储桶&#x2F;Lsky实现动态相册</div></div></a></div><div><a href="/posts/980/" title="爬虫小记：那些年我们丢掉的文章"><img class="cover" src="/Hexo_img/top_img/Figure.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-12-26</div><div class="title">爬虫小记：那些年我们丢掉的文章</div></div></a></div></div></div><hr class="custom-hr"><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i> <span>评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%89%8D%E6%9C%9F%E5%87%86%E5%A4%87"><span class="toc-text">一、前期准备</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E9%85%8D%E7%BD%AE%E4%BB%93%E5%BA%93"><span class="toc-text">二、配置仓库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E6%96%B0%E5%BB%BA%E4%BB%93%E5%BA%93"><span class="toc-text">2.1 新建仓库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E5%85%B3%E8%81%94%E4%BB%93%E5%BA%93"><span class="toc-text">2.2 关联仓库</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E6%9C%AC%E5%9C%B0%E5%8D%9A%E5%AE%A2"><span class="toc-text">三、本地博客</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E5%8F%91%E5%B8%83%E5%8D%9A%E5%AE%A2%E5%88%B0%E4%BA%92%E8%81%94%E7%BD%91"><span class="toc-text">四、发布博客到互联网</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AEGithub%E4%BB%93%E5%BA%93"><span class="toc-text">配置Github仓库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%91%E5%B8%83%E6%96%87%E7%AB%A0"><span class="toc-text">发布文章</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E5%AE%89%E8%A3%85%E5%B9%B6%E9%85%8D%E7%BD%AEButterfly-%E4%B8%BB%E9%A2%98"><span class="toc-text">五、安装并配置Butterfly 主题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E6%8D%A2%E4%B8%BB%E9%A2%98"><span class="toc-text">更换主题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%87%E7%BA%A7%E5%BB%BA%E8%AE%AE"><span class="toc-text">升级建议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E4%B8%AA%E4%BA%BA%E8%B5%84%E6%96%99"><span class="toc-text">设置个人资料</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%87%E7%AD%BE%E9%A1%B5"><span class="toc-text">标签页</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E7%B1%BB%E9%A1%B5"><span class="toc-text">分类页</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%8B%E6%83%85%E8%BF%9E%E6%8E%A5"><span class="toc-text">友情连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#404"><span class="toc-text">404</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%BC%E8%88%AA%E8%8F%9C%E5%8D%95"><span class="toc-text">导航菜单</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%BC%E8%88%AA%E6%A0%8F%E8%AE%BE%E7%BD%AE"><span class="toc-text">导航栏设置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E6%A1%86%E6%A0%B7%E5%BC%8F"><span class="toc-text">代码框样式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A4%BE%E4%BA%A4%E5%9B%BE%E6%A0%87"><span class="toc-text">社交图标</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E9%A1%B5%E6%96%87%E7%AB%A0%E8%8A%82%E9%80%89-%E8%87%AA%E5%8A%A8%E8%8A%82%E9%80%89%E5%92%8C%E6%96%87%E7%AB%A0%E9%A1%B5description"><span class="toc-text">主页文章节选(自动节选和文章页description)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B6%E9%83%A8%E5%9B%BE"><span class="toc-text">顶部图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2"><span class="toc-text">文章封面</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E9%A1%B5%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE"><span class="toc-text">文章页相关配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E7%AB%A0meta%E6%98%BE%E7%A4%BA"><span class="toc-text">文章meta显示</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E7%89%88%E6%9D%83"><span class="toc-text">文章版权</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E6%89%93%E8%B5%8F"><span class="toc-text">文章打赏</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#TOC%E7%9B%AE%E5%BD%95"><span class="toc-text">TOC目录</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BA%E7%89%B9%E5%AE%9A%E6%96%87%E7%AB%A0%E9%85%8D%E7%BD%AE"><span class="toc-text">为特定文章配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3%E6%96%87%E7%AB%A0"><span class="toc-text">相关文章</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E9%94%9A%E7%82%B9"><span class="toc-text">文章锚点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E8%BF%87%E6%9C%9F%E6%8F%90%E9%86%92"><span class="toc-text">文章过期提醒</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E7%BC%96%E8%BE%91%E6%8C%89%E9%92%AE"><span class="toc-text">文章编辑按钮</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E5%88%86%E9%A1%B5%E6%8C%89%E9%92%AE"><span class="toc-text">文章分页按钮</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%B4%E5%83%8F"><span class="toc-text">头像</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E7%89%87%E6%8F%8F%E8%BF%B0"><span class="toc-text">图片描述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%8D%E5%88%B6%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE"><span class="toc-text">复制相关配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Footer%E8%AE%BE%E7%BD%AE"><span class="toc-text">Footer设置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%9A%E5%AE%A2%E5%B9%B4%E4%BB%BD"><span class="toc-text">博客年份</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%B5%E8%84%9A%E8%87%AA%E5%AE%9A%E4%B9%89%E8%84%9A%E6%9C%AC-%E5%A4%87%E6%A1%88%E4%BF%A1%E6%81%AF"><span class="toc-text">页脚自定义脚本(备案信息)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%B3%E4%B8%8B%E8%A7%92%E6%8C%89%E9%92%AE"><span class="toc-text">右下角按钮</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%80%E7%B9%81%E8%BD%AC%E6%8D%A2"><span class="toc-text">简繁转换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9C%E9%97%B4%E6%A8%A1%E5%BC%8F"><span class="toc-text">夜间模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%98%85%E8%AF%BB%E6%A8%A1%E5%BC%8F"><span class="toc-text">阅读模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%BB%9A%E5%8A%A8%E7%8A%B6%E6%80%81%E7%99%BE%E5%88%86%E6%AF%94"><span class="toc-text">滚动状态百分比</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%89%E9%92%AE%E6%8E%92%E5%BA%8F"><span class="toc-text">按钮排序</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%A7%E8%BE%B9%E6%A0%8F%E8%AE%BE%E7%BD%AE"><span class="toc-text">侧边栏设置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BE%A7%E8%BE%B9%E6%8E%92%E7%89%88"><span class="toc-text">侧边排版</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E4%BA%BA%E6%95%B0%E7%BB%9F%E8%AE%A1"><span class="toc-text">访问人数统计</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E6%97%B6%E9%97%B4"><span class="toc-text">运行时间</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%80%E6%96%B0%E8%AF%84%E8%AE%BA"><span class="toc-text">最新评论</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%B7%BB%E5%8A%A0%E6%A0%8F%E7%9B%AE"><span class="toc-text">自定义添加栏目</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%87%E7%AD%BE%E5%A4%96%E6%8C%82"><span class="toc-text">标签外挂</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%84%E8%AE%BA"><span class="toc-text">评论</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%AF%BC%E5%87%BA"><span class="toc-text">数据导出</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%A4%87%E4%BB%BD"><span class="toc-text">数据备份</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9C%A8%E7%BA%BF%E8%81%8A%E5%A4%A9"><span class="toc-text">在线聊天</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E4%BA%AB"><span class="toc-text">分享</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%AC%E5%9C%B0%E6%90%9C%E7%B4%A2"><span class="toc-text">本地搜索</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B9%BF%E5%91%8A"><span class="toc-text">广告</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E5%AD%A6"><span class="toc-text">数学</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BE%8E%E5%8C%96"><span class="toc-text">美化</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E4%B8%BB%E9%A2%98%E8%89%B2"><span class="toc-text">自定义主题色</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E7%AB%99%E8%83%8C%E6%99%AF"><span class="toc-text">网站背景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#footer%E8%83%8C%E6%99%AF"><span class="toc-text">footer背景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%93%E5%AD%97%E6%95%88%E6%9E%9C"><span class="toc-text">打字效果</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%83%8C%E6%99%AF%E7%89%B9%E6%95%88"><span class="toc-text">背景特效</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E6%95%88%E6%9E%9C"><span class="toc-text">鼠标点击效果</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2%E7%BE%8E%E5%8C%96"><span class="toc-text">页面美化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AD%97%E4%BD%93%E5%92%8C%E5%AD%97%E4%BD%93%E5%A4%A7%E5%B0%8F-%E6%9C%AA%E8%AE%BE%E7%BD%AE"><span class="toc-text">自定义字体和字体大小(未设置)</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E5%AD%97%E4%BD%93"><span class="toc-text">全局字体</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#blog%E6%A0%87%E9%A2%98%E5%AD%97%E4%BD%93"><span class="toc-text">blog标题字体</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BD%91%E7%AB%99%E5%89%AF%E6%A0%87%E9%A2%98"><span class="toc-text">网站副标题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BB%E9%A1%B5top-img%E5%A4%A7%E5%B0%8F"><span class="toc-text">主页top_img大小</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2%E5%8A%A0%E8%BD%BD%E5%8A%A8%E7%94%BBpreloader"><span class="toc-text">页面加载动画preloader</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PWA-%E6%9C%AA%E9%85%8D%E7%BD%AE"><span class="toc-text">PWA(未配置)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E6%95%B0%E7%BB%9F%E8%AE%A1"><span class="toc-text">字数统计</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E7%89%87%E5%A4%A7%E5%9B%BE%E6%9F%A5%E7%9C%8B"><span class="toc-text">图片大图查看</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Snackbar%E5%BC%B9%E7%AA%97"><span class="toc-text">Snackbar弹窗</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E5%AE%83%E9%85%8D%E7%BD%AE"><span class="toc-text">其它配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#CSS%E5%89%8D%E7%BC%80"><span class="toc-text">CSS前缀</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Open-Graph"><span class="toc-text">Open Graph</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Instantpage"><span class="toc-text">Instantpage</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Pangu"><span class="toc-text">Pangu</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Pjax"><span class="toc-text">Pjax</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Inject%E8%87%AA%E5%AE%9A%E4%B9%89CSS-JS"><span class="toc-text">Inject自定义CSS JS</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9F%B3%E4%B9%90"><span class="toc-text">音乐</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%B5%E5%BD%B1"><span class="toc-text">电影</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%B4%E8%AF%B4"><span class="toc-text">说说</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E5%90%B8%E5%BA%95%E6%92%AD%E6%94%BE%E5%99%A8"><span class="toc-text">全局吸底播放器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#icon%E7%9F%A2%E9%87%8F%E5%9B%BE%E6%A0%87"><span class="toc-text">icon矢量图标</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E5%AE%83%E9%85%8D%E7%BD%AE-1"><span class="toc-text">其它配置</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E4%BC%98%E5%8C%96"><span class="toc-text">六、优化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%9A%E5%AE%A2%E5%A4%87%E4%BB%BD-%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6"><span class="toc-text">博客备份(版本控制)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2"><span class="toc-text">自动化部署</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%80%E5%8C%96%E5%91%BD%E4%BB%A4"><span class="toc-text">简化命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#gulp%E5%8E%8B%E7%BC%A9"><span class="toc-text">gulp压缩</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E7%89%87%E5%8E%8B%E7%BC%A9"><span class="toc-text">图片压缩</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%90%9C%E7%B4%A2"><span class="toc-text">搜索</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%9A%E5%AE%A2%E5%8D%87%E7%BA%A7"><span class="toc-text">博客升级</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9A%90%E8%97%8F%E6%96%87%E7%AB%A0"><span class="toc-text">隐藏文章</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%B3%E8%BF%87%E6%B8%B2%E6%9F%93"><span class="toc-text">跳过渲染</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#RSS%E8%AE%A2%E9%98%85"><span class="toc-text">RSS订阅</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%90"><span class="toc-text">域名解析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SEO%E6%94%B6%E5%BD%95%E5%8F%8A%E4%BC%98%E5%8C%96"><span class="toc-text">SEO收录及优化</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E7%AB%99%E7%82%B9%E5%9C%B0%E5%9B%BE"><span class="toc-text">安装站点地图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%99%BE%E5%BA%A6%E6%94%B6%E5%BD%95"><span class="toc-text">百度收录</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%BB%E5%8A%A8%E6%8E%A8%E9%80%81%EF%BC%88%E5%B7%B2%E5%BC%83%E7%94%A8%EF%BC%89"><span class="toc-text">主动推送（已弃用）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#sitemap"><span class="toc-text">sitemap</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B0%B7%E6%AD%8C%E6%94%B6%E5%BD%95"><span class="toc-text">谷歌收录</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Bing%E6%94%B6%E5%BD%95"><span class="toc-text">Bing收录</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#URL%E6%8C%81%E4%B9%85%E5%8C%96"><span class="toc-text">URL持久化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0nofollow%E6%A0%87%E7%AD%BE"><span class="toc-text">添加nofollow标签</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E5%AE%B6%E4%B8%BB%E5%8A%A8%E6%8E%A8%E9%80%81"><span class="toc-text">三家主动推送</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CDN%E5%8A%A0%E9%80%9F"><span class="toc-text">CDN加速</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AB%99%E5%86%85%E8%B5%84%E6%BA%90CDN"><span class="toc-text">站内资源CDN</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%AB%99%E7%9B%91%E6%8E%A7"><span class="toc-text">网站监控</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Hexo%E5%BC%82%E6%AD%A5%E5%8A%A0%E8%BD%BD%E6%96%B9%E6%A1%88"><span class="toc-text">Hexo异步加载方案</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Pjax%E9%80%82%E9%85%8D"><span class="toc-text">Pjax适配</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83%E3%80%81%E9%AD%94%E6%94%B9"><span class="toc-text">七、魔改</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%92%E5%85%A5%E4%BB%A3%E7%A0%81%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A0%B7%E5%BC%8F-%E9%BC%A0%E6%A0%87%E6%88%96footer-%E5%8F%8A%E5%A4%87%E6%A1%88%E4%BF%A1%E6%81%AF%E5%AE%9E%E7%8E%B0"><span class="toc-text">插入代码自定义样式(鼠标或footer)及备案信息实现</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#twikoo%E7%BE%8E%E5%8C%96"><span class="toc-text">twikoo美化</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#twikoo%E8%BE%93%E5%85%A5%E6%8F%90%E9%86%92"><span class="toc-text">twikoo输入提醒</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#twikoo%E8%AF%84%E8%AE%BA%E7%BE%8E%E5%8C%96"><span class="toc-text">twikoo评论美化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Twikoo%E5%9B%9E%E5%A4%8D%E9%82%AE%E4%BB%B6%E6%A8%A1%E6%9D%BF"><span class="toc-text">Twikoo回复邮件模板</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%95%E9%83%A8%E5%BE%BD%E6%A0%87%E7%BE%8E%E5%8C%96"><span class="toc-text">底部徽标美化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E5%9B%BE%E6%B5%81"><span class="toc-text">一图流</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9C%E9%97%B4%E6%A8%A1%E5%BC%8F%E7%B9%81%E6%98%9F"><span class="toc-text">夜间模式繁星</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%8B%E9%93%BE%E7%94%B3%E8%AF%B7%E6%8C%89%E9%92%AE"><span class="toc-text">友链申请按钮</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E5%8F%B0%E5%BD%A9%E8%9B%8B"><span class="toc-text">控制台彩蛋</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E6%80%81title"><span class="toc-text">动态title</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%BC%A0%E6%A0%87%E6%A0%B7%E5%BC%8F"><span class="toc-text">鼠标样式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E7%AB%99%E5%8F%98%E7%81%B0"><span class="toc-text">全站变灰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%BB%91%E5%B9%95"><span class="toc-text">黑幕</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BF%E5%AE%A2%E7%BB%9F%E8%AE%A1%E4%B8%8E%E4%BF%A1%E6%81%AF"><span class="toc-text">访客统计与信息</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BF%E9%97%AE%E7%BB%9F%E8%AE%A1%E4%BE%A7%E8%BE%B9%E6%A0%8F"><span class="toc-text">访问统计侧边栏</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BF%E5%AE%A2%E4%BF%A1%E6%81%AF"><span class="toc-text">访客信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BF%E5%AE%A2%E7%BB%9F%E8%AE%A1-%E8%AE%BF%E5%AE%A2%E4%BF%A1%E6%81%AF%E5%90%88%E5%B9%B6%E7%89%88"><span class="toc-text">访客统计&amp;访客信息合并版</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B6%E9%83%A8%E5%8D%A1%E7%89%87"><span class="toc-text">顶部卡片</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E7%9B%AE%E5%BD%95"><span class="toc-text">文章目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Github-%E8%B4%A1%E7%8C%AE%E6%97%A5%E5%8E%86"><span class="toc-text">Github 贡献日历</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E5%8F%8C%E6%A0%8F%E5%B8%83%E5%B1%80"><span class="toc-text">文章双栏布局</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%B6%E9%92%9F%EF%BC%88%E5%B7%B2%E7%A7%BB%E9%99%A4%EF%BC%89"><span class="toc-text">时钟（已移除）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#hexo-magnet"><span class="toc-text">hexo-magnet</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E8%BD%AE%E6%92%AD%E7%BD%AE%E9%A1%B6"><span class="toc-text">文章轮播置顶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Wowjs"><span class="toc-text">Wowjs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E5%AF%86%E7%A0%81"><span class="toc-text">文章密码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%86%E9%A2%91"><span class="toc-text">视频</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#footer%E5%BA%95%E9%83%A8-%E8%B7%B3%E5%8A%A8%E7%9A%84%E5%BF%83"><span class="toc-text">footer底部 跳动的心</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%8B%E5%8F%8B%E5%9C%88"><span class="toc-text">朋友圈</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%BC%A0%E6%A0%87%E5%8F%B3%E5%87%BB%E7%BE%8E%E5%8C%96"><span class="toc-text">鼠标右击美化</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9PUG"><span class="toc-text">修改PUG</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CSS"><span class="toc-text">CSS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#iconfont%E5%9B%BE%E6%A0%87"><span class="toc-text">iconfont图标</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#JS"><span class="toc-text">JS</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%82%AC%E6%B5%AE%E4%BC%B8%E7%BC%A9%E4%BE%A7%E8%BE%B9%E6%A0%8F"><span class="toc-text">悬浮伸缩侧边栏</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%B3%E5%88%BB%E7%9F%AD%E6%96%87-Memos"><span class="toc-text">即刻短文 Memos</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B4%E8%AF%B4%E5%8A%9F%E8%83%BD"><span class="toc-text">说说功能</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A6%96%E9%A1%B5%E8%BD%AE%E6%92%AD"><span class="toc-text">首页轮播</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B8%85%E5%8D%95%E5%8A%9F%E8%83%BD"><span class="toc-text">清单功能</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Heo%E5%90%8C%E6%AC%BEloading%E5%8A%A8%E7%94%BB"><span class="toc-text">Heo同款loading动画</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%BC%E8%88%AA%E6%A0%8F"><span class="toc-text">导航栏</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A4%BE%E4%BA%A4%E5%8D%A1%E7%89%87"><span class="toc-text">社交卡片</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9A%8F%E4%BE%BF%E9%80%9B%E9%80%9B%EF%BC%88%E6%9C%AA%E5%90%AF%E7%94%A8%E4%BB%85%E8%AE%B0%E5%BD%95%EF%BC%89"><span class="toc-text">随便逛逛（未启用仅记录）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%B3%E4%BE%A7%E6%82%AC%E6%B5%AE%E6%8C%89%E9%92%AE%E5%88%B7%E6%96%B0%E9%A1%B5%E9%9D%A2%EF%BC%88%E6%9C%AA%E5%90%AF%E7%94%A8%E4%BB%85%E8%AE%B0%E5%BD%95%EF%BC%89"><span class="toc-text">右侧悬浮按钮刷新页面（未启用仅记录）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%BA%E6%BD%AE%E6%B1%B9%E6%B6%8C%E8%BD%AE%E6%92%AD%E7%BB%84%E4%BB%B6%EF%BC%88%E6%9C%AA%E5%90%AF%E7%94%A8%E4%BB%85%E8%AE%B0%E5%BD%95%EF%BC%89"><span class="toc-text">人潮汹涌轮播组件（未启用仅记录）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AB%E3%80%81%E9%83%A8%E7%BD%B2%E8%87%B3%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-text">八、部署至服务器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%86%E5%A4%87"><span class="toc-text">准备</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E5%AE%9D%E5%A1%94"><span class="toc-text">安装宝塔</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80-Github-Action"><span class="toc-text">方法一 Github Action</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C"><span class="toc-text">方法二</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA-%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E9%85%8D%E7%BD%AE"><span class="toc-text">环境搭建-服务器端配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E5%AE%9D%E5%A1%94"><span class="toc-text">配置宝塔</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%9C%AC%E5%9C%B0%E9%83%A8%E7%BD%B2"><span class="toc-text">配置本地部署</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SSL%E8%AF%81%E4%B9%A6%E6%B7%BB%E5%8A%A0"><span class="toc-text">SSL证书添加</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E5%A4%87%E6%A1%88%E4%BF%A1%E6%81%AF"><span class="toc-text">添加备案信息</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%B9%E5%88%AB%E9%B8%A3%E8%B0%A2"><span class="toc-text">特别鸣谢</span></a></li></ol></div></div></div></div></main><footer id="footer" style="background-image:url('/Hexo_img/top_img/hexo.webp')"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2023<i id="heartbeat" class="fa fas fa-heartbeat"></i> 张时贰</div><div class="footer_custom_text"><div>满地都是六便士 我想抬头看月亮</div><p><a href="https://www.foreverblog.cn/" rel="external nofollow noreferrer" target="_blank"><img src="https://img.foreverblog.cn/logo_en_default.png" alt="" style="width:auto;height:16px"></a><a href="https://www.foreverblog.cn/go.html" rel="external nofollow noreferrer" target="_blank"><img src="https://img.foreverblog.cn/wormhole_3_tp.gif" alt="" style="width:auto;height:32px" title="穿梭虫洞-随机访问十年之约友链博客"></a></p><p><a style="margin-inline:5px" target="_blank" href="https://beian.miit.gov.cn/#/Integrated/index/" rel="external nofollow noreferrer"><img src="/Hexo_img/config/徽标01晋ICP备-2022005322号--2-e1d492.svg" title="ICP备案"></a><a style="margin-inline:5px" target="_blank" href="https://hexo.io/" rel="external nofollow noreferrer"><img src="/Hexo_img/config/徽标02Frame-Hexo-blue.svg" title="博客框架为Hexo"></a><a style="margin-inline:5px" target="_blank" href="https://butterfly.js.org/" rel="external nofollow noreferrer"><img src="/Hexo_img/config/徽标03Theme-Butterfly-6513df.svg" title="主题采用butterfly"></a><a style="margin-inline:5px" target="_blank" href="https://cloud.tencent.com/" rel="external nofollow noreferrer"><img src="/Hexo_img/config/徽标04Hosted-腾讯云-0cedbe.svg" title="本站采用双线部署，国内线路托管于腾讯云"></a><a style="margin-inline:5px" target="_blank" href="https://github.com/" rel="external nofollow noreferrer"><img src="/Hexo_img/config/徽标05Source-Github-d021d6.svg" title="本站采用双线部署，国外线路托管于Github"></a><a style="margin-inline:5px" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer"><img src="/Hexo_img/config/徽标06Copyright-BY--NC--SA 4.svg" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"></a><a style="margin-inline:5px" target="_blank" href="https://www.zhsher.cn/" rel="external nofollow noreferrer"><img src="/Hexo_img/config/徽标07CDN-腾讯云-blue.svg" title="本站加速站点www.zhsher.cn，使用腾讯云为静态资源提供CDN加速"></a></p></div></div><head><link rel="stylesheet" href="https://jsd.onmicrosoft.cn/gh/HCLonely/images@master/others/heartbeat.min.css"></head></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://jsd.onmicrosoft.cn/npm/hexo-theme-butterfly/source/js/tw_cn.min.js"></script><script src="https://jsd.onmicrosoft.cn/npm/@fancyapps/ui@latest/dist/fancybox/fancybox.umd.min.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/instant.page/5.1.0/instantpage.min.js" type="module"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/vanilla-lazyload/17.3.1/lazyload.iife.min.js"></script><script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/node-snackbar/0.1.16/snackbar.min.js"></script><script>function panguFn(){"object"==typeof pangu?pangu.autoSpacingPage():getScript("https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/pangu/4.0.7/pangu.min.js").then((()=>{pangu.autoSpacingPage()}))}function panguInit(){panguFn()}document.addEventListener("DOMContentLoaded",panguInit)</script><div class="js-pjax"><script>(()=>{const e=document.querySelectorAll("#article-container .mermaid-wrap");if(0===e.length)return;const t=()=>{window.loadMermaid=!0;const t="dark"===document.documentElement.getAttribute("data-theme")?"dark":"default";Array.from(e).forEach(((e,n)=>{const d=e.firstElementChild,r="mermaid-"+n,a="%%{init:{ 'theme':'"+t+"'}}%%\n"+d.textContent,i=mermaid.render(r,a);var m;"string"==typeof i?(m=i,d.insertAdjacentHTML("afterend",m)):i.then((({svg:e})=>{d.insertAdjacentHTML("afterend",e)}))}))},n=()=>{window.loadMermaid?t():getScript("https://lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/mermaid/8.14.0/mermaid.min.js").then(t)};btf.addModeChange("mermaid",t),window.pjax?n():document.addEventListener("DOMContentLoaded",n)})()</script><script>(()=>{const t=()=>{twikoo.init(Object.assign({el:"#twikoo-wrap",envId:"https://twikoo.zhsher.cn/",region:"",onCommentLoaded:function(){btf.loadLightbox(document.querySelectorAll("#twikoo .tk-content img:not(.tk-owo-emotion)"))}},null)),GLOBAL_CONFIG_SITE.isPost&&(()=>{const t=document.getElementById("twikoo-count");t&&twikoo.getCommentsCount({envId:"https://twikoo.zhsher.cn/",region:"",urls:[window.location.pathname],includeReply:!1}).then((function(o){t.textContent=o[0].count})).catch((function(t){console.error(t)}))})()},o=()=>{"object"!=typeof twikoo?getScript("https://jsd.onmicrosoft.cn/npm/twikoo/dist/twikoo.all.min.js").then(t):setTimeout(t,0)};btf.loadComment(document.getElementById("twikoo-wrap"),o)})()</script></div><script>window.addEventListener("load",(()=>{const e=e=>{let t="";if(e.length)for(let n=0;n<e.length;n++)t+="<div class='aside-list-item'>",t+=`<div class='content'>\n        <a class='comment' href='${e[n].url}' title='${e[n].content}'>${e[n].content}</a>\n        <div class='name'><span>${e[n].nick} / </span><time datetime="${e[n].date}">${btf.diffDate(e[n].date,!0)}</time></div>\n        </div></div>`;else t+="没有评论";let n=document.querySelector("#card-newest-comments .aside-list");n.innerHTML=t,window.lazyLoadInstance&&window.lazyLoadInstance.update(),window.pjax&&window.pjax.refresh(n)},t=()=>{if(document.querySelector("#card-newest-comments .aside-list")){const t=saveToLocal.get("twikoo-newest-comments");t?e(JSON.parse(t)):(()=>{const t=()=>{twikoo.getRecentComments({envId:"https://twikoo.zhsher.cn/",region:"",pageSize:6,includeReply:!0}).then((function(t){const n=t.map((e=>{return{content:(t=e.comment,""===t||(t=(t=(t=(t=t.replace(/<img.*?src="(.*?)"?[^\>]+>/gi,"[图片]")).replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi,"[链接]")).replace(/<pre><code>.*?<\/pre>/gi,"[代码]")).replace(/<[^>]+>/g,"")).length>150&&(t=t.substring(0,150)+"..."),t),avatar:e.avatar,nick:e.nick,url:e.url+"#"+e.id,date:new Date(e.created).toISOString()};var t}));saveToLocal.set("twikoo-newest-comments",JSON.stringify(n),10/1440),e(n)})).catch((function(e){document.querySelector("#card-newest-comments .aside-list").textContent="无法获取评论，请确认相关配置是否正确"}))};"object"==typeof twikoo?t():getScript("https://jsd.onmicrosoft.cn/npm/twikoo/dist/twikoo.all.min.js").then(t)})()}};t(),document.addEventListener("pjax:complete",t)}))</script><canvas id="universe"></canvas><script defer src="https://jsd.onmicrosoft.cn/npm/jquery@latest/dist/jquery.min.js"></script><script>var meting_api="https://api.injahow.cn/meting/?server=:server&type=:type&id=:id&auth=:auth&r=:r"</script><script defer src="https://jsd.onmicrosoft.cn/npm/zhsher-static@1.0.13/blog/js/zhsher.min.js"></script><script async data-pjax src="https://jsd.onmicrosoft.cn/npm/zhsher-static@1.0.12/blog/js/zhsherfunction.min.js"></script><script id="canvas_nest" defer color="0,0,255" opacity="0.7" zindex="-1" count="99" mobile="false" src="https://unpkg.com/butterfly-extsrc/dist/canvas-nest.min.js"></script><script src="https://npm.elemecdn.com/butterfly-extsrc@latest/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful=!0,POWERMODE.shake=!1,POWERMODE.mobile=!1,document.body.addEventListener("input",POWERMODE)</script><script id="click-show-text" src="https://npm.elemecdn.com/butterfly-extsrc@latest/dist/click-show-text.min.js" data-mobile="false" data-text="鬼,才,小,张,同,学" data-fontsize="15px" data-random="false" async></script><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.css" media="print" onload='this.media="all"'><script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.js"></script><script src="https://jsd.onmicrosoft.cn/npm/js-heo@1.0.12/metingjs/Meting.min.js"></script><script src="https://npm.elemecdn.com/pjax@latest/pjax.min.js"></script><script>let pjaxSelectors=["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"];var pjax=new Pjax({elements:'a:not([target="_blank"]):not([href="/posts/36731/"]):not([href="/talk/"]):not([href="/fcircle/"])',selectors:pjaxSelectors,cacheBust:!1,analytics:!1,scrollRestoration:!1});document.addEventListener("pjax:send",(function(){if(window.tocScrollFn&&window.removeEventListener("scroll",window.tocScrollFn),window.scrollCollect&&window.removeEventListener("scroll",scrollCollect),document.getElementById("rightside").style.cssText="opacity: ''; transform: ''",window.aplayers)for(let e=0;e<window.aplayers.length;e++)window.aplayers[e].options.fixed||window.aplayers[e].destroy();"object"==typeof typed&&typed.destroy();const e=document.body.classList;e.contains("read-mode")&&e.remove("read-mode"),"object"==typeof disqusjs&&disqusjs.destroy()})),document.addEventListener("pjax:complete",(function(){window.refreshFn(),document.querySelectorAll("script[data-pjax]").forEach((e=>{const t=document.createElement("script"),o=e.text||e.textContent||e.innerHTML||"";Array.from(e.attributes).forEach((e=>t.setAttribute(e.name,e.value))),t.appendChild(document.createTextNode(o)),e.parentNode.replaceChild(t,e)})),GLOBAL_CONFIG.islazyload&&window.lazyLoadInstance.update(),"function"==typeof panguInit&&panguInit(),"function"==typeof gtag&&gtag("config","",{page_path:window.location.pathname}),"object"==typeof _hmt&&_hmt.push(["_trackPageview",window.location.pathname]),"function"==typeof loadMeting&&document.getElementsByClassName("aplayer").length&&loadMeting(),"object"==typeof Prism&&Prism.highlightAll()})),document.addEventListener("pjax:error",(e=>{404===e.request.status&&pjax.loadUrl("/404.html")}))</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div><script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/algoliasearch/4.12.1/algoliasearch-lite.umd.min.js"></script><script src="https://jsd.onmicrosoft.cn/npm/instantsearch.js@latest/dist/instantsearch.production.min.js"></script><script src="https://npm.elemecdn.com/anzhiyu-blog@2.1.5/js/search/algolia.js"></script></div></div><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div><script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/algoliasearch/4.12.1/algoliasearch-lite.umd.min.js"></script><script src="https://jsd.onmicrosoft.cn/npm/instantsearch.js@latest/dist/instantsearch.production.min.js"></script><script src="https://npm.elemecdn.com/anzhiyu-blog@2.1.5/js/search/algolia.js"></script></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><a class="rightMenu-item" href="javascript:window.history.back();" rel="external nofollow noreferrer"><i class="fa fa-arrow-left"></i></a><a class="rightMenu-item" href="javascript:window.history.forward();" rel="external nofollow noreferrer"><i class="fa fa-arrow-right"></i></a><a class="rightMenu-item" href="javascript:window.location.reload();" rel="external nofollow noreferrer"><i class="fa fa-refresh"></i></a><a class="rightMenu-item" href="javascript:rmf.scrollToTop();" rel="external nofollow noreferrer"><i class="fa fa-arrow-up"></i></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-text"><a class="rightMenu-item" href="javascript:rmf.copySelect();" rel="external nofollow noreferrer"><i class="fa fa-copy"></i><span>复制</span></a><a class="rightMenu-item" href="javascript:window.open(&quot;https://www.baidu.com/s?wd=&quot;+window.getSelection().toString());window.location.reload();" rel="external nofollow noreferrer"><i class="fa-solid fa-magnifying-glass"></i><span>百度搜索</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-too"><a class="rightMenu-item" href="javascript:window.open(window.getSelection().toString());window.location.reload();" rel="external nofollow noreferrer"><i class="fa fa-link"></i><span>转到链接</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-paste"><a class="rightMenu-item" href="javascript:rmf.paste()" rel="external nofollow noreferrer"><i class="fa fa-copy"></i><span>粘贴</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-post"><a class="rightMenu-item" href="#post-comment"><i class="fas fa-comment"></i><span>空降评论</span></a><a class="rightMenu-item" href="javascript:rmf.copyWordsLink()" rel="external nofollow noreferrer"><i class="fa fa-link"></i><span>复制本文地址</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-to"><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()" rel="external nofollow noreferrer"><i class="fa fa-window-restore"></i><span>新窗口打开</span></a><a class="rightMenu-item" id="menu-too" href="javascript:rmf.open()" rel="external nofollow noreferrer"><i class="fa fa-link"></i><span>转到链接</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()" rel="external nofollow noreferrer"><i class="fa fa-copy"></i><span>复制链接</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-img"><a class="rightMenu-item" href="./#post-comment"><i class="fa fa-download"></i><span>保存图片</span></a><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()" rel="external nofollow noreferrer"><i class="fa fa-window-restore"></i><span>在新窗口打开</span></a><a class="rightMenu-item" href="javascript:rmf.click()" rel="external nofollow noreferrer"><i class="fa fa-arrows-alt"></i><span>全屏显示</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()" rel="external nofollow noreferrer"><i class="fa fa-copy"></i><span>复制图片链接</span></a></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item" href="javascript:rmf.switchDarkMode();" rel="external nofollow noreferrer"><i class="fa fa-moon"></i><span>昼夜切换</span></a><a class="rightMenu-item" href="javascript:rmf.translate();" rel="external nofollow noreferrer"><i class="fas fa-language"></i><span>繁简转换</span></a><a class="rightMenu-item" href="javascript:rmf.switchReadMode();" rel="external nofollow noreferrer"><i class="fa fa-book"></i><span>阅读模式</span></a><a class="rightMenu-item" href="javascript:window.location.href=&quot;/about/&quot;;" rel="external nofollow noreferrer"><i class="fa fa-info-circle"></i><span>关于小张</span></a></div></div><div class="contact-info"><div class="option"><i class="fas fa-rocket"></i><div class="bloktop"></div><div class="text"><div class="strip"></div><div class="aside_notice">鉴于评论非即时聊天、问题描述不清晰，可以加我并附上你的问题截图。🐧：1310446718，VX：GC_XiaoZhang（无偿，不要怕社恐小张也紧张！也不需要客气就当好朋友聊天就可以啦！）<br>糖果屋交流群：589330978<br>小N姐姐公益群：641126318</div></div></div><div class="option"><i class="fas fa-cube"></i><div class="blok"></div><div class="text"><div class="strip"></div><div class="post-reward"><div class="reward-button"><i class="fa-solid fa-bolt"></i></div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/Hexo_img/config/wechat.png" target="_blank"><img class="post-qr-code-img entered loaded" src="/Hexo_img/config/wechat.png" alt="微信"></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/Hexo_img/config/alipay.jpg" target="_blank"><img class="post-qr-code-img entered loaded" src="/Hexo_img/config/alipay.jpg" alt="支付宝"></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div></div></div><div class="option"><i class="fas fa-music"></i><div class="blokbottom"></div><div class="text aplayertext"><div class="strip"></div><div class="aplayer no-destroy" mutex="true" listfolded="true" data-id="7041302176" data-preload="none" data-server="netease" data-volume="0.25" data-order="random" data-type="playlist" data-fixed="true" data-autoplay="false"></div></div></div></div><script data-pjax>if(document.getElementById("recent-posts")&&"/"===location.pathname){var parent=document.getElementById("recent-posts"),child='<div class="recent-post-item" style="width:100%;height: auto"><div id="catalog_magnet"><div class="magnet_item"><a class="magnet_link" href="https://zhsher.cn/categories/小张列传/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">📚 小张列传 (8)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://zhsher.cn/categories/Hexo/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">👩‍💻 博客长征史 (7)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><a class="magnet_link_more"  href="https://zhsher.cn/categories" style="flex:1;text-align: center;margin-bottom: 10px;">查看更多...</a></div></div>';console.log("已挂载magnet"),parent.insertAdjacentHTML("afterbegin",child)}</script><style>#catalog_magnet{flex-wrap:wrap;display:flex;width:100%;justify-content:space-between;padding:10px 10px 0 10px;align-content:flex-start}.magnet_item{flex-basis:calc(50% - 5px);background:#f2f2f2;margin-bottom:10px;border-radius:8px;transition:all .2s ease-in-out}.magnet_item:hover{background:#b30070}.magnet_link_more{color:#555}.magnet_link{color:#000}.magnet_link:hover{color:#fff}@media screen and (max-width:600px){.magnet_item{flex-basis:100%}}.magnet_link_context{display:flex;padding:10px;font-size:16px;transition:all .2s ease-in-out}.magnet_link_context:hover{padding:10px 20px}</style><style></style><script data-pjax>function butterfly_swiper_injector_config(){var l=document.getElementById("recent-posts");console.log("已挂载butterfly_swiper"),l.insertAdjacentHTML("afterbegin",'<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/41646/&quot;);" href="javascript:void(0);" rel="external nofollow noreferrer" alt=""><img width="48" height="48" src="Hexo_img/top_img/hexo.webp" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-05-01</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/41646/&quot;);" href="javascript:void(0);" rel="external nofollow noreferrer" alt="">Hexo博客搭建</a><div class="blog-slider__text">手摸手教你搭建Hexo博客</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/41646/&quot;);" href="javascript:void(0);" rel="external nofollow noreferrer" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/12205/&quot;);" href="javascript:void(0);" rel="external nofollow noreferrer" alt=""><img width="48" height="48" src="Hexo_img/top_img/Hexo博客实时文章排行及访客地图.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-12-26</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/12205/&quot;);" href="javascript:void(0);" rel="external nofollow noreferrer" alt="">hexo-hot-article 实时文章排行及访客地图</a><div class="blog-slider__text">好多人啊？你们在看哪篇呢！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/12205/&quot;);" href="javascript:void(0);" rel="external nofollow noreferrer" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/8779/&quot;);" href="javascript:void(0);" rel="external nofollow noreferrer" alt=""><img width="48" height="48" src="Hexo_img/top_img/Github Actions.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-08-20</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/8779/&quot;);" href="javascript:void(0);" rel="external nofollow noreferrer" alt="">Hexo博客利用Github Action自动化部署</a><div class="blog-slider__text">包含服务器部署，刷新CDN</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/8779/&quot;);" href="javascript:void(0);" rel="external nofollow noreferrer" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/36731/&quot;);" href="javascript:void(0);" rel="external nofollow noreferrer" alt=""><img width="48" height="48" src="Hexo_img/top_img/不被定义的恋爱.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-08-04</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/36731/&quot;);" href="javascript:void(0);" rel="external nofollow noreferrer" alt="">2029 2 12 不被定义的恋爱</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/36731/&quot;);" href="javascript:void(0);" rel="external nofollow noreferrer" alt="">详情       </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>')}for(var elist="undefined".split(","),cpage=location.pathname,epage="/",flag=0,i=0;i<elist.length;i++)cpage.includes(elist[i])&&flag++;("all"===epage&&0==flag||epage===cpage)&&butterfly_swiper_injector_config()</script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script><div class="js-pjax"><script async>for(var arr=document.getElementsByClassName("recent-post-item"),i=0;i<arr.length;i++)arr[i].classList.add("wow"),arr[i].classList.add("animate__zoomIn"),arr[i].setAttribute("data-wow-duration","1.5s"),arr[i].setAttribute("data-wow-delay","200ms"),arr[i].setAttribute("data-wow-offset","30"),arr[i].setAttribute("data-wow-iteration","1")</script><script async>for(var arr=document.getElementsByClassName("card-widget"),i=0;i<arr.length;i++)arr[i].classList.add("wow"),arr[i].classList.add("animate__zoomIn"),arr[i].setAttribute("data-wow-duration",""),arr[i].setAttribute("data-wow-delay",""),arr[i].setAttribute("data-wow-offset",""),arr[i].setAttribute("data-wow-iteration","")</script></div><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js"></script><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js"></script><script data-pjax src="https://jsd.onmicrosoft.cn/gh/Zfour/hexo-github-calendar@1.21/hexo_githubcalendar.min.js"></script><script data-pjax>function GithubCalendarConfig(){var t=document.getElementById("recent-posts");t&&"/"==location.pathname&&(console.log("已挂载github calendar"),t.insertAdjacentHTML("afterbegin",'<div class="recent-post-item" style="width:100%;height:auto;padding:10px;"><div id="github_loading" style="width:10%;height:100%;margin:0 auto;display: block"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"  viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="#d0d0d0" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animateTransform></path></svg></div><div id="github_container"></div></div>')),GithubCalendar("https://hexo-hot-article.zhsher.cn/github_calendar?GC-ZF",["#ebedf0","#f1f8ff","#dbedff","#c8e1ff","#79b8ff","#2188ff","#0366d6","#005cc5","#044289","#032f62","#05264c"],"GC-ZF")}document.getElementById("recent-posts")&&GithubCalendarConfig()</script><style>#github_container{min-height:280px}@media screen and (max-width:650px){#github_container{min-height:0}}</style><style></style></body></html>